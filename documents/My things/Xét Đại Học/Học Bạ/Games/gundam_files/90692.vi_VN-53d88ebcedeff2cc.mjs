(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[90692],{391254:(e,i,t)=>{t.d(i,{Z:()=>o});t(441143);var s=t(785893);class n{static factory(e){return e instanceof n?e:new n(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function o(e){const{css:i,unsafeCSS:t,...o}=e,a=String(i||"")||t||"";return!!a?(0,s.jsx)("style",{...o,dangerouslySetInnerHTML:{__html:String(n.factory(a))}}):null}},134879:(e,i,t)=>{t.d(i,{C:()=>o,V:()=>a});var s=t(667294);const n=(0,s.createContext)(!1),o=n.Provider,a=()=>(0,s.useContext)(n)},723852:(e,i,t)=>{t.d(i,{Z:()=>y});var s=t(667294),n=t(782677),o=t(883119),a=t(214494),r=t(332611),d=t(898781),l=t(349700),c=t(414327),h=t(830157),u=t(327212),_=t(258430),p=t(785893);const g=e=>({duration:5e3,thumbnail:(0,p.jsx)(o.xu,{"data-test-id":"pin-save-toast",width:48,height:48,children:(0,p.jsx)(_.Z,{boardId:e})})});var v=t(499128),m=t(19121);function f({hideToast:e,newPin:i,originalPinId:t}){var s,n;const a=(0,d.ZP)(),r=(0,m.Z)();return(0,p.jsx)(v.ZP,{primaryAction:{accessibilityLabel:a.bt("Thay đổi nút Ghim đã lưu", "Change saved Pin button", "RepinRequest.a11yChangeButton", undefined, true),href:`/pin/${i.id}/repin/?isEditingPin=true&pinBoardId=${null!==(s=null===(n=i.board)||void 0===n?void 0:n.id)&&void 0!==s?s:""}&&isFromToast=true&&originalPinId=${null!=t?t:""}`,label:a.bt("Thay đổi", "Change", "RepinRequest.ChangeButton", undefined, true),size:"lg",onClick:e},duration:5e3,onHide:e,text:(0,p.jsxs)(o.xv,{children:[(0,p.jsx)(o.xv,{inline:!0,children:a.bt("Đã lưu vào ", "Saved to ", "RepinRequest.ProfileSaveToastText", undefined, true)}),(0,p.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,p.jsx)(o.rU,{display:"inlineBlock",href:r.isAuth?`/${r.username}/_saved`:"/",target:"self",underline:"hover",children:a.bt("Hồ sơ", "Profile", "RepinRequest.ProfileSaveToastText.Profile", undefined, true)})})]}),thumbnail:{icon:(0,p.jsx)(o.JO,{accessibilityLabel:a.bt("Hồ sơ", "Profile", "RepinRequest.ProfileIcon", undefined, true),icon:"history",size:22})}})}var b=t(12918),P=t(483025);const I="RepinResource",x=({board:e,section:i})=>{const t=(0,d.ZP)(),n="quick_saves"===(null==e?void 0:e.layout)?t.bt("Hồ sơ", "Profile", "EditPin.Quicksaves.BoardName", undefined, true):e.name;return i?(0,l.nk)(t.bt("Đã lưu vào {{sectionName}} ở {{boardName}}", "Saved to {{sectionName}} in {{boardName}}", "Toast for successfully saving to a section within a board", undefined, true),{sectionName:i&&i.title,boardName:e.name}).join(""):(0,p.jsxs)(s.Fragment,{children:[(0,p.jsx)(o.xv,{color:"default",children:t.bt("Đã lưu vào", "Saved to", "Saved to {{ boardName }}", undefined, true)}),(0,p.jsx)(o.xv,{color:"default",weight:"bold",children:n})]})};class y{constructor({boardId:e,dispatch:i,history:t,isOneTapSave:s=!1,isQuickSave:o=!1,onSuccess:a,onUndo:r,originalPinId:d,pinId:l,section:c,showNewUserSavetoProfileAnimation:u=!1,showRepinToasts:_,trackingParams:p,userId:g,viewType:v,historyPush:m,suggestedBoardIds:f,savePinId:b,pinData:{trackingParams:x,viewParameter:y,pinnedToBoardId:S}}){var T,w,A;A=e=>(0,n.Fv)(e.resource_response.data,P.Z[I]),(w="_getNormalizedResponse")in(T=this)?Object.defineProperty(T,w,{value:A,enumerable:!0,configurable:!0,writable:!0}):T[w]=A,this.boardId=e,this.trackingParams=p,this.clientTrackingParams=(0,h.Z)(p.clientTrackingParams||"",x),this.dispatch=i,this.history=t,this.onSuccess=a,this.onUndo=r,this.originalPinId=d,this.pinId=l,this.pinnedToBoardId=p.pinnedToBoardId||(null!=S?S:""),this.showNewUserSavetoProfileAnimation=u,this.showRepinToasts=_,this.section=c,this.isOneTapSave=s,this.isQuickSave=o,this.userId=g,this.viewType=null!=v?v:3,this.historyPush=m,this.suggestedBoardIds=f,this.savePinId=b,this.pinViewParameter=y}get resourceOptions(){var e;return{pin_id:this.pinId,board_id:this.boardId,section:null===(e=this.section)||void 0===e?void 0:e.id,clientTrackingParams:this.clientTrackingParams,user_id:this.userId}}get trackingData(){return{event_type:5,element:this.isOneTapSave?10599:void 0,view_type:this.viewType,component:this.isOneTapSave?0:7,view_parameter:this.isOneTapSave?3173:this.pinViewParameter,object_id_str:this.pinId,clientTrackingParams:this.clientTrackingParams,aux_data:{board_id:this.pinnedToBoardId,destination_board_id:this.boardId,is_profile_save:!this.boardId,pin_id:this.pinId,suggested_boards:this.suggestedBoardIds}}}_createRepin(){return a.Z.create(I,{...this.resourceOptions,disable_event_log_info:!0}).callCreate()}processRepin(e){return this._createRepin().then((i=>{this.onSuccess&&this.onSuccess();const t=i.resource_response.data,{board:s}=t,{isQuickSave:n,originalPinId:a,showNewUserSavetoProfileAnimation:l}=this,h=({hideToast:e})=>{var i;if(n&&!l)return(0,p.jsx)(f,{hideToast:e,newPin:t,originalPinId:a});const{thumbnail:r}=g(s.id);return(0,p.jsx)(u.Z,{button:(0,p.jsx)(d.oz,{children:e=>(0,p.jsx)(o.zx,{fullWidth:!0,onClick:({event:i})=>{i.preventDefault(),i.stopPropagation();const{onUndo:n}=this;var o;n&&!l?n(this.pinId,t.id,s.id,null===(o=this.section)||void 0===o?void 0:o.id,e):l&&this.historyPush(`/pin/${t.id}/repin/?isEditingPin=true&pinBoardId=${s.id}&&isFromToast=true&&originalPinId=${null!=a?a:""}`)},text:l?e.bt("Sắp xếp", "Organize", "RepinRequest.OrganizeButton", undefined, true):e.bt("Hoàn tác", "Undo", "RepinRequest.UndoButton", undefined, true)})}),href:this.section?`${s.url}${null!==(i=this.section.slug)&&void 0!==i?i:""}`:s.url,isRepinToExistingBoard:!0,onHide:e,text:(0,p.jsx)(x,{board:s,section:this.section}),thumbnail:r})},_=this._getNormalizedResponse(i);if(this.dispatch((0,c.XM)(I,this.resourceOptions,i,_)),this.savePinId(this.resourceOptions.pin_id,t.id),this.originalPinId&&this.originalPinId!==this.resourceOptions.pin_id){const e={...this.resourceOptions,pin_id:this.originalPinId};this.dispatch((0,c.XM)(I,e,i,_)),this.savePinId(this.originalPinId||"",t.id)}this.dispatch((0,b.M)(t.id,s.id,this.section?this.section.id:void 0,this.userId));const{showRepinToasts:v}=this;return v&&v(h),this.dispatch((0,r.fO)({event_type:5})),e(this.trackingData),t}))}}},830157:(e,i,t)=>{function s(e,i){return e||(i?`${i}~0`:"~0")}t.d(i,{Z:()=>s})},574724:(e,i,t)=>{t.d(i,{Hn:()=>h,Jw:()=>g,L7:()=>s,Qc:()=>n,Tt:()=>m,UF:()=>l,UV:()=>a,W1:()=>o,Ws:()=>u,ZW:()=>d,cK:()=>v,cy:()=>p,o4:()=>_,tr:()=>c,vF:()=>r});const s=1,n=2,o="female",a="male",r="unspecified",d="en-US",l="US",c=3,h="has_done_closeup",u="Gender",_="InterestPicker",p="LoadingStep",g="AppInstall",v={NUX_GENDER_STEP_NAME:u,NUX_INTEREST_PICKER_STEP_NAME:_,NUX_LOADING_STEP_NAME:p,NUX_APP_INSTALL_STEP_NAME:g},m=2500},327212:(e,i,t)=>{t.d(i,{Z:()=>k});var s=t(667294),n=t(376030),o=t(883119),a=t(898781),r=t(223815),d=t(829407),l=t(391254),c=t(785893);function h({addedStyles:e,button:i,headerText:t,icon:n,iconOverride:a,minHeight:r,subHeaderText:d}){return(0,c.jsx)(o.xu,{display:"flex",justifyContent:"center",width:"100vw",paddingX:2,children:(0,c.jsxs)(o.xu,{alignContent:"center",alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{boxShadow:"0 3px 6px rgba(0,0,0,0.18)",transform:"translateY(-20px)",...e}},display:"flex",minHeight:r||75,padding:6,position:"relative",rounding:4,width:"100%",children:[(()=>{const e=a||(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)(l.Z,{unsafeCSS:"\n@keyframes baseEduToastIconScale {\n  0% {\n    transform: scale(0)\n  }\n  30% {\n    transform: scale(1.2);\n  }\n  50% {\n    transform: scale(1);\n  }\n}\n"}),(0,c.jsx)(o.xu,{alignItems:"center",color:"education","data-test-id":"pin-save-toast",direction:"column",dangerouslySetInlineStyle:{__style:{animation:"baseEduToastIconScale 3s"}},display:"flex",height:60,justifyContent:"center",minHeight:60,minWidth:60,rounding:"circle",width:60,children:(0,c.jsx)(o.JO,{accessibilityLabel:n.accessibilityLabel,color:n.color,dangerouslySetSvgPath:n.dangerouslySetSvgPath,icon:n.icon,inline:n.inline,size:n.size})})]});return(0,c.jsx)(o.xu,{marginEnd:4,children:e})})(),(0,c.jsxs)(o.xu,{marginEnd:"auto",children:[(0,c.jsx)(o.xv,{color:"default",weight:"bold",children:t}),!!d&&(0,c.jsx)(o.xu,{paddingY:1,children:(0,c.jsx)(o.xv,{size:"300",color:"default",children:d})})]}),(0,c.jsx)(o.xu,{display:"flex",flex:"shrink",marginStart:2,children:i})]})})}var u=t(759929);function _(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}const p=(e,i)=>(e-i)/2,g=200,v=68,m=p(v,68),f=p(v,66),b=p(v,60),P="cubicBezier(0.25, 0.1, 0.25, 1)",I="encourageToastIconContainer",x="encourageToastIconRadiateBg",y="encourageToastIconRadiateRing",S={targets:`#${I}`,duration:300,scale:1.4,easing:P},T={targets:`#${I}`,duration:300,scale:1,easing:P,endDelay:1e3},w={targets:`#${I}`,duration:300,scale:.42,easing:P},A={targets:`#${x}`,duration:400,opacity:0,scale:1.6,easing:P},E={targets:`#${y}`,duration:650,opacity:0,scale:2,easing:P};function j({hiding:e,visible:i}){return i?e?{opacity:0,transform:"scale(1.0)",transition:"opacity transform .2s"}:{opacity:1,transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)"}:Object.freeze({})}class R extends s.PureComponent{constructor(...e){super(...e),_(this,"delayTimer",null),_(this,"requestAnimationFrameId",null),_(this,"playAnimation",(()=>{this.requestAnimationFrameId=window.requestAnimationFrame((()=>{(0,n.Z)(A),(0,n.Z)(E),(0,n.Z)(S).finished.then((()=>{(0,n.Z)(T).finished.then((()=>{n.Z.set(`#${I}`,{transformOrigin:"top right"}),(0,n.Z)(w)}))}))}))})),_(this,"getHeaderText",(()=>{const{text:e}=this.props;return Array.isArray(e)?e[0]:e})),_(this,"getIconProps",(()=>({accessibilityLabel:this.props.i18n.bt("Biểu tượng kiểm tra", "Check icon", "Label for check icon on toast shown after board create", undefined, true),color:"inverse",icon:"check",size:30}))),_(this,"getSubHeaderText",(()=>{const{text:e}=this.props;return e instanceof Array&&e.length>1&&e[1]?e[1]:""})),_(this,"renderAnimatedIcon",(()=>(0,c.jsxs)(o.xu,{height:v,position:"relative",width:v,children:[(0,c.jsx)(o.xu,{"data-test-id":"pin-save-toast",width:60,height:60,overflow:"hidden",position:"absolute",rounding:4,dangerouslySetInlineStyle:{__style:{left:`${b}px`,top:`${b}px`}},children:this.props.thumbnail}),(0,c.jsxs)(o.xu,{id:I,height:v,width:v,dangerouslySetInlineStyle:{__style:{transform:"scale(0)"}},position:"absolute",children:[(0,c.jsx)(o.xu,{color:"infoBase",id:x,width:68,height:68,position:"absolute",rounding:"circle",dangerouslySetInlineStyle:{__style:{left:`${m}px`,top:`${m}px`,transform:"scale(0)"}}}),(0,c.jsx)(o.xu,{id:y,width:66,height:66,position:"absolute",rounding:"circle",opacity:1,dangerouslySetInlineStyle:{__style:{borderWidth:"2px",borderStyle:"solid",borderColor:"#0074e8",left:`${f}px`,top:`${f}px`,transform:"scale(0)"}}}),(0,c.jsx)(o.xu,{alignItems:"center",color:"infoBase",direction:"column",display:"flex",height:v,justifyContent:"center",minHeight:v,minWidth:v,position:"absolute",rounding:"circle",width:v,children:(0,c.jsx)(o.JO,{accessibilityLabel:this.props.i18n.bt("Biểu tượng kiểm tra", "Check icon", "Label for check icon on toast shown after board create", undefined, true),color:"inverse",icon:"check",size:30})})]})]})))}componentDidMount(){this.delayTimer=setTimeout(this.playAnimation,700)}componentWillUnmount(){this.delayTimer&&clearTimeout(this.delayTimer),this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}render(){const{isRepinToExistingBoard:e,button:i}=this.props,t=e;return(0,c.jsx)(h,{button:i,headerText:this.getHeaderText(),icon:this.getIconProps(),iconOverride:t?void 0:this.renderAnimatedIcon(),subHeaderText:this.getSubHeaderText()})}}function k(e){const{duration:i,onHide:t}=e,n=(0,a.ZP)(),[l,h]=(0,s.useState)(!1),[_,p]=(0,s.useState)(!1),v=(0,s.useRef)(),m=()=>{h(!0),v.current=setTimeout(t,g)},f=()=>{v.current&&clearTimeout(v.current)};(0,d.Z)((()=>(setTimeout((()=>p(!0)),100),v.current=setTimeout(m,i||u.w),f)));let b=(0,c.jsx)(R,{...e,i18n:n});return e.href&&(b=(0,c.jsx)(o.rU,{href:e.href,onClick:m,rounding:"pill",tapStyle:"none",children:b})),(0,c.jsx)(r.Z,{children:(0,c.jsx)(o.mh,{children:(0,c.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...j({hiding:l,visible:_})}},justifyContent:"center",position:"fixed",width:"100%",display:"flex",zIndex:u.k,children:b})})})}},662089:(e,i,t)=>{t.d(i,{Z:()=>r});var s=t(702664),n=t(343341),o=t(574724),a=t(639952);function r(){const e=(0,s.useDispatch)(),{showToast:i,showOneToast:t}=(0,n.F9)();return{showToast:i,showOneToast:t,showRepinConfirmation:(t,s)=>{s||e((0,a.WF)()),setTimeout((()=>{s||e((0,a.a5)()),i(t)}),o.Tt)}}}},956800:(e,i,t)=>{function s(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function n(e,i){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:i}}}t.d(i,{EX:()=>a,N8:()=>n,Qv:()=>o,_f:()=>s,vX:()=>r});const o=(e,i,t=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:t,items:i}});function a(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function r(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},12918:(e,i,t)=>{t.d(i,{M:()=>d,i:()=>l});var s=t(782677),n=t(214494),o=t(414327),a=t(90326),r=t(483025);const d=(e,i,t,s)=>({type:"PIN_ADD",payload:{pinId:e,boardId:i,boardSectionId:t,pinnerId:s}}),l=e=>i=>{const{method:t,guid:l,image_base64:c,image_url:h}=e;return((e,i)=>new Promise((t=>{e?(0,a.eR)(e).then((e=>{t(e)})):t(i)})))(c,h).then((a=>{const c={...e,method:"button"!==t||l?t:"button_external",image_url:a,image_base64:void 0},h="PinResource";return n.Z.create(h,c).callCreate().then((e=>{const t=(0,s.Fv)(e.resource_response.data,r.Z[h]);i((0,o.XM)(h,c,e,t));const n=e.resource_response.data,{board:{id:a},pinner:{id:l},section:u}=n,_=u&&u.id;return i(d(n.id,a,_,l)),e}))}))}},139574:(e,i,t)=>{t.d(i,{L:()=>r,q:()=>d});var s=t(214494),n=t(254176),o=t(956800),a=t(492583);function r(e){return i=>{const{inSelectAll:t,selectedPinIds:r,orbacSubjectId:d,source:{boardId:l,sectionId:c}}=e,h=t?"BulkEditSelectAllResource":"BulkEditResource",u={board_id:l,section_id:c,pin_ids:r,orbac_subject_id:d};return i((0,n.xQ)(l)),i((0,o.EX)({feedId:c||l,feedType:c?a.Z.BOARD_SECTION_PINS:a.Z.BOARDFEED,inverseSelection:t,itemIds:r,itemType:"pin"})),s.Z.create(h,u).callDelete()}}const d=({pinId:e,boardId:i,boardSectionId:t,clientTrackingParams:n})=>(o,a)=>{const r=s.Z.create("PinResource",{id:e,client_tracking_params:n}).callDelete(),{session:{userId:d}}=a();return o(((e,i,t,s)=>({type:"PIN_DELETE",payload:{pinId:e,boardId:i,boardSectionId:t,userId:s}}))(e,i,t,d)),r}},850431:(e,i,t)=>{t.d(i,{w:()=>a});var s=t(956800),n=t(723852),o=t(675752);const a=({pinId:e,boardId:i,i18n:t,isQuickSave:a,logContextEvent:r,onSuccess:d,onUndo:l,originalPinId:c,showNewUserSavetoProfileAnimation:h,showRepinConfirmation:u,showToast:_,section:p,trackingParams:g,isOneTapSave:v,viewType:m,historyPush:f,suggestedBoardIds:b,savePinId:P})=>(I,x)=>{var y,S,T,w,A,E;const{pins:j,session:R,feeds:k}=x(),z=j[e];i&&((null===(y=null!==(S=null==z?void 0:z.shopping_flags)&&void 0!==S?S:[])||void 0===y?void 0:y.length)>0||null!=z&&z.rich_summary&&(null===(T=null!==(w=null==z||null===(A=z.rich_summary)||void 0===A?void 0:A.products)&&void 0!==w?w:[])||void 0===T?void 0:T.length)>0)&&(k[`board-shop-saved-preview:${i}`]&&I((0,s.Qv)(`board-shop-saved-preview:${i}`,[z],{isPrepend:!0})),k[`board-shop-saved:${i}`]&&I((0,s.Qv)(`board-shop-saved:${i}`,[z],{isPrepend:!0})));return new n.Z({boardId:i,dispatch:I,i18n:t,isLegoSaveStyle:!0,isOneTapSave:v,isQuickSave:a,onSuccess:d,onUndo:l,originalPinId:c,pinId:z.id,section:p,showNewUserSavetoProfileAnimation:h,showRepinToasts:e=>u?u(e):_?_(e):void 0,trackingParams:g,userId:R.userId,viewType:m,historyPush:f,suggestedBoardIds:b,savePinId:P,pinData:{trackingParams:z.tracking_params,viewParameter:(0,o.A)(z),pinnedToBoardId:null===(E=z.pinned_to_board)||void 0===E?void 0:E.id}}).processRepin(r)}},675752:(e,i,t)=>{t.d(i,{A:()=>s});const s=e=>{const i=e.rich_metadata;return i?i.products?144:i.article?141:i.recipe?145:139:140}},258430:(e,i,t)=>{t.d(i,{Z:()=>a});var s=t(883119),n=t(130460),o=t(785893);function a({boardId:e}){var i;const t=(0,n.gC)()(e),a=null!=t&&t.images&&t.images["170x"]?t.images["170x"][0]:void 0;return e&&a?(0,o.jsx)(s.Ee,{alt:"Pin image",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(i=a.url)&&void 0!==i?i:""}):null}},759929:(e,i,t)=>{t.d(i,{k:()=>a,w:()=>o});var s=t(883119),n=t(379764);const o=2e3,a=new s.H3([n.Z])}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/90692.vi_VN-53d88ebcedeff2cc.mjs.map