(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[60568,39395],{850115:e=>{e.exports="https://s.pinimg.com/webapp/goodIdea-b770896d.svg"},379507:e=>{e.exports="https://s.pinimg.com/webapp/haha-e2800d2d.svg"},637956:e=>{e.exports="https://s.pinimg.com/webapp/love-c31e0b8d.svg"},909745:e=>{e.exports="https://s.pinimg.com/webapp/thanks-62775475.svg"},128206:e=>{e.exports="https://s.pinimg.com/webapp/wow-3cb697ef.svg"},695014:(e,i,n)=>{n.d(i,{Z:()=>d});var t=n(667294),o=n(702664),a=n(883119),s=n(898781),r=n(616211),l=n(186656);var c=n(785893);function d({favorited:e,favoriteCount:i,isCloseupButton:n,onFavorite:d,onUnfavorite:_,pinId:u,size:p}){const h=(0,s.ZP)(),m=(0,o.useDispatch)(),[g,f]=(0,t.useState)(!1),[v,y]=(0,t.useState)(e),[P,x]=(0,t.useState)(null!=i?i:0),b=async()=>{var e;y(!v),f(!0),v?(x(P-1),await m((e=u,async i=>{await(0,l.Z)({url:`/v3/pins/${e}/favorite/`,method:"DELETE"}),i(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:-1,value:!1}}}(e))})),_(),f(!1)):(x(P+1),await m(function(e){return async i=>{await(0,l.Z)({url:`/v3/pins/${e}/favorite/`,method:"POST"}),i(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:1,value:!0}}}(e))}}(u)),d(),f(!1))},S=P<10?P:h.bt("9+", "9+", "favoriteButton.favoriteCountText", undefined, true);return(0,c.jsxs)(a.kC,{alignItems:"center",gap:{row:1,column:0},children:[void 0!==i&&P>0&&(0,c.jsx)(a.xv,{size:"200",weight:"bold",children:S}),(0,c.jsx)(r.Z,{isCloseupButton:n,isDisabled:g,isFavorited:v,onTap:()=>{b()},size:p})]})}},578722:(e,i,n)=>{n.d(i,{H1:()=>c,HW:()=>a,iL:()=>l,pN:()=>r,s_:()=>s});var t=n(773285),o=n(19121);const a=new Date(2022,1,1);function s(){const{checkExperiment:e}=(0,t.F)(),i=["enabled_public","employees"].includes(e("web_ip_plays",{dangerouslySkipActivation:!0}).group),n=e("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled,o=e("android_ios_web_ip_plays_dark_reads").anyEnabled;return i||n||o}function r({isOwnPin:e,isStoryPin:i,pinCreationDate:n,surface:s}){const r=(0,o.Z)(),{checkExperiment:l}=(0,t.F)(),c=l("web_play_playtime_pin_stats",{dangerouslySkipActivation:!0}).anyEnabled,d=!!("CreatorProfileStoryPinGrid"===s&&i&&n&&n.getTime()>=a.getTime()&&c&&r.isPartner&&e)&&l("web_ip_plays").anyEnabled,_=["enabled_public","employees"].includes(l("web_ip_plays",{dangerouslySkipActivation:!0}).group);if("CreatorProfileStoryPinGrid"===s&&i&&n&&n.getTime()>=a.getTime()){if(r.isPartner)return e&&d||!e&&_;if(l("web_ip_pinner_plays").anyEnabled)return!0}return!1}function l({isOwnPin:e,isPartner:i}){const{checkExperiment:n}=(0,t.F)(),o=["enabled_public","employees"].includes(n("web_ip_plays",{dangerouslySkipActivation:!0}).group),a=n("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled;return!(e||!(a&&!i||o&&i))}function c({isOwnPin:e,isPartner:i}){const{checkExperiment:n}=(0,t.F)(),o=n("web_ip_plays",{dangerouslySkipActivation:!0}).anyEnabled,a=n("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled;return!(!e||!(o&&i||a&&!i))}},955362:(e,i,n)=>{n.r(i),n.d(i,{default:()=>y});var t=n(667294),o=n(702664),a=n(883119),s=n(705147),r=n(898781),l=n(205202),c=n(248975),d=n(623568),_=n(883561),u=n(199387),p=n(576440),h=n(447948),m=n(116674),g=n(785893);const f=50,v=60;function y({feedbackData:e,feedbackType:i,pin:n,pinTitle:y,setForcePrimary:P,transparentBackground:x}){var b,S;const T=(0,r.ZP)(),w=(0,o.useDispatch)(),{viewParameter:A,viewType:I}=(0,p.E)(),{reportPin:E}=(0,m.f)(),[R,C]=(0,t.useState)(!1),[k,j]=(0,t.useState)(),{ad_match_reason:O,show_ad_reasons:N,board:D,category:z,description:B,id:L="",images:M,is_promoted:Z,pinner:G,promoter:F,recommendation_reason:V,source_interest:U,videos:H}=n;var W;const Y=(W=Z?v:f,function(e){return(0,_.ZP)((e||"").trim(),W)})(null!=B?B:""),$=(0,l.Z)(M,"236x"),X=(0,d.iR)(H),q=(0,u.Z)(101,{component:0,element:981,object_id_str:L,aux_data:{feedback_type:i}}),K=()=>{N||(P(!1),w((0,h.i0)(L)),C(!1))};return(0,g.jsxs)(t.Fragment,{children:[(0,g.jsx)(a.xu,{"data-test-id":"feedback-button",ref:j,children:(0,g.jsx)(a.hU,{accessibilityLabel:T.bt("Thông tin khác", "More information", "accessibility label for overflow menu button", undefined, true),bgColor:x?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:()=>{R?K():(P(!0),C(!0)),q()},size:"sm"})}),R&&(0,g.jsx)(a.xu,{onFocus:e=>e.stopPropagation(),children:(0,g.jsx)(s.Z,{anchor:k,ad_match_reason:O,bestPinImgSrc:(0,c.Z)({images:n.images,embedSrc:null===(b=n.embed)||void 0===b?void 0:b.src,embedType:null===(S=n.embed)||void 0===S?void 0:S.type}),board:D,feedbackData:e,feedbackType:i,hideDownload:X,isPromoted:Z,onLinkClick:()=>{R&&K()},onDismiss:K,onHide:K,onDownloadHideFlyout:()=>{P(!1),C(!1)},pinCategory:z,pinDescription:Y,pinId:L,pinImgSrc:$,pinner:G,pinTitle:y,promoter:F,recommendationReason:V,reportPin:()=>{E(n,A,I),K()},sourceInterest:U,viewParameter:A,viewType:I})})]})}},705147:(e,i,n)=>{n.d(i,{Z:()=>A});var t=n(667294),o=n(702664),a=n(616550),s=n(883119),r=n(827896),l=n(407043),c=n(898781),d=n(349700),_=n(55275),u=n(680046),p=n(760372),h=n(813401),m=n(149230),g=n(567316),f=n(379884),v=n(852964),y=n(814197),P=n(920085),x=n(447948),b=n(350118),S=n(785893);function T(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}class w extends t.Component{constructor(e){super(e),T(this,"getRecommendationDescription",(()=>{const{i18n:e,ad_match_reason:i,board:n,feedbackType:t,pinner:o,promoter:a,recommendationReason:s,sourceInterest:r}=this.props,l={i18n:e,makeNavigateLink:this.makeNavigateLink};switch(t){case"pfy":return(0,u.Ud)({...l,feedback:{type:"pfy"}});case"pfyBoard":return(0,u.Ud)({...l,feedback:{type:"pfyBoard",recommendationReasonBoard:(null==s?void 0:s.board)&&{name:s.board.name,url:s.board.url}}});case"topic":return(0,u.Ud)({...l,feedback:{type:"topic",sourceInterest:r&&r.name&&r.url_name?{name:r.name,url_name:r.url_name}:null}});case"followed":return(0,u.Ud)({...l,feedback:{type:"followed",followed:o&&o.explicitly_followed_by_me?{type:"pinner",pinner:o.full_name?{full_name:o.full_name,username:o.username}:null}:{type:"board",board:n&&n.name&&n.url?{name:n.name,url:n.url}:null}}});case"promoted":return(0,u.Ud)({...l,feedback:{type:"promoted",promoter:!i&&a&&a.full_name?{full_name:a.full_name,username:a.username}:null}});default:return null}})),T(this,"getRecommendationDescriptionImage",(()=>{const{board:e,feedbackType:i,pinner:n,recommendationReason:t}=this.props;if("followed"!==i&&"pfyBoard"!==i)return null;let o,a,r;return n&&n.explicitly_followed_by_me?(o=n.image_small_url,a="50%",r=`/${n.username}`):e&&e.image_thumbnail_url&&(o=e.image_thumbnail_url,a="4px",r=t&&t.board&&t.board.url||e.url),o?(0,S.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:a}},flex:"none",marginStart:3,overflow:"hidden",children:(0,S.jsx)(s.iP,{onTap:()=>{var e;return this.props.history.push(null!==(e=r)&&void 0!==e?e:"")},children:(0,S.jsx)(s.zd,{height:40,wash:!0,width:40,children:(0,S.jsx)(s.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:o})})})}):null})),T(this,"getUnfollowAction",(()=>{const{board:e,feedbackType:i,i18n:n,pinner:t,sourceInterest:o}=this.props;switch(i){case"followed":return t&&e?(0,u.oK)({i18n:n,makeNavigateLink:this.makeNavigateLink,boardId:e.id,display:t.explicitly_followed_by_me?{type:"pinner",data:{full_name:t.full_name,username:t.username}}:{type:"board",data:{name:e.name,url:e.url}}}):null;case"topic":if(!o)return null;const{id:i,name:a,url_name:s}=o;return i&&a&&s?(0,u.Iv)({i18n:n,makeNavigateLink:this.makeNavigateLink,sourceInterest:{id:i,name:a,url_name:s}}):null;default:return null}})),T(this,"getUndoText",(e=>"unfollowPinner"===e||"unfollowBoard"===e?this.props.i18n.bt("Theo dõi lại", "Follow again", "Caption for button to undo a unfollowing of a topic", undefined, true):"")),T(this,"makeNavigateLink",((e,i,n,t)=>(0,S.jsx)(s.rU,{onClick:this.props.onLinkClick,href:i,display:"inlineBlock",underline:"hover",children:(0,S.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:t?{display:"inline",color:"white",textDecorationColor:"white"}:{display:"inline"}},children:n})},e))),T(this,"reportPinOption",(()=>({action:"reportPin",elementType:974,text:this.props.i18n.bt("Báo cáo Ghim", "Report Pin", "Report a pin in the dropdown", undefined, true),description:this.props.i18n.bt("Ghim này không tuân thủ nguyên tắc cộng đồng của Pinterest", "This goes against Pinterest's community guidelines", "Description for the report pin option", undefined, true),callback:this.props.reportPin,dataTestId:"report-pin-option"}))),T(this,"hidePinOption",(e=>{const{clientTrackingParams:i,feedbackData:n,feedbackType:t,pinId:o,recommendationReason:a}=this.props,s="search"===t?973:982,{action:r,actionOptions:l}=(0,u.fJ)({feedbackData:n,feedbackType:t,pinId:o,recommendationReasonId:(0,v.Z)(a),pinFeedbackType:"pfy"===t?4:10,throughId:a&&(0,u.yl)(a),throughProperties:a&&(0,u.XZ)(a),clientTrackingParams:i(o)}),c=this.props.i18n.bt("Ẩn Ghim", "Hide Pin", "message displayed in pin feedback list", undefined, true);return{action:r,actionOptions:l,feedbackText:this.pinHiddenFeedbackText(e),text:c,description:this.props.i18n.bt("Xem ít Ghim tương tự hơn", "See fewer Pins like this", "Description for the hide pin option", undefined, true),elementType:s}})),T(this,"stopRecommendationOption",(()=>{const{clientTrackingParams:e,feedbackData:i,feedbackType:n,pinId:t,recommendationReason:o}=this.props,{board:a}=null!=o?o:{},s=(0,v.Z)(o),r=o&&(0,u.yl)(o),l=o&&(0,u.XZ)(o),c="pfyBoard"===n,{action:_,actionOptions:p}=(0,u.fJ)({feedbackData:i,feedbackType:n,pinId:t,recommendationReasonId:s,pinFeedbackType:c?2:4,throughId:r,throughProperties:l,clientTrackingParams:e(t)}),h=a?this.makeNavigateLink("boardUrl",a.url,a.name,!0):"";return{action:_,actionOptions:p,feedbackText:{subTitle:c&&a?(0,d.nk)(this.props.i18n.bt("Chúng tôi sẽ không hiển thị Ghim lấy cảm hứng từ bảng {{ formattedBoard }} của bạn nữa.", "We won't show you Pins inspired by your board {{ formattedBoard }} anymore.", "Primary caption displayed in pin feedback list to unfollow a board", undefined, true),{formattedBoard:h}):this.props.i18n.bt("Đã hiểu! Chúng tôi sẽ không hiển thị cho bạn các Ghim như thế này trong tương lai.", "Got it! We won't show you Pins like this in the future.", "message displayed after stopping recommendations from a pin", undefined, true)},text:c&&a?(0,d.nk)(this.props.i18n.bt("Ngừng xem Ghim lấy cảm hứng từ {{ boardName }}", "Stop seeing Pins inspired by {{ boardName }}", "Primary caption displayed in pin feedback list to unfollow a board", undefined, true),{boardName:a.name}):this.props.i18n.bt("Xem ít Ghim tương tự hơn", "See fewer Pins like this", "Feedback option to stop recommendations inspired by this Pin", undefined, true),elementType:284}})),T(this,"unfollowBoardOption",(()=>{var e,i;const{board:n}=this.props,t=n?this.makeNavigateLink("boardUrl",null!==(e=n.url)&&void 0!==e?e:"",null!==(i=n.name)&&void 0!==i?i:"",!0):"",o=(0,d.nk)(this.props.i18n.bt("Hủy theo dõi {{ boardName }}", "Unfollow {{ boardName }}", "Primary caption displayed in pin feedback list to unfollow a board", undefined, true),{boardName:null==n?void 0:n.name}),a=(0,d.nk)(this.props.i18n.bt("Đã hiểu! Bạn đã hủy theo dõi {{ formattedBoard }} và sẽ không thấy các Ghim được lưu vào đó trong tương lai.", "Got it! You unfollowed {{ formattedBoard }} and won't see Pins saved to it in the future.", "Confirmation text after unfollowing a board", undefined, true),{formattedBoard:t});return{action:"unfollowBoard",actionOptions:{board_id:null==n?void 0:n.id},feedbackText:{title:"",subTitle:a},text:o,description:(0,d.nk)(this.props.i18n.bt("Ngừng xem Ghim từ bảng \"{{ boardName }}\"", "Stop seeing Pins from the board \"{{ boardName }}\"", "Secondary caption displayed in pin feedback list to unfollow a board", undefined, true),{boardName:null==n?void 0:n.name}),elementType:10614}})),T(this,"unfollowTopicOption",(()=>{const{sourceInterest:e}=this.props;if(e){const{id:i,name:n="",url_name:t=""}=e,o=`/topics/${t}`,a=this.makeNavigateLink("topicUrl",o,n,!0),s=(0,d.nk)(this.props.i18n.bt("Xem ít Ghim từ {{ topicName }} hơn", "See fewer Pins from {{ topicName }}", "Primary caption displayed in pin feedback list to unfollow a topic", undefined, true),{topicName:n}),r=(0,d.nk)(this.props.i18n.bt("Chúng tôi sẽ hiển thị ít Ghim từ {{ formattedTopic }} hơn trong tương lai.", "We'll show you fewer Pins from {{ formattedTopic }} in the future.", "Confirmation text after unfollowing a topic", undefined, true),{formattedTopic:a});return{action:"unfollowTopic",actionOptions:{interest_id:i,interest_list:p.X},feedbackText:{title:"",subTitle:r},text:s,description:(0,d.nk)(this.props.i18n.bt("Ngừng xem Ghim từ chủ đề \"{{ topicName }}\"", "Stop seeing Pins from the topic \"{{ topicName }}\"", "Secondary caption displayed in pin feedback list to unfollow a topic", undefined, true),{topicName:e.name}),elementType:976}}return null})),T(this,"unfollowUserOption",(()=>{const{pinner:e}=this.props,{id:i,username:n,full_name:t}=null!=e?e:{},o=`/${n}`,a=e?this.makeNavigateLink("pinnerUrl",o,null!=t?t:"",!0):"";return{action:"unfollowPinner",actionOptions:{user_id:i},feedbackText:{title:"",subTitle:(0,d.nk)(this.props.i18n.bt("Đã hiểu! Bạn đã hủy theo dõi {{ formattedUser }} và sẽ không thấy các Ghim họ lưu trong tương lai.", "Got it! You unfollowed {{ formattedUser }} and won't see Pins they save in the future.", "Confirmation text after unfollowing a user", undefined, true),{formattedUser:a})},text:(0,d.nk)(this.props.i18n.bt("Hủy theo dõi {{ fullName }}", "Unfollow {{ fullName }}", "Primary caption displayed in pin feedback list to unfollow a user", undefined, true),{fullName:t}),description:this.props.i18n.bt("Ngừng xem tất cả Ghim của họ", "Stop seeing all their Pins", "Secondary caption displayed in pin feedback list to unfollow a user", undefined, true),elementType:10640}})),T(this,"downloadPinOption",(()=>({action:"downloadPin",text:this.props.i18n.bt("Tải hình ảnh xuống", "Download image", "Button to download Pin image", undefined, true),elementType:10836}))),T(this,"_pinFeedbackText",(()=>{var e,i,n,t;const{location:o,feedbackType:a,hideDownload:s,pinner:r}=this.props,l="followed"===this.props.feedbackType,c=o.pathname.includes("following"),d=(l||"topic"===a)&&!c,_=this.hidePinOption(d),u=this.reportPinOption(),p="promoted"!==a&&!s;switch(a){case"followed":const o=c,s=!o&&this.getRecommendationDescription(),l=null!=r&&r.explicitly_followed_by_me?this.unfollowUserOption():this.unfollowBoardOption();return{...s?{description:s}:{},options:[_,...d||o?[l]:[],..."promoted"!==a?[this.downloadPinOption()]:[],u]};case"promoted":const{pinId:h,showAdReasonsModal:m}=this.props,g=[_,{dataTestId:"why-am-i-seeing-this-ad-reasons",action:"showAdReasons",text:this.props.i18n.bt("Tại sao tôi thấy quảng cáo này?", "Why am I seeing this ad?", "app.common.react.components.PinFeedbackDropdown.adReasonText", undefined, true),callback:()=>{m(h)}},u];return{description:null!==(e=this.getRecommendationDescription())&&void 0!==e?e:void 0,options:g};case"topic":const f=this.unfollowTopicOption(),v=[_,...d&&f?[f]:[],...p?[this.downloadPinOption()]:[],u];return{description:null!==(i=this.getRecommendationDescription())&&void 0!==i?i:void 0,options:v};case"pfy":case"pfyBoard":const y=[_,..."pfyBoard"===a?[this.stopRecommendationOption()]:[],...p?[this.downloadPinOption()]:[],u];return{description:null!==(n=this.getRecommendationDescription())&&void 0!==n?n:void 0,options:y};default:const P=[_,...p?[this.downloadPinOption()]:[],u];return{description:null!==(t=this.getRecommendationDescription())&&void 0!==t?t:void 0,options:P}}})),T(this,"pinHiddenFeedbackText",(e=>{const{isPromoted:i,promoter:n}=this.props,t=e?null:this.getUnfollowAction();return i&&null!=n&&n.full_name?{title:"",subTitle:(0,d.nk)(this.props.i18n.bt("{{ promoter }} đã trả tiền để Ghim này xuất hiện ở nơi bạn có nhiều khả năng chú ý hơn.", "{{ promoter }} has paid to have this pin show up where you'd be more likely to notice it.", "webapp.app.pinFeedbackDropdown.promotedFeedbackText.subtitle", undefined, true),{promoter:n.full_name})}:t?{title:"",subTitle:this.getRecommendationDescription(),unfollow:t}:{title:"",subTitle:this.props.i18n.bt("Đã hiểu! Chúng tôi sẽ không hiển thị Ghim này cho bạn trong tương lai.", "Got it! We won't show you this Pin in the future.", "message displayed after hiding a pin", undefined, true)}}));const i=this._pinFeedbackText();this.state={pinFeedbackConfig:i,showSecondary:!1}}onPinFeedbackActionButtonClick(e,i,n){e.stopPropagation(),i.auxData?this.handleClickLogging(i.elementType,i.auxData):this.handleClickLogging(i.elementType),(0,_.t)(i.action,i.actionOptions,n)}onPinHide(e,i,n,t){const{hidePinFeedback:o,onHide:a,pinId:s,showPinFeedback:r,showPinFeedbackOverlay:l,showPinFeedbackUndo:c,viewParameter:d,viewType:_,logContextEvent:p}=this.props;i&&n&&t?c(s,e,(0,u.EF)(n,t,s,_,d,o,p),this.getUndoText(t)):r(s,e),!n||n.promoted||10!==n.feedback_type&&4!==n.feedback_type?a():(this.setState({showSecondary:!0}),l(s))}handleClickLogging(e,i={}){const{feedbackType:n,viewParameter:t,viewType:o,logContextEvent:a}=this.props;a({event_type:101,view_type:o,view_parameter:t,element:e,component:(0,u.nb)(n),aux_data:{...i}})}renderButtons(){const{hideDownload:e,onDownloadHideFlyout:i,pinId:n,viewType:t,viewParameter:o,logContextEvent:a,isWindowsPwa:r}=this.props,{pinFeedbackConfig:l}=this.state,{options:c}=l,d=[],u=c.length;for(let p=0;p<u;p+=1){const l=c[p],u=_.P.includes(l.action),h=l.callback?l.callback:()=>this.onPinHide(l.feedbackText,u,l.actionOptions,l.action);if("downloadPin"!==l.action){const e=(0,m.Z)({url:l.link||""});let i="";Array.isArray(l.text)?i=l.text.join(""):"string"!=typeof l.text&&"number"!=typeof l.text||(i=l.text.toString()),d.push(l.link?(0,S.jsx)(s.Lt.Link,{href:l.link,isExternal:e,option:{value:l.action||"",label:i},dataTestId:l.dataTestId||""}):(0,S.jsx)(s.Lt.Item,{onSelect:({event:e})=>this.onPinFeedbackActionButtonClick(e,l,h),option:{value:l.action||"",label:i},dataTestId:l.dataTestId||""}))}else if(!e&&!1===r){const{bestPinImgSrc:e,pinTitle:r,pinDescription:l,pinCategory:c}=this.props;d.push((0,S.jsx)(s.Lt.Item,{onSelect:()=>{(0,P.Z)({category:c,filename:r||l,imageDownloadSuccessCallback:()=>{i&&i()},imgSrc:e,pinId:n,viewParameter:o,viewType:t},a)},option:{value:"downloadImage",label:this.props.i18n.bt("Tải hình ảnh xuống", "Download image", "pinRep.pinFeedbackDropdown.downloadImage", undefined, true)}}))}}return d}render(){const{pinFeedbackConfig:e,showSecondary:i}=this.state,{anchor:n,onDismiss:o,feedbackData:a,feedbackType:r,hideAdReasonsModal:l,pinId:c,onHide:d,recommendationReason:_,showAdReasons:u,viewParameter:p,viewType:h}=this.props,{description:m}=e,v=this.getRecommendationDescriptionImage();return(0,S.jsxs)(t.Fragment,{children:[i?(0,S.jsx)(f.Z,{anchor:n,feedbackData:a,feedbackType:r,pinId:c,onDismiss:o,onHide:d,recommendationReason:_,viewParameter:p,viewType:h}):(0,S.jsx)(s.Lt,{anchor:n,id:"pin-action-dropdown",idealDirection:"down",onDismiss:o,zIndex:y.lI,headerContent:m&&(0,S.jsxs)(s.kC,{alignItems:"center",children:[(0,S.jsx)(s.xu,{"data-pin-recommendation-reason":null==_?void 0:_.reason,maxHeight:56,overflow:"hidden",children:(0,S.jsx)(s.xv,{color:"default",overflow:"normal",size:"200",children:m})}),v]}),children:this.renderButtons()}),u&&(0,S.jsx)(g.ZP,{onDismiss:()=>l(c),pinId:c})]})}}function A(e){const{logContextEvent:i}=(0,l.v)(),n=(0,r.Z)(),t=(0,c.ZP)(),s=(0,b.S6)()(e.pinId),{ad_targeting_attribution:d,show_ad_reasons:_=!1}=null!=s?s:{},u=(0,h.kf)(),p=(0,o.useDispatch)();return(0,S.jsx)(w,{...e,clientTrackingParams:n,showAdReasons:_,adTargetingAttribution:d,history:(0,a.useHistory)(),i18n:t,isWindowsPwa:u,location:(0,a.useLocation)(),logContextEvent:i,hidePinFeedback:e=>p((0,x.I1)(e)),showPinFeedback:(e,i)=>p((0,x.q1)(e,i)),showPinFeedbackOverlay:e=>p((0,x.Ib)(e)),showPinFeedbackUndo:(e,i,n,t)=>p((0,x.NA)({id:e,text:i,undoAction:n,undoText:t})),showAdReasonsModal:e=>p((0,x.b9)(e)),hideAdReasonsModal:e=>p((0,x.yj)(e))})}},60568:(e,i,n)=>{n.d(i,{Z:()=>Tt});var t=n(667294),o=n(702664),a=n(616550),s=n(883119),r=n(512076),l=n(578722),c=n(319915),d=n(898781),_=n(241244),u=n(780280),p=n(947599),h=n(50286),m=n(768559),g=n(35495),f=n(699825),v=n(287072),y=n(199387),P=n(576440),x=n(89254);function b(e,i){const{carousel_data:n,domain:t,ad_destination_url:o}=e;let a=t||"";return o&&(a=(0,x.Z)(o).hostname||""),n&&n.id&&(a=function(e,i){const n=i||e&&e.index||0,t=e&&e.carousel_slots||[],o=t[n]&&t[n].link||"";return o&&(0,x.Z)(o).hostname||""}(n,i)),a.replace("www.","")}var S=n(785893);const T={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}};function w({pin:e,sourceLinkStyle:i,surface:n,url:o}){var r,l;const c=(0,d.ZP)(),[_,u]=(0,t.useState)(!1),{id:p}=e,h=b(e),x=(0,a.useLocation)(),w=(0,g.Kl)(e)||{},{slotIndex:A}=(0,P.E)(),I=(0,m.Z)({boardUrl:null===(r=e.board)||void 0===r?void 0:r.url,callToCreateSourcePinId:e.call_to_create_source_pin_id,location:x,pinId:e.id,pinnerUserName:null===(l=e.pinner)||void 0===l?void 0:l.username,storyPinDataId:e.story_pin_data_id,trackingParams:e.tracking_params,trackingParamsMap:e.tracking_params_map}),E=(0,y.Z)(12,{object_id_str:p,clientTrackingParams:I,aux_data:{grid_index:A,...(0,g.Kl)(e)||{}}}),R=(0,y.Z)(101,{element:162,object_id_str:p,clientTrackingParams:I,aux_data:{...(0,g.Kl)(e)||{}}}),C=(0,y.Z)(8948,{object_id_str:p,clientTrackingParams:I,aux_data:{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:A,...(0,g.Kl)(e)||{}}}),k=()=>{E(),R(),C()},j=(0,v.Z)({href:o,target:"blank",externalData:{auxData:w,pin:e,surface:n}});return"icon-only"===i?(0,S.jsx)(s.hU,{accessibilityLabel:c.bt("liên kết", "link", "Website url link", undefined, true),bgColor:"white",href:o,icon:"arrow-up-right",iconColor:"darkGray",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),k(),j({event:e})},role:"link",rel:"nofollow",size:"sm"}):(0,S.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{...T.container,..._?T.containerHovered:Object.freeze({}),..."truncated-text"===i?T.containerTruncated:Object.freeze({})}},"data-test-id":"pinrep-source-link",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),position:"relative",children:(0,S.jsx)(f.Z,{hovered:_,pin:e,slotIndex:A,viewType:1,children:(0,S.jsx)(s.iP,{fullWidth:!1,href:o,onTap:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),k(),j({event:e})},rel:"nofollow",role:"link",rounding:4,children:(0,S.jsxs)(s.xu,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:T.text},display:"flex",justifyContent:"between",children:[(0,S.jsx)(s.xu,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3,children:(0,S.jsx)(s.JO,{accessibilityLabel:c.bt("liên kết", "link", "Website url link", undefined, true),color:"default",icon:"arrow-up-right",size:9})}),(0,S.jsx)(s.xu,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden",children:(0,S.jsx)(s.xv,{color:"default",size:"200",weight:"bold",lineClamp:1,children:h})})]})})})})}var A=n(538232),I=n(95551);const E=(0,t.lazy)((()=>Promise.all([n.e(97270),n.e(47424),n.e(27982),n.e(58209),n.e(48035)]).then(n.bind(n,43819)))),R=(0,t.lazy)((()=>Promise.resolve().then(n.bind(n,955362)))),C=(0,t.lazy)((()=>Promise.all([n.e(97270),n.e(27021),n.e(5035)]).then(n.bind(n,351326))));const k=({pinId:e})=>{const{onSendButtonClick:i}=(0,A.R)(),n=(0,y.Z)(101,{element:72,object_id_str:e});return(0,S.jsx)(I.Z,{onSendButtonClick:i,trackShareTap:n,size:"sm",bgColor:"white"})},j=(0,t.memo)((function({actionBarEditBeforeShare:e,feedbackData:i,feedbackType:n,layout:o,onToggleFlyout:a,pin:l,pinTitle:m,setForcePrimary:g,showEditButton:f,showOverflowMenu:v,showShareButton:y,showSourceLinkButton:x,sourceLinkStyle:b,surface:T}){var A,I;const j=(0,d.ZP)(),O=(0,s.JZ)(),{isRTL:N}=(0,u.B)(),D=!(0,h.HG)(),{viewParameter:z,viewType:B}=(0,P.E)(),{carousel_data:L,id:M,savedInfo:Z,tracked_link:G,link:F,ad_destination_url:V}=l,U=null!==(A=null!==(I=null!=V?V:G)&&void 0!==I?I:F)&&void 0!==A?A:"",{showLeadPinStdAlpha:H}=(0,r.Z)(l),[W,Y]=(0,t.useState)(f),[$,X]=(0,t.useState)(f),[q,K]=(0,t.useState)(f),J={...N?{marginLeft:f&&v?-44:0}:{marginRight:f&&v?-44:0},transition:N?"margin-left .2s ease-in-out":"margin-right .2s ease-in-out"},Q={opacity:q?1:0,transition:"opacity .2s ease-in-out",pointerEvents:"auto"},ee={...N?{marginRight:$?4:0}:{marginLeft:$?4:0},transition:N?"margin-right .2s ease-in-out":"margin-left .2s ease-in-out"};(0,t.useEffect)((()=>{let e;return f&&v?(X(!0),e=setTimeout((()=>{requestAnimationFrame((()=>{Y(!0),requestAnimationFrame((()=>{K(!0)}))}))}),800)):(X(f),Y(f),requestAnimationFrame((()=>{K(f)}))),()=>{clearTimeout(e)}}),[f,v]);let ie=null;if(x){const e=`/pin/${M}`;ie=(0,S.jsx)(_.Z,{children:H?(0,S.jsx)(s.zx,{role:"link",accessibilityLabel:j.bt("Liên kết để xem cận cảnh và tìm hiểu thêm", "Link for closeup view and learn more", "[m10n] pinRep.actionBar.learnMore", undefined, true),size:"sm",href:e,text:j.bt("Tìm hiểu thêm", "Learn more", "[m10n] pinRep.actionBar.learnMore", undefined, true)}):(0,S.jsx)(w,{pin:l,sourceLinkStyle:b,surface:T,url:U})})}const ne=y&&(0,S.jsx)(c.Z,{name:"SafeSuspense_PinRep_SendShareLink",children:(0,S.jsx)(p.Z,{children:(0,S.jsx)(s.xu,{"data-test-id":"send-share-link",children:(0,S.jsx)(_.Z,{children:D?(0,S.jsx)(k,{pinId:l.id}):(0,S.jsx)(C,{pin:l,setForcePrimary:g})})})})}),te=Boolean(null==Z?void 0:Z.localPinId)?null==Z?void 0:Z.localPinId:M,oe=W&&(0,S.jsx)(c.Z,{name:"SafeSuspense_PinRep_EditButton",children:(0,S.jsx)(p.Z,{children:(0,S.jsx)(s.xu,{"data-test-id":"edit-button",dangerouslySetInlineStyle:O?void 0:{__style:Q},children:(0,S.jsx)(_.Z,{children:(0,S.jsx)(E,{carouselSlotCurrentIndex:L&&L.index,component:0,onToggleModal:a,pinId:te,style:{size:"sm"},view:B,viewParameter:z,useLegoStyles:!0})})})})});return"equally-spaced"===o?(0,S.jsxs)(s.xu,{display:"flex",justifyContent:"between",alignItems:"center",padding:3,children:[(0,S.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{flexBasis:32}},children:ie}),e?oe:ne,e?ne:oe]}):(0,S.jsxs)(s.xu,{alignItems:"center",display:"flex",padding:3,children:[(0,S.jsx)(s.xu,{flex:"shrink",children:ie}),(0,S.jsx)(s.xu,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto",dangerouslySetInlineStyle:O?void 0:{__style:J},children:(0,S.jsxs)(s.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"end",children:[e?oe:ne,e?ne:oe,v&&(0,S.jsx)(c.Z,{name:"SafeSuspense_PinRep_OverflowMenu",children:(0,S.jsx)(p.Z,{children:(0,S.jsx)(s.xu,{"data-test-id":"overflow-menu-button",dangerouslySetInlineStyle:O?void 0:{__style:ee},children:(0,S.jsx)(_.Z,{children:(0,S.jsx)(R,{feedbackData:i,feedbackType:n,pin:l,pinTitle:m,setForcePrimary:g})})})})})]})})]})}));var O=n(695014),N=n(221263),D=n(407043),z=n(333312),B=n(19121),L=n(676464),M=n(956800),Z=n(492583),G=n(852025),F=n(596493);const V=312,U=20;function H({board:e,favoriteCount:i,favorited:n,pinId:a}){const{logContextEvent:r}=(0,D.v)(),l=(0,o.useDispatch)(),{slotIndex:c}=(0,P.E)(),{currentFilter:d,eligibleFilters:_,refreshData:u=(()=>{}),sectionId:p,setShowExperienceTooltip:h}=(0,G.s)(),m=(0,t.useRef)(null),g=(0,B.Z)(),f=(0,N.Z)(g,e),v=d===F.Ac&&(!i||1===i),y=(0,L.E)(_,F.Ac),x=e=>{r({event_type:101,component:0,element:e?12225:12226,object_id_str:a,view_type:5,view_parameter:f?3069:3070})};return(0,S.jsxs)(t.Fragment,{children:[(0,S.jsx)(s.xu,{ref:m,children:(0,S.jsx)(O.Z,{favorited:n,favoriteCount:i,onFavorite:()=>{x(!0),y&&u(),h&&h(!0)},onUnfavorite:()=>{x(!1),e&&v&&l((0,M.EX)({feedId:p||e.id,feedType:p?Z.Z.BOARD_SECTION_PINS:Z.Z.BOARDFEED,itemIds:[a],itemType:"pin"}))},pinId:a,size:U})}),m&&!n&&!p&&0===c&&(0,S.jsx)(s.mh,{children:(0,S.jsx)(z.default,{anchor:m.current,experienceIds:[502973],flyoutSize:V,idealDirection:"up",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})]})}var W=n(397066),Y=n(48714),$=n(350118);function X(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}class q extends t.Component{constructor(...e){super(...e),X(this,"state",{spamCheck:null}),X(this,"mounted",!1),X(this,"handleSpammyDomainCheck",(()=>{const{location:e,pin:i,surface:n,url:t}=this.props;t&&i&&(0,Y.$3)({location:e,pin:i,surface:n})&&(0,Y.iw)({isMounted:this.mounted,pin:i,location:e,spamCheckCallback:e=>this.setState({spamCheck:e}),href:t})})),X(this,"handleClick",(e=>{const{auxData:i,location:n,onClick:t,pin:o,pinId:a,url:s,logContextEvent:r}=this.props;(0,Y.gV)({isOffsiteUrl:!0,event:e})||(e.preventDefault(),t&&t(e),s&&(0,W.h)({href:s,pinId:a,pin:o,location:n,auxData:i},r))}))}componentDidMount(){this.mounted=!0,this.handleSpammyDomainCheck()}componentWillUnmount(){this.mounted=!1}componentDidUpdate(){const{spamCheck:e}=this.state;null===e&&this.handleSpammyDomainCheck()}render(){const{children:e,pin:i,url:n}=this.props;return(0,S.jsx)("a",{"aria-label":(null==i?void 0:i.domain)||"",href:n,onClick:this.handleClick,rel:"nofollow",style:{color:"inherit",textDecoration:"none",outline:"none",cursor:"pointer",display:"block"},target:null,children:e})}}function K(e){var i;const{logContextEvent:n}=(0,D.v)(),t=(0,$.S6)()(null!==(i=e.pinId)&&void 0!==i?i:"");return(0,S.jsx)(q,{...e,history:(0,a.useHistory)(),location:(0,a.useLocation)(),logContextEvent:n,match:(0,a.useRouteMatch)(),pin:t})}var J=n(385740),Q=n(941646);function ee(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";const{downloadedAssets:i,totalAssets:n}=window.prefetchCompletion[e];return n?(i/n*100).toFixed(3).toString():"-1"}function ie({children:e,componentType:i,contextLogData:n,pin:t,surface:o,viewParameter:a,viewType:r}){const{logContextEvent:l}=(0,D.v)(),c=(0,P.E)(),{ad_destination_url:d,carousel_data:_,id:u,link:p,tracked_link:h}=t;let m,g=d||h||p||"",f="one-tap-desktop";const v=(0,J.SU)();if(_){const{carousel_slots:e=[],id:i,index:n=0}=_;e[n]&&e[n].link&&(g=e[n].link),m={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:i,carousel_slot_index:n},f+="-carousel"}return(0,S.jsx)(s.xu,{"data-test-id":"otpp",children:(0,S.jsx)(Q.Z,{id:f,children:(0,S.jsx)(K,{auxData:m,onClick:()=>{l({event_type:12,view_type:r||c.viewType,view_parameter:a||c.viewParameter,component:i||c.componentType,object_id_str:u,aux_data:{...n,grid_index:c.slotIndex,pin_id:u,prefetch_percentage_complete:ee(p||"")}}),l({event_type:8948,view_type:r||c.viewType,view_parameter:a||c.viewParameter,component:i||c.componentType,object_id_str:u,aux_data:{...n,click_type:"clickthrough",closeup_navigation_type:"click",grid_index:c.slotIndex,pin_id:u,prefetch_percentage_complete:ee(p||"")}}),l({event_type:13,object_id_str:u,component:i||c.componentType,view_type:3,aux_data:{closeup_navigation_type:"web_closeup",...c.contextLogData,...n}}),l({event_type:13,view_type:v.viewType,view_parameter:v.viewParameter,view_data:v.viewData})},pinId:u,surface:o,url:g,children:e})})})}var ne=n(605028),te=n(62700);function oe(e){const{surface:i,...n}=e,{isOneTap:t,isVideo:o,isPromoted:a,isLeadPin:s}=(0,ne.Z)(e.pin),r=!s&&(t||o&&a)?ie:te.Z;return(0,S.jsx)(r,{surface:t?i:void 0,...n})}function ae({pin:e,pinNoteText:i}){return(0,S.jsx)(oe,{pin:e,children:(0,S.jsx)(s.xv,{lineClamp:1,overflow:"normal",size:"200",children:i})})}var se=n(539002);const re=(e,i)=>i?[{align:"center",displayText:e.bt("Lượt xem video", "Video views", "pinRep.pinStats.videoViews", undefined, true),field:"video_views",iconType:"play"},{align:"center",displayText:e.bt("Thời gian trung bình", "Avg. time", "pinRep.pinStats.videoAverageTime", undefined, true),field:"video_average_time",iconType:"clock",valueFormat:"TIME"}]:[{align:"start",displayText:e.bt("Lượt xem video", "Video views", "pinRep.pinStats.videoViews", undefined, true),field:"video_views",iconType:"play"},{align:"center",displayText:e.bt("Thời gian trung bình", "Avg. time", "pinRep.pinStats.videoAverageTime", undefined, true),field:"video_average_time",iconType:"clock",valueFormat:"TIME"},{align:"end",displayText:e.bt("Lượt lưu", "Saves", "pinRep.pinStats.save", undefined, true),field:"save",iconType:"angled-pin"}],le=(e,i)=>i?[{align:"center",displayText:e.bt("Lượt hiển thị", "Impressions", "pinRep.pinStats.impression", undefined, true),field:"impression",iconType:"eye"},{align:"center",displayText:e.bt("Lượt nhấp vào liên kết", "Link clicks", "pinRep.pinStats.clickthrough", undefined, true),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]:[{align:"start",displayText:e.bt("Lượt hiển thị", "Impressions", "pinRep.pinStats.impression", undefined, true),field:"impression",iconType:"eye"},{align:"center",displayText:e.bt("Lượt lưu", "Saves", "pinRep.pinStats.save", undefined, true),field:"save",iconType:"angled-pin"},{align:"end",displayText:e.bt("Lượt nhấp vào liên kết", "Link clicks", "pinRep.pinStats.clickthrough", undefined, true),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}],ce=(e,i,n,t)=>e?[{align:"start",displayText:n.bt("Lượt phát toàn màn hình", "Full screen plays", "pinRep.pinStats.fullScreenPlays", undefined, true),field:"full_screen_play",iconType:"play"}]:i?[{align:"start",displayText:n.bt("Lượt phát toàn màn hình", "Full screen plays", "pinRep.pinStats.fullScreenPlays", undefined, true),field:"full_screen_play",iconType:"play"},{align:"center",displayText:n.bt("Lượt hiển thị", "Impressions", "pinRep.pinStats.impression", undefined, true),field:"impression",iconType:"eye"},{align:"end",displayText:n.bt("Lượt lưu", "Saves", "pinRep.pinStats.save", undefined, true),field:"save",iconType:"angled-pin"}]:t?[{align:"center",displayText:n.bt("Lượt hiển thị", "Impressions", "pinRep.pinStats.impression", undefined, true),field:"impression",iconType:"eye"},{align:"center",displayText:n.bt("Lượt xem cận cảnh", "Closeups", "pinRep.pinStats.closeups", undefined, true),field:"closeup",iconSize:10,iconType:"hand-pointing"}]:[{align:"start",displayText:n.bt("Lượt hiển thị", "Impressions", "pinRep.pinStats.impression", undefined, true),field:"impression",iconType:"eye"},{align:"center",displayText:n.bt("Lượt xem cận cảnh", "Closeups", "pinRep.pinStats.closeups", undefined, true),field:"closeup",iconSize:10,iconType:"hand-pointing"},{align:"end",displayText:n.bt("Lượt lưu", "Saves", "pinRep.pinStats.save", undefined, true),field:"save",iconType:"angled-pin"}],de=(e,i)=>i?[{align:"center",displayText:e.bt("Lượt hiển thị", "Impressions", "pinRep.pinStats.impression", undefined, true),field:"impression",iconType:"eye"},{align:"center",displayText:e.bt("Lượt nhấp Ghim", "Pin clicks", "pinRep.pinStats.pinclick", undefined, true),field:"pin_click",iconSize:10,iconType:"hand-pointing"}]:[{align:"start",displayText:e.bt("Lượt hiển thị", "Impressions", "pinRep.pinStats.impression", undefined, true),field:"impression",iconType:"eye"},{align:"center",displayText:e.bt("Lượt lưu", "Saves", "pinRep.pinStats.save", undefined, true),field:"save",iconType:"angled-pin"},{align:"end",displayText:e.bt("Lượt nhấp Ghim", "Pin clicks", "pinRep.pinStats.pinclick", undefined, true),field:"pin_click",iconSize:10,iconType:"hand-pointing"}];var _e=n(623568),ue=n(81226),pe=n(694379);function he({value:e,valueFormat:i}){const n=(0,d.ZP)();return e||0===e?"TIME"===i?(0,ue.Z)(e):(0,S.jsx)(pe.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e}):(0,S.jsx)(s.u,{idealDirection:"up",text:n.bt("Số liệu này hiện chưa có", "This stat is not available yet", "closeup.partnerAnalytics.unavailableStat", undefined, true),children:"—"})}function me({pin:e}){var i;const n=(0,d.ZP)(),t=(0,B.Z)(),{isStoryPin:o,isVideo:a}=(0,ne.Z)(e),r=t.isAuth&&(null===(i=e.pinner)||void 0===i?void 0:i.id)===t.id&&!e.is_repin,c=t.isAuth&&t.isPartner,_=(0,se.Z)("pinStats"),u=!!c&&_(),p=(0,l.iL)({isOwnPin:r,isPartner:c}),h=(0,l.H1)({isOwnPin:r,isPartner:c}),m=e.created_at?new Date(e.created_at):null,g=(p||h)&&m&&m.getTime()<=l.HW.getTime(),f=p?function(e){const{public_creator_analytics:i}=e,{isStoryPin:n}=(0,ne.Z)(e);return n&&i?i:null}(e):function(e,i){const{aggregated_pin_data:n,creator_analytics:t}=e,o=(0,_e.Nc)({pin:e,isSCEEnabled:i}),{creator_analytics:a}=n||{};return o?a:t}(e,u),v=Boolean(e.promoted_is_removable),y=function({isAdsOnlyPin:e,isStoryPin:i,isVideo:n,i18n:t,showPublicPinStats:o,showPrivateFullScreenPinStats:a,showSCEMetrics:s}){return s&&!o?de(t,e):n?re(t,e):i?ce(o,a,t,e):le(t,e)}({isAdsOnlyPin:v,isVideo:a,isStoryPin:o,i18n:n,showPublicPinStats:p,showPrivateFullScreenPinStats:h,showSCEMetrics:u});let P;return P=u?(null==f?void 0:f.all_time_realtime)||(null==f?void 0:f["30d_realtime"]):(a||o)&&(null==f?void 0:f.all_time_realtime)||(null==f?void 0:f["30d_realtime"]),(0,S.jsx)(s.kC,{alignItems:"start",justifyContent:v?"around":"between",children:y.map((({align:e,displayText:i,field:n,iconType:t,iconSize:o=12,valueFormat:a})=>{var r;return(0,S.jsxs)(s.xu,{alignItems:"center",column:4,display:"flex",justifyContent:e,children:[(0,S.jsx)(s.xu,{display:"inlineBlock",marginEnd:1,children:(0,S.jsx)(s.JO,{accessibilityLabel:i,color:"default",icon:t,size:o})}),(0,S.jsx)(s.xv,{inline:!0,size:"200",children:(0,S.jsx)(he,{value:"full_screen_play"===n&&g?null:null===(r=P)||void 0===r?void 0:r[n],valueFormat:a})})]},n)}))})}function ge({currentPrice:e,disableLink:i,originalPrice:n,pin:t,surface:o}){const a=n&&n!==e,r=(0,S.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[e&&(0,S.jsx)(s.xv,{color:"default",size:"200",weight:"bold",children:e}),a&&(0,S.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:(0,S.jsx)(s.xv,{color:"subtle",size:"200",weight:"bold",children:n})})]});return i?r:(0,S.jsx)(oe,{pin:t,surface:o,children:r})}function fe(e,i){const{isProduct:n}=(0,ne.Z)(e);return(n||"ShoppingGridShippedMetadataWithVisitButton"===i&&(0,g.bA)(e))&&((0,g.fz)(e)||(0,g.QY)(e))||""}function ve({disableLink:e,pin:i,surface:n}){const t=(0,S.jsx)(s.xu,{"data-test-id":"pin-source",display:"flex",alignItems:"stretch",justifyContent:"start",children:(0,S.jsx)(s.xv,{color:"default",lineClamp:1,overflow:"normal",size:"200",weight:"normal",children:fe(i,n)})});return e?t:(0,S.jsx)(oe,{pin:i,surface:n,children:t})}var ye=n(366284),Pe=n(391254),xe=n(711344),be=n(773285);function Se({disableLink:e,numberOfLines:i=2,pin:n,pinTitle:t,surface:o}){const a=(0,u.B)(),{checkExperiment:r}=(0,be.F)(),{isPromoted:l}=(0,ne.Z)(n),c=e?t:(0,S.jsx)(oe,{pin:n,surface:o,children:t}),d=(0,ye.G6)(a.userAgent.browserName),_="iphone"===(0,xe.v)(a),p="ipad"===(0,xe.v)(a);return(_||p||d)&&!l&&r("hfp_title_truncation_safari_web").anyEnabled?(0,S.jsxs)(s.xv,{color:"default",size:"200",weight:"bold",children:[(0,S.jsx)(Pe.Z,{unsafeCSS:"\n  .shorten-title > a {\n    max-width: 100%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .shorten-title {\n    max-width: 100%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  "}),(0,S.jsx)("div",{className:"shorten-title",children:c})]}):(0,S.jsx)(s.xv,{color:"default",lineClamp:i,size:"200",weight:"bold",children:c})}var Te=n(955362),we=n(850115),Ae=n.n(we),Ie=n(379507),Ee=n.n(Ie),Re=n(637956),Ce=n.n(Re),ke=n(909745),je=n.n(ke),Oe=n(128206),Ne=n.n(Oe),De=n(681227);const ze={goodIdea:Ae(),love:Ce(),thanks:je(),wow:Ne(),haha:Ee()},Be={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"},Le=["CreatorProfileStoryPinGrid"];const Me=function({alignment:e="start",pinId:i,pinner:n,reactionCounts:t,surface:o}){const a=(0,B.Z)(),r=t?(0,De.At)(t):null,l=t?(0,De.Ud)(t):0,c=Boolean(a.isAuth&&(null==n?void 0:n.id)===a.id),d=!!r&&r.length>0&&r.map(((e,i)=>{const n=ze[Be[e]];return(0,S.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:(0,S.jsx)(s.xu,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${n})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})},i)})),_=!!d&&(0,S.jsx)(s.iP,{role:"link",href:`/pin/${i}/`,children:(0,S.jsxs)(s.xu,{display:"flex",direction:"row",alignItems:"center",justifyContent:e,height:19,paddingY:3,children:[(0,S.jsx)(s.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:d}),(0,S.jsx)(s.xu,{paddingX:1,children:(0,S.jsx)(s.xv,{size:"200",children:(0,S.jsx)(pe.Z,{value:l,shortform:!0,shortformMaximumFractionDigits:1})})})]})}),u=c&&Le.includes(o)&&(0,S.jsx)(s.xu,{height:24});return _||u};var Ze=n(4294),Ge=n(116303);const Fe=32;function Ve({accessibilityLabel:e,attributionNameLink:i,avatarUrl:n,fullWidth:t=!0,name:o="",onClick:a,outline:r=!1,size:l=Fe,shouldRenderAdsOnlyProfileClick:c=!1}){const d=(0,S.jsx)(s.xu,{"data-test-id":"attribution-avatar",height:l,width:l,children:(0,S.jsx)(Ge.Z,{name:o,src:n,accessibilityLabel:"",outline:r})});return i?(0,S.jsx)(s.iP,{fullWidth:t,role:"link",href:i,rel:c?"nofollow":void 0,target:c?"blank":void 0,onTap:a,accessibilityLabel:e,children:d}):d}var Ue=n(987765);function He({isHover:e,attributionNameLink:i,name:n,onClick:t,regularWeight:o}){return(0,S.jsx)(s.xu,{children:i?(0,S.jsx)(s.xv,{underline:e,size:"200",lineClamp:1,weight:o?"normal":"bold",children:(0,S.jsx)(s.rU,{onClick:t,href:i,children:n})}):(0,S.jsx)(Ue.Z,{underline:e,size:"200",lineClamp:1,weight:o?"normal":"bold",children:n})})}function We({isHover:e,link:i,onClick:n,title:t,weight:o}){return t?(0,S.jsx)(s.xv,{inline:!0,underline:e,size:"200",weight:o,children:i?(0,S.jsx)(s.rU,{onClick:n,href:i,children:t}):t}):null}var Ye=n(865607),$e=n(807532);const Xe=32,qe=64,Ke=-45;function Je({attributionNameLink:e,attributionTitle:i,avatarUrl:n,display:o="default",isPromotedByPinCreator:a,pin:r,name:l,url:c,verifiedIdentity:d,isVerifiedMerchant:_,shouldRenderAdsOnlyProfileClick:u}){const p=(0,$e.f)(),[h,m]=(0,t.useState)(!1),{id:g,sponsorship:f,story_pin_data_id:v}=r,{isPromoted:P}=(0,ne.Z)(r),{logContextEvent:x}=(0,D.v)(),{creator:b}=f||{},{id:T}=b||{},w=!!v,A=(0,y.Z)(101,{view_type:3,element:P?283:27,object_id_str:g,component:w?230:void 0,aux_data:{...T?{creator_id:T,pin_id:g}:{}}}),I=()=>{p.setMostRecentPinId(g),A()},E=()=>{m((e=>!e))},R=c&&!e,C=R?"":l,k="overlay"===o,j=(0,S.jsxs)(s.xu,{alignItems:"center",display:k?void 0:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}},children:[(0,S.jsx)(s.xu,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},display:k?"flex":void 0,justifyContent:"center",children:(0,S.jsx)(s.xu,{dangerouslySetInlineStyle:k?{__style:{marginTop:Ke}}:void 0,children:(0,S.jsx)(Ve,{attributionNameLink:C?e:void 0,avatarUrl:n,name:C,onClick:()=>I(),accessibilityLabel:C,size:k?qe:Xe,outline:k})})}),(0,S.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden",display:k?"flex":void 0,justifyContent:"center",marginTop:k?2:void 0,children:[(0,S.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}},children:(0,S.jsxs)(s.kC,{gap:{row:1,column:0},children:[(0,S.jsx)(He,{attributionNameLink:e,name:l,onClick:()=>I(),regularWeight:!(P&&!f||a),isHover:h}),(0,S.jsx)(Ye.Z,{size:"sm",hasVerifiedIdentity:d,isVerifiedMerchant:_})]})}),(0,S.jsx)(We,{isHover:h,title:i,weight:"normal"})]})]});return R?(0,S.jsx)(s.iP,{role:"link",onTap:({event:e})=>{u&&x({event_type:9371,element:13382,aux_data:{aop_origin:"Attribution"}}),e.stopPropagation(),I()},href:c,rel:u?"nofollow":void 0,target:u?"blank":void 0,onMouseEnter:E,onMouseLeave:E,children:j}):j}var Qe=n(225692);const ei={container:{padding:"8px 6px 16px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:`opacity ${Qe.X}ms ease`},visible:{opacity:1}}};var ii=n(862628);function ni({feedbackType:e,pin:i}){const n=(0,d.ZP)(),{pinner:t,source_interest:o}=i,{full_name:a,username:r}=t||{},{name:l}=o||{},c="topic"===e,_=!c&&"followed"===e,u=`/${r}/`,p=(0,ii.Z)(l),h=`/search/pins/?q=${encodeURIComponent(p)}&rs=image_only_attribution`,m=c?h:u,g={topic:n.bt("Từ {topic}", "From {topic}", "attribution on pin rep", undefined, true),followed:n.bt("Từ {pinnerName}", "From {pinnerName}", "attribution on pin rep", undefined, true),pfyBoard:n.bt("Được chọn cho bạn", "Picked for you", "attribution on pin rep", undefined, true),pfy:n.bt("Được chọn cho bạn", "Picked for you", "attribution on pin rep", undefined, true)}[e];if(!g)return null;if(_||c){const e=0===g.indexOf("{"),i=c?l:a,n=e?g.slice(g.indexOf("}")+1):g.slice(0,g.indexOf("{"));return e?(0,S.jsxs)(s.xu,{children:[(0,S.jsx)(s.rU,{display:"inlineBlock",href:m,underline:"hover",children:(0,S.jsx)(s.xv,{weight:"bold",inline:!0,size:"200",lineClamp:1,children:i})}),(0,S.jsx)(s.xv,{inline:!0,size:"200",children:n})]}):(0,S.jsxs)(s.xu,{children:[(0,S.jsx)(s.xv,{inline:!0,size:"200",children:n}),(0,S.jsx)(s.rU,{display:"inlineBlock",href:m,underline:"hover",children:(0,S.jsx)(s.xv,{color:"default",weight:"bold",inline:!0,size:"200",lineClamp:1,children:i})})]})}return(0,S.jsx)(s.xu,{children:(0,S.jsx)(te.Z,{pin:i,children:(0,S.jsx)(s.xv,{color:"default",overflow:"normal",size:"200",weight:"bold",children:g})})})}var ti=n(356725),oi=n(202870);function ai({attributionType:e,board:i,feedbackData:n,feedbackType:a,hasTextContent:r,hasTitleOrSource:l,hoverTransitionState:c,pin:u,pinNoteText:p,pinTitle:h,productCurrentPrice:m,productOriginalPrice:g,setForcePrimary:f,showCarouselEllipsis:v,showFavoriteButton:P,showGroupBoardAvatar:x,showNativeReactions:b,showOverflowMenu:T,showPinStats:w,showSource:A,showTextContent:I,showAttribution:E,surface:R,titleLines:C}){var k,j,O,N;const D=(0,d.ZP)(),z=(0,B.Z)(),L=(0,o.useDispatch)(),{favorited_by_me:M,favorite_user_count:Z,id:G,pinner:F,reaction_counts:V,sponsorship:U,story_pin_data:W}=u,{has_affiliate_products:Y}=W||{},{checkExperiment:$}=(0,be.F)(),X=function(e,i,n,t){var o,a,s,r,l;const{board:c,link_domain:d={},promoter:_,sponsorship:u,native_creator:p}=e,{sponsor:h}=u||{},{isPromoted:m}=(0,ne.Z)(e),{official_user:g}=d||{},f=m&&!!u&&(null==p?void 0:p.id)!==(null==_?void 0:_.id),v=e.pinner||{};let y="",P="",x="",b="",S="",T="",w=!1,A=!1,I=!1;function E(e,i){return t&&!!e&&!!i}var R,C,k,j,O,N,D,z;if(f)y=null!==(R=null!==(C=null==p?void 0:p.image_medium_url)&&void 0!==C?C:null==p?void 0:p.image_small_url)&&void 0!==R?R:"",P=E(null==p?void 0:p.is_ads_only_profile,null==p?void 0:p.ads_only_profile_site)?null!==(k=p.ads_only_profile_site)&&void 0!==k?k:"":`/${null!==(j=null==p?void 0:p.username)&&void 0!==j?j:""}/`,x=null==_?void 0:_.full_name,b=null==p?void 0:p.full_name,T=E(null==p?void 0:p.is_ads_only_profile,null==p?void 0:p.ads_only_profile_site)?null!==(O=p.ads_only_profile_site)&&void 0!==O?O:"":`/${null!==(N=null==p?void 0:p.username)&&void 0!==N?N:""}/`,S=`/${null!==(D=null==_?void 0:_.username)&&void 0!==D?D:""}/`,w=null==p||null===(z=p.verified_identity)||void 0===z?void 0:z.verified,A=null==p?void 0:p.is_verified_merchant,I=E(null==p?void 0:p.is_ads_only_profile,null==p?void 0:p.ads_only_profile_site);else if(m&&_)y=_.image_medium_url||_.image_small_url,x=_.full_name,b=n.bt("Quảng cáo bởi", "Promoted by", "indicating the username of the person who promoted the pin", undefined, true),T=E(_.is_ads_only_profile,_.ads_only_profile_site)?_.ads_only_profile_site:`/${_.username}/`,I=E(_.is_ads_only_profile,_.ads_only_profile_site);else if(u&&null!=h&&h.username){var B,L,M,Z,G,F,V,U,H;y=null!==(B=null!==(L=null!==(M=null==p?void 0:p.image_large_url)&&void 0!==M?M:null==p?void 0:p.image_medium_url)&&void 0!==L?L:null==p?void 0:p.image_small_url)&&void 0!==B?B:"",P=E(null==p?void 0:p.is_ads_only_profile,null==p?void 0:p.ads_only_profile_site)?null!==(Z=p.ads_only_profile_site)&&void 0!==Z?Z:"":`/${null!==(G=null==p?void 0:p.username)&&void 0!==G?G:""}/`,x=h.full_name,b=null==p?void 0:p.full_name,T=E(null==p?void 0:p.is_ads_only_profile,null==p?void 0:p.ads_only_profile_site)?null!==(F=p.ads_only_profile_site)&&void 0!==F?F:"":`/${null!==(V=null==p?void 0:p.username)&&void 0!==V?V:""}/`,S=`/${null!==(U=h.username)&&void 0!==U?U:""}/`,w=null==p||null===(H=p.verified_identity)||void 0===H?void 0:H.verified,A=null==p?void 0:p.is_verified_merchant,I=E(null==p?void 0:p.is_ads_only_profile,null==p?void 0:p.ads_only_profile_site)}else if(p){var W,Y,$,X;y=null!==(W=null!==(Y=null!==($=p.image_large_url)&&void 0!==$?$:p.image_medium_url)&&void 0!==Y?Y:p.image_small_url)&&void 0!==W?W:"",b=p.full_name,T=E(p.is_ads_only_profile,p.ads_only_profile_site)?p.ads_only_profile_site:`/${p.username}/`,w=null===(X=p.verified_identity)||void 0===X?void 0:X.verified,A=p.is_verified_merchant,I=E(p.is_ads_only_profile,p.ads_only_profile_site)}else if("show-for-claimed-content"===i){var q,K,J,Q,ee;null!=g&&g.is_primary_website_verified&&g.username&&(y=null!==(q=null!==(K=null!==(J=g.image_large_url)&&void 0!==J?J:g.image_medium_url)&&void 0!==K?K:g.image_small_url)&&void 0!==q?q:"",b=g.full_name,T=E(g.is_ads_only_profile,g.ads_only_profile_site)?g.ads_only_profile_site:`/${null!==(Q=g.username)&&void 0!==Q?Q:""}/`,w=null===(ee=g.verified_identity)||void 0===ee?void 0:ee.verified,A=g.is_verified_merchant,I=E(g.is_ads_only_profile,g.ads_only_profile_site))}else{var ie,te,oe,ae;y=null!==(ie=null!==(te=null!==(oe=v.image_large_url)&&void 0!==oe?oe:v.image_medium_url)&&void 0!==te?te:v.image_small_url)&&void 0!==ie?ie:"",P=`/${v.username}/`,b=v.full_name,T=c?c.url:"",w=null===(ae=v.verified_identity)||void 0===ae?void 0:ae.verified,A=v.is_verified_merchant}return{avatarUrl:null!==(o=y)&&void 0!==o?o:"",attributionNameLink:null!==(a=P)&&void 0!==a?a:"",attributionTitle:null!==(s=x)&&void 0!==s?s:"",name:null!==(r=b)&&void 0!==r?r:"",sponsorUrl:S,url:null!==(l=T)&&void 0!==l?l:"",verifiedIdentity:!!w,isVerifiedMerchant:!!A,shouldRenderAdsOnlyProfileClick:!!I}}(u,e,D,$("web_ads_only_profiles_link_redirect").anyEnabled),{avatarUrl:q,attributionNameLink:K,attributionTitle:J,name:Q,sponsorUrl:ee,url:ie,verifiedIdentity:te,isVerifiedMerchant:oe,shouldRenderAdsOnlyProfileClick:se}=X,re=!!u.promoter&&!u.is_downstream_promotion,le=re&&(null===(k=u.native_creator)||void 0===k?void 0:k.id)===(null===(j=u.promoter)||void 0===j?void 0:j.id),ce=(0,y.Z)(101,{view_type:3,element:27,object_id_str:G,component:u.story_pin_data_id?230:void 0,aux_data:{pin_id:G,...null!=U&&null!==(O=U.creator)&&void 0!==O&&O.id&&null!==(N=U.sponsor)&&void 0!==N&&N.id?{creator_id:U.creator.id,sponsor_id:U.sponsor.id}:{}}}),de=e=>L(de(e)),{full_name:_e}=(null==U?void 0:U.sponsor)||{},ue="ConversationView"===R?{padding:"8px"}:ei.container;return(0,S.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:ue},children:[v&&(0,S.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:l||x||"none"!==e?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center",children:(0,S.jsx)(_.Z,{children:(0,S.jsx)(ti.default,{pinId:G})})}),w&&(0,S.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%","data-test-id":"pin-stats-footer",children:(0,S.jsx)(me,{pin:u})}),(0,S.jsx)(s.kC,{alignItems:"stretch",justifyContent:"start",children:(0,S.jsxs)(s.xu,{flex:"grow",children:[(!!U||Y&&!re)&&!le&&(0,S.jsx)(s.xu,{marginBottom:1,children:(0,S.jsx)(s.xu,{flex:"grow",overflow:"hidden",children:(0,S.jsx)(oi.Z,{hasAffiliateProducts:Y,href:ee||ie,isPromoted:re,sponsorName:_e,sponsorshipStatus:null==U?void 0:U.status,onNavigateSponsorClick:()=>{de(G),ce()},textWeight:"bold"})})}),(I&&r||P)&&(0,S.jsxs)(s.xu,{marginBottom:1,children:[(g||m)&&(0,S.jsx)(s.xu,{marginBottom:1,children:(0,S.jsx)(ge,{currentPrice:m,originalPrice:g,pin:u,surface:R})}),P?(0,S.jsxs)(s.kC,{alignItems:"start",children:[(0,S.jsx)(s.kC,{flex:"grow",children:(0,S.jsx)(Se,{numberOfLines:C,pin:u,pinTitle:h,surface:R})}),(0,S.jsx)(s.xu,{marginStart:3,children:(0,S.jsx)(H,{board:i,favorited:!!M,favoriteCount:null!=i&&i.is_collaborative&&(0,Ze.Z)({board:i,viewer:z})?null!=Z?Z:0:void 0,pinId:G})})]}):(0,S.jsx)(Se,{numberOfLines:C,pin:u,pinTitle:h,surface:R}),A&&(0,S.jsx)(s.xu,{marginBottom:2,children:(0,S.jsx)(ve,{pin:u,surface:R})})]}),E&&(0,S.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[(0,S.jsx)(s.xu,{flex:"grow",children:(()=>{const i=(0,S.jsx)(Je,{attributionNameLink:K,attributionTitle:re&&!U||le?J:"",avatarUrl:q,isPromotedByPinCreator:!!le,isVerifiedMerchant:oe,shouldRenderAdsOnlyProfileClick:se,name:Q,pin:u,url:ie,verifiedIdentity:te});switch(e){case"none":return null;case"image-only-credit":return(0,S.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:ei.imageOnlyAttribution["active"===c?"visible":"hidden"]},children:(0,S.jsx)(ni,{pin:u,feedbackType:a})});default:return Object.values(X).some((e=>Boolean(e)))?i:null}})()}),T&&(0,S.jsx)(s.xu,{flex:"none",children:(0,S.jsx)(Te.default,{feedbackData:n,feedbackType:a,pin:u,pinTitle:h,setForcePrimary:f,transparentBackground:!0})})]}),b&&!!V&&Object.keys(V).length>0&&(0,S.jsx)(s.xu,{marginTop:"ConversationView"===R?2:void 0,children:(0,S.jsx)(Me,{pinId:G,pinner:F,reactionCounts:V,surface:R})}),p&&(0,S.jsx)(s.xu,{marginBottom:1,children:(0,S.jsx)(ae,{pin:u,pinNoteText:p})}),x&&!P&&(0,S.jsx)(s.xu,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1,children:(0,S.jsxs)(t.Fragment,{children:[(0,S.jsx)(Ve,{attributionNameLink:K||ie,avatarUrl:q,fullWidth:!1,name:Q,accessibilityLabel:Q,shouldRenderAdsOnlyProfileClick:se}),(0,S.jsx)(s.xu,{marginStart:2,flex:"grow",children:(0,S.jsx)(s.xv,{size:"200",children:Q})})]})})]})},`${u.id}-sponsor-name-link`)]})}var si=n(243943);const ri=6,li=10,ci=18,di=14;function _i({dimension:e,color:i,isSelected:n,img:t,selectVariant:o}){var a,r,l;const c=(0,d.ZP)(),_=(0,S.jsx)(s.iP,{fullHeight:!0,fullWidth:!0,rounding:1,onMouseEnter:({event:n})=>{n.preventDefault(),n.stopPropagation(),o({dimensionName:e,variant:i})},onFocus:()=>{o({dimensionName:e,variant:i})},children:(0,S.jsx)(s.xu,{"data-test-id":`primary-variant-preview-icon-${i}`,height:ci,width:ci,rounding:1,display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{border:n?"1px solid black":"1px solid #EFEFEF"}},children:(0,S.jsx)(s.xu,{height:di,width:di,position:"absolute",rounding:1,overflow:"hidden",children:(0,S.jsx)(s.xu,{"data-test-id":`${i}-variant-preview-wrapper`,dangerouslySetInlineStyle:{__style:{transform:`scale(${li},${li})`}},children:(0,S.jsx)(s.zd,{height:di,width:di,rounding:1,children:(0,S.jsx)(s.Ee,{alt:c.bt("Hình ảnh xem trước mẫu màu", "Color variant preview image", "MerchantStorefront.Variant.VariantPreviewIcon.Image", undefined, true),naturalHeight:null!==(a=t.height)&&void 0!==a?a:1,naturalWidth:null!==(r=t.width)&&void 0!==r?r:1,src:null!==(l=t.url)&&void 0!==l?l:"",fit:"contain"})})})})})});return(0,S.jsx)(s.xu,{"data-test-id":`primary-variant-main-${i}`,display:"inlineBlock",height:ci,rounding:1,width:ci,children:_})}function ui(){const{logContextEvent:e}=(0,D.v)(),i=(0,si.Xx)(),n=i&&i.primaryVariants.filter((e=>e.image)).length>0;if((0,t.useEffect)((()=>{e({event_type:120,component:14092})}),[n,e]),!i)return null;const{primaryVariants:o,primaryDimName:a}=i,r=o.slice(0,ri).map((e=>{const n=e.value,t=e.value===i.selectedMap[a],o=e.image;return o?(0,S.jsx)(_i,{dimension:a,color:n,isSelected:t,img:o,selectVariant:i.selectVariant},n):null})).filter(Boolean);if(o.length>ri){const e=o.length-ri;r.push((0,S.jsx)(s.xu,{"data-test-id":"plus-number",display:"flex",height:ci,rounding:1,width:ci,justifyContent:"center",children:(0,S.jsxs)(s.iP,{fullHeight:!0,fullWidth:!0,rounding:1,onTap:({event:e})=>{e.stopPropagation()},children:["+",e]})},ri))}return(0,S.jsx)(s.kC,{justifyContent:"start",alignItems:"center",gap:3,children:r})}var pi=n(104389),hi=n(149230);function mi(){const e=(0,d.ZP)();return(0,S.jsx)(s.xv,{color:"subtle",overflow:"normal",size:"200",weight:"normal",children:e.bt("Hết hàng", "Sold out", "pinrep.footer.outOfStock", undefined, true)})}function gi(){const e=(0,d.ZP)();return(0,S.jsx)(s.xv,{color:"subtle",overflow:"normal",size:"200",weight:"normal",children:e.bt("Xem giá trên trang web", "See price on site", "pinrep.footer.staleProduct", undefined, true)})}function fi({contentType:e,hasTextContent:i,pin:n,pinTitle:o,productCurrentPrice:a,productOriginalPrice:r,productRating:l,productShipping:c,showSource:_,showVisitSiteButton:u,surface:p,titleLines:h}){var m;const{logContextEvent:f}=(0,D.v)(),v=(0,d.ZP)(),{checkExperiment:y}=(0,be.F)(),{anyEnabled:P,group:x}=y("web_shopping_grid_metadata_ratings_shipping",{dangerouslySkipActivation:!0}),b=(null===(m=n.rich_summary)||void 0===m?void 0:m.url)||n.link;"shopping"!==e||x.includes("pwt")||y("web_shopping_grid_metadata_ratings_shipping");let T=null;if((0,si.Xx)()){const{anyEnabled:e}=y("storefront_variant_pins");e&&(T=(0,S.jsx)(ui,{}))}const w=(0,hi.Z)({url:b})?"nofollow":"none";return(0,S.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:ei.productContainer},height:"100%",children:(0,S.jsx)(s.kC,{direction:"column",flex:"grow",height:"100%",justifyContent:"between",children:i&&(0,S.jsxs)(t.Fragment,{children:[(0,S.jsx)(oe,{pin:n,surface:p,children:(0,S.jsxs)(s.kC,{direction:"column",gap:1,children:[(r||a)&&(0,S.jsx)(ge,{currentPrice:a,disableLink:!0,originalPrice:r,pin:n,surface:p}),(0,g.qN)(n)&&(0,S.jsx)(mi,{}),(0,g.SP)(n)&&(0,S.jsx)(gi,{}),(0,S.jsx)(Se,{disableLink:!0,numberOfLines:h,pin:n,pinTitle:o,surface:p}),_&&(0,S.jsx)(ve,{disableLink:!0,pin:n,surface:p}),"shopping"===e&&P&&(l||Number.isFinite(null==c?void 0:c.free_shipping_value))&&(0,S.jsx)(pi.Z,{count:null==l?void 0:l.count,countFormat:"number",isGridView:!0,ratingValue:null==l?void 0:l.rating,shippingInfo:c}),T]})}),u&&b?(0,S.jsx)(s.xu,{marginTop:2,children:(0,S.jsx)(s.zx,{role:"link",fullWidth:!0,href:b,rel:w,onClick:()=>{f({event_type:12,view_type:1,view_parameter:3563})},target:"blank",text:v.bt("Truy cập trang", "Visit site", "ShoppingList.Pin.CTA.Button.VisitSite.Text", undefined, true)})}):null]})})})}const vi=(0,t.memo)((function({attributionType:e,blockClickEvents:i,board:n,contentType:t,feedbackData:o,feedbackType:a,hoverTransitionState:r,pin:l,pinNoteText:c,pinTitle:d,productCurrentPrice:u,productOriginalPrice:p,productRating:h,productShipping:m,setForcePrimary:g,showCarouselEllipsis:f,showFavoriteButton:v,showGroupBoardAvatar:y,showNativeReactions:P,showOverflowMenu:x,showPinStats:b,showSource:T,showTextContent:w,showVisitSiteButton:A,showAttribution:I=!0,surface:E,titleLines:R}){const C=d||T,k="shopping"===t?(0,S.jsx)(fi,{contentType:t,hasTextContent:!!C,pin:l,pinTitle:d,productCurrentPrice:u,productOriginalPrice:p,productRating:h,productShipping:m,showSource:T,showVisitSiteButton:A,surface:E,titleLines:R}):(0,S.jsx)(ai,{attributionType:e,board:n,feedbackData:o,feedbackType:a,hasTextContent:!!C,hasTitleOrSource:!!C,hoverTransitionState:r,pin:l,pinNoteText:c,pinTitle:d,productCurrentPrice:u,productOriginalPrice:p,setForcePrimary:g,showCarouselEllipsis:f,showFavoriteButton:v,showGroupBoardAvatar:y,showNativeReactions:P,showOverflowMenu:x,showPinStats:b,showSource:T,showTextContent:w,showAttribution:I,surface:E,titleLines:R});return i?(0,S.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:k}):(0,S.jsx)(s.kC,{flex:"grow",children:(0,S.jsx)(_.Z,{fullWidth:!0,children:k})})}));var yi=n(784590),Pi=n(685909),xi=n(990823);const bi=(0,t.lazy)((()=>n.e(34979).then(n.bind(n,91540)))),Si=(0,t.lazy)((()=>Promise.all([n.e(97270),n.e(47424),n.e(27982),n.e(58209),n.e(43473)]).then(n.bind(n,666258)))),Ti=(0,t.lazy)((()=>Promise.all([n.e(97270),n.e(47424),n.e(27982),n.e(58209),n.e(22347)]).then(n.bind(n,494424)))),wi=(0,t.lazy)((()=>Promise.all([n.e(97270),n.e(22538)]).then(n.bind(n,450564)))),Ai=(0,t.lazy)((()=>n.e(1593).then(n.bind(n,331806))));function Ii({derivedSaveButtonOptions:e,forcePrimaryContent:i,showEnabledSaveBehavior:n,onToggleFlyout:a,onToggleModal:r,pin:l}){const d=(0,si.Xx)(),u=function(e){return(0,yi.Z)(e?{name:"PinResource",options:{id:e}}:null)}(null==d?void 0:d.variantUrl),h=u&&u.data?u.data:l,{id:m,savedInfo:g}=h,f=(0,t.useRef)(!!g),v=(0,B.Z)(),{checkExperiment:x}=(0,be.F)(),b="number"==typeof v.pinCount&&v.pinCount>2||"number"==typeof v.boardCount&&v.boardCount>1,T=(0,o.useSelector)((({experiences:e})=>{const i=e[1000294];return 502450===(null==i?void 0:i.experience_id)?i:null})),{saveBehaviorType:w}=(0,xi.tY)(n);void 0===w||!["classic","controlled","inline"].includes(e.type)||b&&x("board_picker_holdout").anyEnabled||(e=w);const{viewParameter:A,viewType:I}=(0,P.E)(),E=(0,y.Z)(101,{element:0,object_id_str:m});let R=null;const C={onToggleModal:a,view:I,viewParameter:A,useLegoStyles:!0};if(e.hidePinBetterSaveDropdown||!(T||n&&["classic","controlled"].includes(e.type))||!["classic","controlled","inline"].includes(e.type)||b&&x("board_picker_holdout").anyEnabled)if("classic"===e.type||"controlled"===e.type){const{renderPinSaveTooltip:i}=e;R=(0,S.jsx)(c.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinSaveButton",children:(0,S.jsx)(p.Z,{children:(0,S.jsx)(s.xu,{"data-test-id":"pin-save-button",maxWidth:"100%",children:(0,S.jsx)(_.Z,{children:(0,S.jsx)(Si,{onClickCallback:E,onToggleModal:r,oneTapSave:"controlled"===e.type?e:void 0,pin:h,renderPinSaveTooltip:i,renderSavedStatus:()=>!!g&&(0,S.jsx)(_.Z,{children:(0,S.jsx)(Pi.Z,{isNewlySaved:!f.current,name:g.title,type:g.type,url:g.url})}),variant:"lego",viewParameter:A})})})})})}else if("inline"===e.type){const i=h,{initialSelection:n,onSave:t,renderPinSaveTooltip:o,hidePinBetterSaveDropdown:l}=e;R=(0,S.jsx)(c.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinBetterSave",children:(0,S.jsx)(p.Z,{children:(0,S.jsx)(s.xu,{"data-test-id":"better-save",children:(0,S.jsx)(_.Z,{children:(0,S.jsx)(Ti,{initialSelection:n,onSave:t,onToggleFlyout:a,onToggleModal:r,pin:i,renderPinSaveTooltip:o,renderSavedStatus:({savedInfo:e})=>e&&(0,S.jsx)(_.Z,{children:(0,S.jsx)(Pi.Z,{isNewlySaved:!f.current,name:e.title,type:e.type,url:e.url,shouldUseLegoStyles:!0})}),variant:"pin",viewParameter:A,hideDropdown:l})})})})})}else"persistentOneClickSave"===e.type?R=(0,S.jsx)(c.Z,{name:"SafeSuspense_PinRepPrimaryContent_PersistentOneClickSave",children:(0,S.jsx)(p.Z,{children:(0,S.jsx)(s.xu,{"data-test-id":"persistent-one-click-save",children:(0,S.jsx)(_.Z,{children:(0,S.jsx)(bi,{...C,saveOptions:e,pin:h})})})})}):"promote"===e.type&&(R=(0,S.jsx)(s.kC,{alignItems:"stretch",justifyContent:"end",children:(0,S.jsx)(c.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinPromoteButton",children:(0,S.jsx)(p.Z,{children:(0,S.jsx)(s.xu,{"data-test-id":"pin-promote-button",children:(0,S.jsx)(_.Z,{children:(0,S.jsx)(Ai,{pin:h})})})})})}));else{const{renderPinSaveTooltip:t}=e;R=(0,S.jsx)(c.Z,{name:"SafeSuspense_PinRepPrimaryContent_QuickSaveButton",children:(0,S.jsx)(p.Z,{children:(0,S.jsx)(_.Z,{children:(0,S.jsx)(wi,{experience:T||void 0,forcePrimaryContent:i,pin:h,renderPinSaveTooltip:t,showEnabledSaveBehavior:n,viewParameter:A})})})})}return(0,S.jsx)(c.Z,{name:"PinRepPrimaryContent",children:(0,S.jsx)(s.xu,{display:"flex",margin:3,children:R&&(0,S.jsx)(s.xu,{marginStart:"auto",flex:"grow",children:R})})})}const Ei={marginTop:"1px"},Ri=32,Ci=12;function ki({cta:e}){const i=(0,d.ZP)();return(0,S.jsx)(s.iP,{children:(0,S.jsx)(s.xu,{"data-test-id":"pinrep-chin",minHeight:Ri,color:"secondary",dangerouslySetInlineStyle:{__style:Ei},children:(0,S.jsxs)(s.xu,{padding:2,display:"flex",justifyContent:"between",children:[(0,S.jsx)(s.xv,{size:"200",weight:"bold",children:e||i.bt("Tìm hiểu thêm", "Learn more", "[m10n] pinRep.chin.learnMore", undefined, true)}),(0,S.jsx)(s.JO,{icon:"arrow-forward",size:Ci,accessibilityLabel:i.bt("Chuyển đến quảng cáo khách hàng tiềm năng", "Go to lead ad", "[m10n] pinRep.chin.arrowForwardIcon", undefined, true),color:"default"})]})})})}var ji=n(438908),Oi=n(299554),Ni=n(124364),Di=n(40706);const zi={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function Bi({isSelected:e}){const i=(0,d.ZP)();return(0,S.jsx)(s.xu,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:e?zi:{},children:(0,S.jsx)(s.xu,{position:"absolute",bottom:!0,right:!0,padding:3,children:(0,S.jsx)(s.xu,{alignItems:"center",color:e?"dark":"default",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}},children:(0,S.jsx)(s.JO,{accessibilityLabel:i.bt("Ghim được chọn để lưu", "Pin is selected to be saved", "SectionSuggestionPin.iconOnPin.selectedPin", undefined, true),color:"inverse",icon:"check",size:12})})})})}var Li=n(172071);const Mi={},Zi=e=>{Li.Z.increment("web_prefetch_via_xhr.attempt",1);const i=(0,x.Z)(e);return new Promise(((n,t)=>{if(window.navigator&&window.navigator.connection){const{connection:e}=window.navigator;e.saveData&&(Li.Z.increment("web_prefetch_via_xhr.saveDataOn",1),n()),/2g/.test(e.effectiveType)&&(Li.Z.increment("web_prefetch_via_xhr.poorConnection",1),n())}const o=new XMLHttpRequest;o.open("GET",e),o.onload=()=>{200===o.status?(Mi[e]&&(Mi[e].loaded=!0),Li.Z.increment("web_prefetch_via_xhr.load.success",1,{hostname:i.hostname||"unknown"}),n(o.response)):(Li.Z.increment("web_prefetch_via_xhr.load.error",1,{hostname:i.hostname||"unknown"}),t())},Mi[e]||(o.send(),Mi[e]={added:!0,xhr:o},Li.Z.increment("web_prefetch_via_xhr.xhrSent",1,{hostname:i.hostname||"unknown"}))}))},Gi=e=>{Mi[e]&&Mi[e].xhr&&!Mi[e].loaded&&(Li.Z.increment("web_prefetch_abort_xhr",1),Mi[e].xhr.abort(),Mi[e].aborted=!0)};var Fi=n(674915),Vi=n(802933),Ui=n(428258),Hi=n(944546);const Wi={},Yi=(e,i)=>{const n="string"==typeof e?e:e.url;if(i&&n){const e="control"===i?"v3.pinimg.com":"v2.pinimg.com";return n.replace("v1.pinimg.com",e)}return n};function $i(e,i){return(Yi("https://v1.pinimg.com/videos/mc/hls/",i)||"")+`${e.slice(0,2)}/${e.slice(2,4)}/${e.slice(4,6)}/${e}`}var Xi=n(876371);const qi=55,Ki=420,Ji=236,Qi=250,en=164;const nn=e=>"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width};function tn({autoplaySettingOff:e,blockClickEvents:i,fallbackColor:n,imageFit:o,imageHeightModifier:a,isDenseView:r,isHovering:l,onError:c,onLoad:d,pin:_,pinImageCrop:u,resolution:p="default",rootMargin:h,selectionState:m,showCarousel:g,showPromotedVideos:v,showLeadPinStdBeta:y,showUnavailablePin:x,surface:b}){const{contextLogData:T,slotIndex:w,viewParameter:A,viewType:I}=(0,P.E)(),{checkExperiment:E}=(0,be.F)(),{group:R}=E("web_prefetch_video_in_feed"),{id:C="",aggregated_pin_data:k,image_signature:j,story_pin_data:O}=_,{pin_tags_chips:N}=k||{},{isOneTap:D,isVideo:z,isPromoted:B}=(0,ne.Z)(_),{cropHeight:L,cropWidth:M}=nn(u);let Z=null;if(x)Z=(0,S.jsx)(Ni.Z,{isDenseView:r,height:r?Qi:Ki,rounding:0,width:r?en:Ji});else if(e||!z||!v&&B||"BoardCoverSelectablePin"===b)if(g)Z=(0,S.jsx)(s.xu,{"data-test-id":"pinrep-carousel",children:(0,S.jsx)(Xi.Z,{cropHeight:L,cropWidth:M,onError:c,onLoad:d,highResOnly:"high-res"===p,lowResOnly:"low-res"===p,pinId:C,showCarouselBadge:!1,pin:_})});else{const e="backend"===u?function({images:e,image_crop:i}){var n;const t=e&&(null===(n=e["236x"])||void 0===n?void 0:n.height);if(i&&(0!==i.min_y||1!==i.max_y)){const{min_y:e=0,max_y:n=0}=i;return{marginTop:(e>0?-1*e*(null!=t?t:0):0)+"px",marginBottom:`${n<1?Math.round(-1*(1-n)*(null!=t?t:0)):0}px`}}return{}}(_):{};Z=(0,S.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:e},"data-test-id":"pinrep-image",minHeight:qi,children:[(0,S.jsx)(ji.Z,{cropHeight:L,cropWidth:M,fallbackColor:n,imageFit:o,highResOnly:"high-res"===p,lowResOnly:"low-res"===p,mediumResOnly:"medium-res"===p,onLoad:d,onError:c,pin:_}),y&&(0,S.jsx)(ki,{cta:_.call_to_action_text})]})}else Z=(0,S.jsxs)(s.xu,{"data-test-id":"pinrep-video",direction:"column",display:"flex",height:L||void 0,justifyContent:"center",children:[(0,S.jsx)(Oi.Z,{cropHeight:L,cropWidth:M,highResOnly:"high-res"===p,imageHeightModifier:a,inAdsDesktopVideoExperiment:z&&v,isExperimentalPinRep:!0,lowResOnly:"low-res"===p,onError:c,onLoad:d,pin:_,rootMargin:h,surface:b,viewParameter:A,viewType:I}),y&&(0,S.jsx)(ki,{cta:_.call_to_action_text})]});const G=(0,S.jsx)(s.zd,{wash:!0,children:(0,S.jsx)(f.Z,{hovered:l,pin:_,slotIndex:w,viewType:1,children:Z})}),F=["selected-image-only","deselected-image-only"].includes(m),V="selected-image-only"===m,U=(0,t.useRef)(!0),H=(0,t.useRef)(!1),W=(0,t.useRef)(!1),Y=E("web_video_quic").group;if((0,t.useEffect)((()=>{U.current||!l||D||i||H.current?l||!H.current||W.current||(!function(e){const{id:i}=e;i&&Wi[i]&&Wi[i].length>0&&Wi[i].forEach((e=>{Gi(e)}))}(O||_),W.current=!0):O?(!function(e,i){var n;const{id:t,pages:o,pages_preview:a}=e;if(!a&&!o)return;const s=a?a[0]:null==o?void 0:o[0],r=null==s||null===(n=s.blocks)||void 0===n?void 0:n.find((e=>3===e.block_type));if(r&&r.video){const{hlsv3:e,mp4:n}=(0,Ui.Z)(r.video)||{},o=n||e;if(o&&t){var l;const e=null!==(l=Yi(o,i))&&void 0!==l?l:"";Wi[t]=Wi[t]?Wi[t].concat(e):[e],Zi(e)}}}(O,Y),H.current=!0):(!function(e,i){const{id:n,videos:t}=e,{video_list:o}=t||{},a=(0,Vi.Z)({pin:e}),{video:s}=(0,Fi.Z)(a)||{},{hls:r,hlsv3:l}=s||{};if(o){const e=(0,Ui.t)(o)||{},t=l||r||{};if(t.url){var c;const e=null!==(c=Yi(t.url,i))&&void 0!==c?c:"";Wi[n]=Wi[n]?Wi[n].concat(e):[e],Zi(e).then((e=>{let t=[];if("string"==typeof e&&(t=e.split("\n").filter((e=>e.endsWith(".m3u8")))),t&&t[Hi.VS]){const e=$i(t[Hi.VS],i);return Wi[n]=Wi[n].concat(e),Zi(null!=e?e:"")}return null})).then((e=>{let t=[];if("string"==typeof e&&(t=e.split("\n").filter((e=>e.endsWith(".ts")))),t&&t[0]){const e=$i(t[0],i);return Wi[n]=Wi[n].concat(e),Zi(null!=e?e:"")}return null}))}else if(e.url){var d;const t=null!==(d=Yi(e.url,i))&&void 0!==d?d:"";Zi(t),Wi[n]=Wi[n]?Wi[n].concat(t):[t]}}}(_,Y),H.current=!0),U.current=!1}),[i,l,D,O,_,R,Y]),i)return(0,S.jsxs)(t.Fragment,{children:[G,F&&(0,S.jsx)(Bi,{isSelected:V}),N&&(0,S.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,S.jsx)(Di.Z,{pin:_,enableCloseupLink:!0})})]});const{commerce_data:$,story_type:X,board_id:q,board_pin_count:K}=T||{};return(0,S.jsxs)(oe,{contextLogData:{commerce_data:$,grid_index:w,image_signature:j,story_type:X,board_id:q,board_pin_count:K},elementType:O?12372:35,pin:_,surface:b,children:[G,N&&(0,S.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,S.jsx)(Di.Z,{pin:_,enableCloseupLink:!1})})]})}var on=n(64446),an=n(834911),sn=n(447948);function rn({direction:e,swipeHandler:i}){const n=(0,d.ZP)(),t={left:n.bt("Xem hình ảnh trước", "View Previous", "Button to advance carousel to the previous image", undefined, true),right:n.bt("Xem hình ảnh tiếp theo", "View Next", "Button to advance carousel to the next image", undefined, true)};return(0,S.jsx)(s.xu,{position:"absolute",bottom:!0,top:!0,left:"left"===e,right:"right"===e,children:(0,S.jsx)(s.iP,{fullHeight:!0,fullWidth:!0,onTap:i,children:(0,S.jsx)(s.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":`carousel-slider-${e}`,children:(0,S.jsx)(s.JO,{accessibilityLabel:t[e],color:"inverse",icon:{left:"arrow-back",right:"arrow-forward"}[e]})})})})}function ln({pin:e}){const{logContextEvent:i}=(0,D.v)(),{componentType:n,viewParameter:t,viewType:a}=(0,P.E)(),r=(0,o.useDispatch)(),l=(0,an.Z)({carouselData:e.carousel_data,images:e.images,richMetadata:e.rich_metadata,richSummary:e.rich_summary});if(!l)return null;const{id:c=""}=e,{carousel_slots:d=[],index:u=0,id:p}=l;function h(o){return()=>{const s="left"===o?u-1:u+1;((e,i)=>{r((0,sn.yR)(e,i))})(c,s),((o=0,s)=>{i({event_type:108,object_id_str:c,component:n,view_type:a,view_parameter:t,event_data:{pinCarouselSlotEventData:{carouselSlotId:d[o]&&Number(d[o].id),carouselDataId:Number(p),carouselSlotIndex:o,toCarouselSlotIndex:s}},aux_data:{...(0,g.Kl)(e)||{}}})})(u,s)}}return(0,S.jsxs)(s.xu,{height:"100%",position:"relative",width:"100%",children:[u>0&&(0,S.jsx)(_.Z,{children:(0,S.jsx)(rn,{direction:"left",swipeHandler:h("left")})}),u<d.length-1&&(0,S.jsx)(_.Z,{children:(0,S.jsx)(rn,{direction:"right",swipeHandler:h("right")})})]})}function cn(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function dn(...e){return e.includes("visible")?"visible":e.includes("hidden")?"hidden":"none"}var _n=n(704115);const un={impressed:{backgroundColor:"#adebad"}},pn=()=>void 0!==(0,_n.Z)().debug_impression_log;function hn({debugImpressionState:e="paused",slotIndex:i}){return"paused"===e?null:(0,S.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:un.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5,children:(0,S.jsx)(s.xu,{position:"absolute",top:!0,left:!0,padding:2,color:"selected",children:(0,S.jsx)(s.xv,{color:"inverse",children:(0,S.jsx)("span",{className:"deprecatedTextSizeXL",children:i})})})})}var mn=n(337986),gn=n(43671);const fn=["CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid"],vn=14,yn=12,Pn={allPins:{component:210,view_type:4,view_parameter:3106},board:{view_type:5,view_parameter:3069},created:{component:13668,view_type:4,view_parameter:3106}};function xn({pinId:e,surface:i}){const{logContextEvent:n}=(0,D.v)(),t=(0,d.ZP)(),o=()=>{const e=fn.includes(i)?Pn.created:"BaseBoardPinGrid"===i?Pn.board:"UserProfilePinGrid"===i?Pn.allPins:{};n({event_type:101,element:10573,...e})},a=t.bt("Xem thêm số liệu thống kê", "See more stats", "pinRep.actionBar.seeStatsButton", undefined, true);return(0,S.jsx)(s.xu,{"data-test-id":"see-stats-button",paddingX:3,paddingY:3,children:fn.includes(i)?(0,S.jsx)(s.zx,{role:"link",accessibilityLabel:t.bt("Chuyển đến trang chi tiết số liệu thống kê về Ghim", "Go to pin stats details page", "pinRep.actionBar.seeStatsButton", undefined, true),color:"semiTransparentWhite",fullWidth:!0,href:`/pin/${e}/analytics`,onClick:o,size:"sm",text:(r=a,r.length>vn?`${r.substring(0,yn).trim()}...`:r)}):(0,S.jsx)(s.hU,{role:"link",accessibilityLabel:t.bt("Chuyển đến trang chi tiết số liệu thống kê về Ghim", "Go to pin stats details page", "pinRep.actionBar.seeStatsButton", undefined, true),bgColor:"white",href:`/pin/${e}/analytics`,icon:"ads-stats",iconColor:"darkGray",onClick:o,size:"sm"})});var r}var bn=n(108529),Sn=n(310227),Tn=n(841509),wn=n(525199);const An={SELECTED:"#000000",NOT_SELECTED:"#ffffff"},In=3,En=24;function Rn({selected:e=!1}){const i=(0,d.ZP)(),{isRTL:n}=(0,u.B)();return(0,S.jsx)(s.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,zIndex:new s.Ry(1),"data-test-id":"pinRepSelectionBorder",dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:e?An.SELECTED:An.NOT_SELECTED,borderRadius:Sn.Oc,boxShadow:e?"inset 0 0 0 3px #fff":void 0}},children:e?(0,S.jsx)(s.xu,{position:"absolute",bottom:!0,right:!n,left:n,display:"flex",alignItems:"center",justifyContent:"center",margin:In,rounding:2,height:En,width:En,color:"dark",children:(0,S.jsx)(s.JO,{accessibilityLabel:i.bt("Biểu tượng kiểm tra", "Check icon", "pinRepSelectionBorder.checkIcon", undefined, true),icon:"check",color:"inverse",size:12})}):(0,S.jsx)(s.xu,{right:!n,left:n,position:"absolute",top:!0,margin:In,children:(0,S.jsx)(s.JO,{accessibilityLabel:i.bt("Biểu tượng xử lý", "Handle icon", "pinRepSelectionBorder.handleIcon", undefined, true),icon:"handle",color:"light",size:En})})})}const Cn={wrapper:{borderRadius:Sn.Oc,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:Sn.Dv.VISUAL},savedOverlay:{backgroundColor:Sn.Dv.SAVED},legoWashOverlay:{backgroundColor:Sn.Dv.LEGO_WASH}};function kn({children:e,savedOverlayVisibility:i="none",visualOverlayVisibility:n="none",handleMouseOverPinContent:t,handleMouseLeavePinContent:o,primaryContent:a,primaryContentVisibility:r="none",secondaryContent:l,secondaryContentVisibility:c="none",accessoryContent:d,accessoryContentVisibility:_="none",actionBar:u,actionBarVisibility:p="none",seeStatsButton:h,footer:m,selectionState:g="no-selection",debugContent:f,signalDebuggerContent:v,signalDebuggerV2Content:y,signalDebuggerV2ContentVisibility:P="none",obscuredPinOverlay:x,showNoPinBorderRadius:b,showPromotedPinBorderTreatment:T,showLeadPinStdBeta:w,shouldUseLegoWash:A}){return(0,S.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:T?Cn.promotedPinBorderTreatment:{}},height:"100%","data-test-id":"pinRepPresentation",children:(0,S.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:b?{}:Cn.wrapper},"data-test-id":"pinWrapper",display:"flex",direction:"column",height:"100%",overflow:"hidden",position:"relative",children:[["selected","deselected"].includes(g)&&(0,S.jsx)(Rn,{selected:"selected"===g}),(0,S.jsxs)(s.xu,{"aria-hidden":Boolean(x),children:[(0,S.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:b?{}:Cn.wrapper},overflow:"hidden",position:"relative",onFocus:t,onBlur:o,onMouseEnter:t,onMouseLeave:o,children:[e,(0,S.jsx)(wn.Z,{visibility:n,children:(0,S.jsx)(Tn.Z,{additionalStyles:A?Cn.legoWashOverlay:Cn.visualOverlay})}),(0,S.jsx)(wn.Z,{visibility:i,children:(0,S.jsx)(Tn.Z,{additionalStyles:A?Cn.legoWashOverlay:Cn.savedOverlay})}),d&&(0,S.jsx)(wn.Z,{visibility:_,children:(0,S.jsx)(Tn.Z,{children:d})}),l&&(0,S.jsx)(wn.Z,{visibility:c,children:(0,S.jsx)(Tn.Z,{children:l})}),a&&(0,S.jsx)(wn.Z,{visibility:r,children:(0,S.jsx)(Tn.Z,{children:a})}),y&&(0,S.jsx)(wn.Z,{visibility:P,children:(0,S.jsx)(Tn.Z,{children:(0,S.jsx)(s.xu,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2,children:y})})}),u&&(0,S.jsx)(wn.Z,{visibility:p,children:(0,S.jsx)(Tn.Z,{children:(0,S.jsx)(s.xu,{position:"absolute",left:!0,right:!0,bottom:!0,marginBottom:w?8:0,children:u})})}),h&&(0,S.jsx)(Tn.Z,{children:(0,S.jsx)(s.xu,{position:"absolute",bottom:!0,children:h})}),f&&(0,S.jsx)(Tn.Z,{children:f}),v]}),m]}),x&&(0,S.jsx)(s.xu,{children:x})]})})}const jn=60,On=40,Nn=60;function Dn(e){return e<jn+On+Nn?"header-only":"none"}function zn(e){const[i,n]=(0,t.useState)(e.current?Dn(e.current.clientHeight||0):"none");return function(e,i){const n=(0,t.useRef)();(0,t.useEffect)((()=>{const t=e.current;if(!t)return;const o=n.current;o&&o.width===t.offsetWidth&&o.height===t.offsetHeight||(n.current={width:t.offsetWidth||0,height:t.offsetHeight||0},i&&i(n.current))})),n.current}(e,(({height:e})=>{const t=Dn(e);t!==i&&n(t)})),i}const Bn=4e3;var Ln=n(333155);const Mn=(0,t.memo)((function({actionBarProps:e,blockClickEvents:i,borderStyle:n,currentlyPlayingVideo:o,disableHover:a=!1,footerProps:r,impressionsDebuggerProps:l,obscuredPinOverlayProps:d,onError:u,onLoad:p,pin:h,pinVisualProps:m,presentationProps:g,primaryContentProps:f,rounding:v,secondaryContentProps:y,authDesktopSelectionState:P,showFooter:x,showImpressionsDebugger:b,showObscuredPinOverlay:T,showSeeStatsButton:w,showSignalDebugger:A,showUnavailablePin:I,surface:E,visibilityOverrides:R,imageHeightModifier:C}){var k,O;const{savedInfo:N}=h,{showEnabledSaveBehavior:D}=(0,xi.Yh)(Ln.ZF.includes(E)||(0,bn.Z)(E)),[z,B]=(0,t.useState)(!1),L=(0,Qe.Z)(z);let{isHovering:M,hoverTransitionState:Z,handleMouseOver:G,handleMouseLeave:F}=function(){const[e,i]=(0,t.useState)(!1);return{isHovering:e,hoverTransitionState:(0,Qe.Z)(e,0,Qe.X),handleMouseOver:(0,t.useCallback)((()=>i(!0)),[i]),handleMouseLeave:(0,t.useCallback)((()=>i(!1)),[i])}}();a&&(M=!1,Z="inactive");const V=(0,Qe.Z)(!!N),U=cn(V),H=cn(Z),W=cn(Z),Y=cn(L),$=cn(V),X=["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(E),q="visible"!==U||X?U:"none",K={primaryContentVisibility:null!==(k=R.primaryContent)&&void 0!==k?k:dn(W,Y,"visible"===$?"none":$),secondaryContentVisibility:(J=dn(W,Y,$),"none"===J?"visible":"visible"===J?"none":"hidden"),actionBarVisibility:dn(W,Y),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"};var J;const Q=e=>B(e),ee=e=>B(e),ie=e=>{B(e),e||F()};let ne=null;"none"!==K.primaryContentVisibility&&(ne=(0,S.jsx)(Ii,{forcePrimaryContent:Q,showEnabledSaveBehavior:D,onToggleFlyout:ee,onToggleModal:ie,pin:h,...f}));let te=null;const oe=(0,t.useRef)(!0),ae=oe.current;oe.current=!1;const se=function(e,i){const{carousel_data:n}=e,{index:o}=n||{},[a,s]=(0,t.useState)(!n||i),r=(0,t.useRef)(o),l=(0,t.useRef)(null);if(n){const e=r.current;r.current=o,(o!==e||i)&&(l.current&&clearTimeout(l.current),s(!0),l.current=setTimeout((()=>{s(!1),l.current=null}),Bn))}return(0,t.useEffect)((()=>()=>{l.current&&clearTimeout(l.current)}),[]),a}(h,ae),re=cn((0,Qe.Z)(se));K.secondaryContentVisibility=null!==(O=R.secondaryContent)&&void 0!==O?O:function(...e){return e.includes("none")?"none":e.includes("hidden")?"hidden":"visible"}(K.secondaryContentVisibility,re),te=(y.allowShoppingPriceIndicator||y.shoppingLabelColor||"none"!==K.secondaryContentVisibility)&&!o&&(0,S.jsx)(s.xu,{margin:2,children:(0,S.jsx)(on.Z,{pin:h,...y})});let le=null;"visible"===R.accessoryContent&&(le=(0,S.jsx)(ln,{pin:h}),K.accessoryContentVisibility=cn(Z));let ce={...e},de=null;w&&(ce={...ce,showSourceLinkButton:!1},de=(0,S.jsx)(_.Z,{children:(0,S.jsx)(xn,{pinId:h.id,surface:E})})),m.showLeadPinStdBeta&&(ce={...ce,showSourceLinkButton:!1});const _e="visible"===R.actionBar?(0,S.jsx)(j,{onToggleFlyout:ee,pin:h,setForcePrimary:B,surface:E,...ce}):null;let ue=null;(x||(0,bn.Z)(E))&&(ue=(0,S.jsx)(vi,{blockClickEvents:i,hoverTransitionState:"image-only-credit"===r.attributionType?Z:null,pin:h,setForcePrimary:B,surface:E,...r}));const pe=b&&(0,S.jsx)(hn,{...l}),he=A&&h.debug_info_html&&(0,S.jsx)(s.xu,{paddingY:1,children:(0,S.jsx)("pre",{children:h.debug_info_html})}),me=(0,S.jsx)(mn.Z,{pin:h}),ge=(0,t.useRef)();"header-only"===zn(ge)&&(K.actionBarVisibility="none",K.accessoryContentVisibility="none");const fe=T?(0,S.jsx)(gn.ZP,{pin:h,...d}):null,ve="ShoppingGridShippedMetadataWithVisitButton"===E?{height:"100%"}:{},ye=x&&"default"===r.attributionType&&Ln.ZF.includes(E),Pe=!h.is_promoted&&!a&&ye;return(0,S.jsx)(c.Z,{name:"PinRepContainer",children:(0,S.jsx)(s.xu,{"data-test-id":"pin","data-test-pin-id":h.id,onFocus:G,onBlur:F,onMouseEnter:G,onMouseLeave:F,dangerouslySetInlineStyle:{__style:ve},rounding:"ConversationView"===E?v:void 0,borderStyle:"ConversationView"===E?n:"none",overflow:"ConversationView"===E?"hidden":"visible",children:(0,S.jsx)(kn,{visualOverlayVisibility:H,savedOverlayVisibility:q,handleMouseOverPinContent:Pe?G:()=>{},handleMouseLeavePinContent:Pe?F:()=>{},primaryContent:ne,primaryContentVisibility:K.primaryContentVisibility,secondaryContent:te,secondaryContentVisibility:K.secondaryContentVisibility,accessoryContent:le,accessoryContentVisibility:K.accessoryContentVisibility,actionBar:_e,actionBarVisibility:K.actionBarVisibility,seeStatsButton:de,footer:ue,selectionState:P,debugContent:pe,signalDebuggerV2Content:me,signalDebuggerV2ContentVisibility:K.signalDebuggerV2ContentVisibility,signalDebuggerContent:he,obscuredPinOverlay:fe,...g,children:(0,S.jsx)(s.xu,{height:"100%",ref:ge,children:(0,S.jsx)(tn,{blockClickEvents:i,showUnavailablePin:I,isHovering:M,onError:u,onLoad:p,pin:h,surface:E,selectionState:P,imageHeightModifier:C,...m})})})})})}));var Zn=n(687551);var Gn=n(329734),Fn=n(926275),Vn=n(411938),Un=n(53987),Hn=n(750391),Wn=n(976071),Yn=n(463045),$n=n(717615),Xn=n(231947),qn=n(965900),Kn=n(41233);function Jn({isGroupBoard:e,pin:i,surface:n}){const{carousel_data:t,grid_title:o,rich_summary:a,title:s}=i,{isOwnPin:r,isPromoted:l}=(0,ne.Z)(i);if(t){const{carousel_slots:e=[],index:i=0}=t;if(e[i]&&e[i].title)return e[i].title.trim()}if(l){if(Ln.ZF.includes(n))return o||"";if(r&&!e&&!t&&"UserProfilePinGrid"!==n)return"";const i=a&&"mobile application"!==a.type_name&&a.display_name;return s||i||o||""}return o||""}const Qn=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"],et=({surface:e,isORBACProfileManager:i,isORBACGA:n,isRemovable:t})=>"CloseupRelatedProducts"!==e&&!t&&(!i||(null==n||n));var it=n(807592);const nt=["CloseupRelatedProducts","ConversationView","CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid","ProductPinsFeed","UserProfilePinGrid"];function tt({attributionOption:e,board:i,contentType:n,experimentsClient:t,feedbackData:o,feedbackType:a,hasCarouselData:s,isGroupBoard:r,isORBACProfileManager:l,isOwnBoard:c,pin:d,showImageOnly:_,showNativeReactions:u,showPromotedShoppingPrice:p,surface:h,viewer:m,variantData:f}){var v;const{isPromoted:y,isSponsored:P}=(0,ne.Z)(d),{pin_note:x}=d,b=function({attributionOption:e,feedbackType:i,isGroupBoard:n,pin:t,showImageOnly:o,surface:a}){const{is_downstream_promotion:s,native_creator:r,promoter:l,sponsorship:c,story_pin_data_id:d}=t;if("promoted"===i||l&&!s||c)return"default";if("ConversationView"!==a&&nt.includes(a))return"none";if(n)return"none";let _="default";return"SearchItem"===a&&d?_:(e&&("image-only"===e?_="image-only-credit":"hide"===e&&(_="none")),"followed"!==i||o?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(a)&&"hide"===e?_:"TodayArticleFeed"===a&&"show"===e?"show-for-claimed-content":r?"default":"none":_)}({attributionOption:e,feedbackType:a,isGroupBoard:r,pin:d,showImageOnly:_,surface:h}),S=null!=f&&f.title?f.title:Jn({isGroupBoard:r,pin:d,surface:h}),T=_?"":S,w=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(h)&&!y&&!_&&Boolean(fe(d,h)),A=["ShoppingGridShippedMetadataWithVisitButton"].includes(h);let I="BaseBoardPinGrid"===h&&x?null===(v=x.text)||void 0===v?void 0:v.trim():null;!I&&d.unified_user_note&&(I=d.unified_user_note.trim());const E=y,R="shopping"===n;let C=!0;"AuthHomefeed"!==h||y||(u=!1,C=!Boolean((0,g.fz)(d)));let k,j,O,N,D=2;if(y?D=3:(w||"none"!==b)&&(D=R?2:1),R||p){var z,B;const e=null===(z=d.rich_summary)||void 0===z||null===(B=z.products)||void 0===B?void 0:B[0],{offer_summary:i}=e||{};k=i?i.standard_price:void 0,j=i?(0,it.Z)(i):void 0}if(f){const{offerSummary:e}=f;k=e?e.standard_price:void 0,j=e?e.price||e.max_price:void 0}if(R&&!y){var L,M,Z;const{rating_count:e,rating_value:i,review_count:n}=(null===(L=d.rich_summary)||void 0===L?void 0:L.aggregate_rating)||{};(e||n)&&parseFloat(i)&&(O={count:e||n,rating:i}),N=null===(M=d.rich_metadata)||void 0===M||null===(Z=M.products)||void 0===Z?void 0:Z[0].shipping_info}const G=(0,Hn.rh)(d,m,t),F="CreatorProfileStoryPinGrid"===h||"CreatorProfileActivityPinGrid"===h,V=!F,U=r&&!P;return{attributionType:b,board:i,contentType:n,feedbackData:o,feedbackType:a,pinNoteText:I,pinTitle:T,productCurrentPrice:j,productOriginalPrice:k,productRating:O,productShipping:N,showCarouselEllipsis:s,showFavoriteButton:!l&&("BaseBoardPinGrid"===h&&c||Boolean((null==i?void 0:i.is_collaborative)&&(0,Ze.Z)({board:i,viewer:m})))&&!F,showGroupBoardAvatar:U,showNativeReactions:u,showOverflowMenu:E,showPinStats:G,showSource:w,showTextContent:V,showVisitSiteButton:A,showAttribution:C,titleLines:D}}const ot=424,at=278,st=640,rt=508;var lt=n(53325),ct=n(957161),dt=n(121630),_t=n(299899);const ut=["ShoppingCatalogsProductsMetadata"];const pt=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin"],ht=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin","ShoppingCatalogsProductsMetadata"];var mt=n(697247),gt=n(675725),ft=n(436395),vt=n(99137),yt=n(130460),Pt=n(698330);const xt=(0,t.lazy)((()=>Promise.all([n.e(97270),n.e(92982)]).then(n.bind(n,576070)))),bt=["ArticleProductsStory","BoardCoverSelectablePin","BoardNoteSelectablePin","BulkEditMode","CommentReply","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","SelectableBoardlessPin","TopicBestPinNarrow","TopicBestPinWide"],St=["BaseBoardPinGrid","UserProfilePinGrid",...fn];function Tt({attributionOption:e,blockClickEvents:i,debugImpressionState:n,disableReaction:s,feedback:d,imageOnlyOption:_="default",pin:u,pinId:h,pinImageCrop:m,pinImageFit:g,resolution:f="default",saveButtonOptions:v,authDesktopSurface:y,trackingParameters:x,...b}){var T,w,A,I,E,R,C,k;const j=(0,$.S6)()(h)||u,O=null!==(T=null===(w=j.board)||void 0===w?void 0:w.id)&&void 0!==T?T:"",D=(0,yt.gC)()(O)||j.board;j.grid_title=j.grid_title||u.grid_title;const z=(0,be.F)(),{checkExperiment:L}=z,{collaborated_by_me:M,collaborator_count:Z,is_collaborative:G}=D||{},{is_quick_promotable:F,pinner:V,showFeedback:U,sponsorship:H}=j,{isPromoted:W}=(0,ne.Z)(j),Y=(0,Wn.Z)(j),X=(0,B.Z)(),q=(0,$n.Z)(),{anyEnabled:K}=L("web_m10n_business_access_orbac_www"),{anyEnabled:J}=L("web_m10n_business_access_orbac_ga"),Q=J?(0,Xn.lJ)(X,q):"",ee=(0,a.useLocation)(),{slotIndex:ie,viewParameter:te}=x,oe=["AuthHomefeed","BaseBoardPinGrid"].includes(y)&&L("web_repin_flow").anyEnabled,ae=(0,vt.x)(),se=(0,Gn.P)(),{appUI:{videosAutoplaying:re}}=(0,qn.I)(),le=(0,Yn.Z)(j.id,re),ce=(0,o.useSelector)((({changeBoardFromToast:e})=>e))||{},de=function(e){const i=e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products[0]&&e.rich_metadata.products[0].additional_images;return!!(i&&i.length>0)}(j),ue=(0,Zn.Z)(j),pe=X.isAuth&&X.isEmployee,he=X.isAuth&&((0,Fn.Z)(X.createdAt)||(0,Vn.Z)(null,X))&&!X.isPartner;let me=he;"TodayArticleFeed"===y&&(me=!1),"default"!==_&&(me="image-only"===_),(0,bn.Z)(y)&&(me=!1),"ShoppingSquareGridDomainNoMetadata"===y&&(me=!0);let ge=e;(he&&!ge||se)&&(ge="image-only");const fe=(0,gt.Z)({feedbackType:null==d?void 0:d.type,pin:j,viewParameter:te}),{data:ve}=d||{},ye="number"==typeof Z&&Z>0||G;let Pe=!1;"OtherProfilePinGrid"===y?Pe=!0:"BaseBoardPinGrid"===y?Pe="dense"===(null==ae?void 0:ae.boardPinDensity):"UserProfilePinGrid"===y&&(Pe="dense"===(null==ae?void 0:ae.profilePinDensity));const xe=Boolean(ye&&"BaseBoardPinGrid"===y),Se=(0,ft.Z)(),Te=(0,Pt.kW)(),we=Te&&Te[null!==(A=null===(I=Se.data)||void 0===I?void 0:I.id)&&void 0!==A?A:""]?Te[null!==(E=null===(R=Se.data)||void 0===R?void 0:R.id)&&void 0!==E?E:""]:Se.data,Ae=(0,N.Z)(X,D);let Ie=!1;if(!!(0,a.matchPath)(ee.pathname,{path:"/:username/_created/",exact:!0}))Ie=(0,Xn.q6)(X,null==we?void 0:we.id,q);else if((0,Un.am)(ee)||(0,Un.OJ)(ee)){const e=D&&D.owner&&D.owner.id||"";Ie=(0,Xn.q6)(X,e,q)}const Ee=Boolean(X.isAuth&&V&&V.id===X.id),Re=Boolean(M||ye&&Ae),Ce=X.isAuth&&X.isPartner,ke=!(null===(C=j.story_pin_data)||void 0===C||!C.is_deleted),je=(0,t.useMemo)((()=>function({hasCarouselData:e,isDeletedStoryPin:i,surface:n}){const t={primaryContent:null,secondaryContent:null,actionBar:ht.includes(n)||i?"none":"visible",accessoryContent:e?"visible":"none"};return i||pt.includes(n)?(t.primaryContent="none",t.secondaryContent="none"):["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(n)&&(t.primaryContent="visible"),t}({hasCarouselData:ue,isDeletedStoryPin:ke,surface:y})),[ue,ke,y]),Oe=(0,t.useMemo)((()=>function({board:e,isDenseView:i,isGroupBoard:n,isInlineBetterSave:t,isOwnBoard:o,isORBACProfileManager:a,isQuickPromotable:s,isRemovable:r,saveButtonOptions:l,surface:c,viewer:d,viewerIsCollaborator:_}){const u=d.isAuth?d.boardCount:void 0;let p=l||function(e=0){return 0===e?{type:"classic"}:{type:"inline"}}(u);s?p={type:"promote"}:(_||o||["OtherProfilePinGrid","UserProfilePinGrid"].includes(c))&&!["BoardlessPins","CreatorProfileActivityPinGrid","CreatorProfileStoryPinGrid","BaseBoardPinGrid"].includes(c)?p={type:"classic"}:(_||o)&&["BaseBoardPinGrid"].includes(c)&&null!=e&&e.name&&e.url&&e.id&&(p={type:"inline",initialSelection:{title:e.name,boardId:e.id,url:e.url}});return t&&(p={type:"inline",hidePinBetterSaveDropdown:"BaseBoardPinGrid"===c}),(r||ut.includes(c)||a)&&(p={type:"none"}),{board:e,derivedSaveButtonOptions:p,showLikeButton:_&&n&&Ln.UP.includes(c),supportsReactionBar:!i}}({board:D,isInlineBetterSave:oe,isDenseView:Pe,isGroupBoard:xe,isOwnBoard:Ae,isOwnPin:Ee,isORBACProfileManager:Ie,isQuickPromotable:F,isRemovable:Y,saveButtonOptions:v,surface:y,viewer:X,viewerIsCollaborator:Re})),[D,oe,Pe,xe,Ae,Ee,Ie,F,Y,v,y,X,Re]),{anyEnabled:Ne}=L("web_shopping_grid_metadata_ratings_shipping",{dangerouslySkipActivation:!0});let ze;["ShoppingDynamicHeightGrid","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadataWithVisitButton"].includes(y)&&!W&&(ze="white");const Be=(0,t.useMemo)((()=>function({allowProductCarousel:e=!1,shoppingLabelColor:i,surface:n}){return{allowProductCarousel:e,allowShoppingPriceIndicator:Ln.Wv.includes(n),shoppingLabelColor:i}}({allowProductCarousel:de,shoppingLabelColor:ze,surface:y})),[de,ze,y]),Le=(0,t.useMemo)((()=>function({board:e,feedbackData:i,feedbackType:n,isDenseView:t,isGroupBoard:o,isOwnBoard:a,isORBACProfileManager:s,isORBACBeta:r,isORBACGA:l,pin:c,isRemovable:d,surface:_,viewer:u}){var p;const{isOwnPin:h,isPromoted:m}=(0,ne.Z)(c),g=Jn({isGroupBoard:o,pin:c,surface:_}),f=e&&(0,Kn.Z)({action:4,board:e,viewer:u})||h,v=c.savedInfo&&c.savedInfo.localPinId,y=Boolean(a&&!o||"UserProfilePinGrid"===_&&f||v),P=Boolean(o&&f||y||s&&(!(0,_e.hy)(c.story_pin_data_id)||r)),x=Boolean((null==e?void 0:e.is_collaborative)||y),b=!(m||a||o||Qn.includes(_)||s),S=et({surface:_,isORBACProfileManager:s,isORBACGA:l,isRemovable:d}),{tracked_link:T,link:w}=c,A=!(null===(p=null!=T?T:w)||void 0===p||!p);let I=o&&t?"equally-spaced":"default",E="default";return t&&(E=o?"icon-only":"truncated-text"),t&&["UserProfilePinGrid","BaseBoardPinGrid","BoardlessPins"].includes(_)&&(E="icon-only",I="equally-spaced"),{actionBarEditBeforeShare:x,feedbackData:i,feedbackType:n,layout:I,pinTitle:g,showEditButton:P,showOverflowMenu:b,showShareButton:S,showSourceLinkButton:A,sourceLinkStyle:E}}({board:D,feedbackData:ve,feedbackType:fe,isDenseView:Pe,isGroupBoard:xe,isOwnBoard:Ae,isORBACProfileManager:Ie,isORBACBeta:K,isORBACGA:J,isRemovable:Y,pin:j,surface:y,viewer:X})),[D,ve,fe,Pe,xe,Ae,Ie,K,J,Y,j,y,X]);let Me=!1;j.story_pin_data&&!X.isPartner&&(Me=L("web_auth_remove_pinner_pinstats").anyEnabled);const Ze=!Me&&(0,Hn.rh)(j,X,z,Q)&&St.includes(y)&&(Ee||J&&Ie),Ge=["ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadata","ShoppingGridShippedMetadataWithVisitButton","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(y),Fe=!W&&Ge?"shopping":"standard";let Ve=(s||"CreatorProfileStoryPinGrid"!==y||Ee)&&(0,De.J6)(j,ke);const Ue=(0,si.Xx)();Ve=!se&&Ve;const He=(0,t.useMemo)((()=>tt({attributionOption:ge,board:D,contentType:Fe,experimentsClient:z,feedbackData:ve,feedbackType:fe,hasCarouselData:ue,isGroupBoard:xe,isORBACProfileManager:Ie,isOwnBoard:Ae,pin:j,showImageOnly:me,showNativeReactions:Ve,showPromotedShoppingPrice:Ne&&W&&Ge,surface:y,viewer:X,variantData:Ue})),[ge,D,Fe,z,ve,fe,ue,xe,Ie,Ae,W,Ge,j,Ne,me,Ve,y,X,Ue]),We=!!j.story_pin_data_id,Ye=j.created_at?new Date(j.created_at):null,$e=(0,l.pN)({isOwnPin:Ee,isStoryPin:We,pinCreationDate:Ye,surface:y});Me&&(He.showPinStats=!1);let Xe=Boolean(He.pinTitle||He.contentType||He.userNote||He.showSource||"none"!==He.attributionType||He.showNativeReactions||He.productCurrentPrice||He.productOriginalPrice||He.showPinStats)||xe;"BaseBoardPinGrid"===y&&Ae&&Ce||H?Xe=!0:bt.includes(y)||Pe&&(Ae||M)?Xe=!1:Ee||"CreatorProfileStoryPinGrid"!==y&&"CreatorProfileActivityPinGrid"!==y||(Xe=!1),!se||W||H||(Xe=!1);const qe=Boolean(U),{showLeadPinStdBeta:Ke}=(0,r.Z)(j),Je={showNoPinBorderRadius:"TopicBestPinNarrow"===y||"TopicBestPinWide"===y||"ConversationView"===y,showPromotedPinBorderTreatment:"BaseBoardPinGrid"===y&&W,shouldUseLegoWash:!0,showLeadPinStdBeta:Ke},Qe={feedbackType:fe},{anyEnabled:ei}=L("ads_desktop_video_ads",{dangerouslySkipActivation:!0}),ii=(0,t.useMemo)((()=>function({hasCarouselData:e,isDenseView:i,pinImageCrop:n,pinImageFit:t,resolution:o,showPromotedVideos:a,showLeadPinStdBeta:s,surface:r}){const l=Ln.zl.includes(r);let c="backend";"CloseupRelatedProducts"===r?c={height:lt.GZ,width:lt.OE}:"TopicBestPinWide"===r?c={height:ot,width:at}:"TopicBestPinNarrow"===r?c={height:st,width:rt}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomainNoMetadata"].includes(r)||l?c={height:lt.zX,width:lt.zX}:n&&(c=n);let d="none",_=null!=o?o:"default";"string"!=typeof c&&(d="cover",(l||"ShoppingDynamicHeightGrid"===r&&!t||"ShoppingSquareGridDomainNoMetadata"===r)&&(d="contain",_="high-res"));const u=l||["ShoppingSquareGridDomainNoMetadata","ShoppingDynamicHeightGrid"].includes(r)?"transparent":"dominant",p=(0,dt.e)(r);return{autoplaySettingOff:"undefined"!=typeof window&&0===ct.Z.getItem(_t._e),fallbackColor:u,imageFit:d,isDenseView:i,resolution:_,rootMargin:p,pinImageCrop:c,showCarousel:e&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(r),showPromotedVideos:a,showLeadPinStdBeta:s}}({hasCarouselData:ue,isDenseView:Pe,isPromoted:W,pinImageCrop:m,pinImageFit:g,resolution:f,showPromotedVideos:ei,showLeadPinStdBeta:Ke,surface:y})),[ue,Pe,W,m,g,f,ei,Ke,y]),ni=pe&&pn(),ti=(0,t.useMemo)((()=>({debugImpressionState:n,slotIndex:ie})),[n,ie]),oi=(0,t.useMemo)((()=>({surface:y})),[y]);return(0,S.jsx)(c.Z,{name:"PinRepConfiguration",children:(0,S.jsx)(P.B,{value:x,children:(0,S.jsxs)(mt.B,{value:oi,children:[(0,S.jsx)(Mn,{actionBarProps:Le,blockClickEvents:i,currentlyPlayingVideo:le,footerProps:He,impressionsDebuggerProps:ti,obscuredPinOverlayProps:Qe,pin:j,pinVisualProps:ii,presentationProps:Je,primaryContentProps:Oe,secondaryContentProps:Be,showFooter:Xe||$e,showImpressionsDebugger:ni,showObscuredPinOverlay:qe,showSeeStatsButton:Ze,showSignalDebugger:pe,showUnavailablePin:ke,surface:y,visibilityOverrides:je,...b}),ce.shouldOpenModal&&ce.newPin&&(null===(k=ce.originalPin)||void 0===k?void 0:k.id)===j.id&&(0,S.jsx)(c.Z,{name:"SafeSuspense_PinRepConfiguration_ChangeBoardModal",children:(0,S.jsx)(p.Z,{children:(0,S.jsx)(xt,{experience:ce.experience,newPin:ce.newPin})})})]})})})}},512076:(e,i,n)=>{n.d(i,{Z:()=>a});var t=n(605028),o=n(773285);const a=e=>{const{isLeadPin:i}=(0,t.Z)(e),n=(0,o.F)();return{isLeadPin:i,showLeadPinStdBeta:i&&n.checkExperiment("web_lead_ads_std_beta").anyEnabled,showLeadPinStdAlpha:i&&n.checkExperiment("web_lead_gen_ads").anyEnabled}}},104389:(e,i,n)=>{n.d(i,{Z:()=>d});var t=n(883119),o=n(869503),a=n(831539),s=n(474236),r=n(785893);const l=({count:e,countFormat:i,ratingValue:n,shippingInfo:l})=>(0,r.jsxs)(t.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,r.jsx)(a.Z,{count:e,countFormat:i,rating:n,textSize:"200"}),(0,r.jsx)(t.xu,{marginTop:(0,s.Z)({count:e,rating:n})?1:0,children:(0,r.jsx)(o.Z,{customStyles:{color:"subtle",size:"200"},freeShippingPrice:null==l?void 0:l.free_shipping_price,freeShippingValue:null==l?void 0:l.free_shipping_value})})]}),c=({count:e,countType:i,countFormat:n,hideSeparationDot:l,bracket:c,ratingValue:d,shippingInfo:_})=>(0,r.jsxs)(t.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:8}},display:"flex",marginTop:1,wrap:!0,children:[(0,r.jsx)(a.Z,{bracket:c,count:e,countFormat:n,countType:i,rating:d,textSize:"300"}),(0,r.jsx)(t.xu,{marginStart:(0,s.Z)({count:e,rating:d})&&l?2:0,children:(0,r.jsx)(o.Z,{customStyles:{color:"default",size:"300"},showPrevDot:(0,s.Z)({count:e,rating:d})&&!l,freeShippingPrice:null==_?void 0:_.free_shipping_price,freeShippingValue:null==_?void 0:_.free_shipping_value})})]});function d(e){return e.isGridView?(0,r.jsx)(l,{...e}):(0,r.jsx)(c,{...e})}},807592:(e,i,n)=>{function t(e){const{max_price:i,min_price:n,price:t}=e;return i&&n?`${n}-${i}`:t}n.d(i,{Z:()=>t})},35495:(e,i,n)=>{n.d(i,{GT:()=>h,Gy:()=>s,Kl:()=>v,QY:()=>p,RR:()=>l,SP:()=>d,Sn:()=>f,Zs:()=>g,bA:()=>_,fz:()=>u,i8:()=>r,nn:()=>a,qN:()=>c});var t=n(834911),o=n(835209);const a=e=>!!e&&(e.shopping_flags||[]).includes(2),s=e=>{var i,n;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null!==(i=null===(n=e.rich_metadata)||void 0===n?void 0:n.products)&&void 0!==i?i:[]).length>0},r=e=>{var i;return null===(i=e.aggregated_pin_data)||void 0===i?void 0:i.is_shop_the_look},l=e=>{var i,n;return null===(i=e.rich_summary)||void 0===i||null===(n=i.aggregate_rating)||void 0===n?void 0:n.rating_value},c=e=>e.is_oos_product,d=e=>e.is_stale_product,_=e=>c(e)||d(e),u=e=>{var i;const n=(0,o.Z)({richPinData:e.rich_summary||{}});return null==n||null===(i=n.brand)||void 0===i?void 0:i.name},p=e=>{var i,n,t,o;const a=null===(i=e.link_domain)||void 0===i||null===(n=i.official_user)||void 0===n?void 0:n.full_name;if(a)return a;const s=null===(t=e.rich_summary)||void 0===t?void 0:t.site_name;if(s)return s;if(e.domain){if("Uploaded by user"===e.domain){return((e.is_repin?e.origin_pinner:e.pinner)||{}).full_name}return e.domain}const r=null===(o=e.via_pinner)||void 0===o?void 0:o.full_name;return e.is_repin&&r?r:void 0},h=e=>{if(e){const i=e.shopping_flags||[];return[...i,...!i.includes(10)&&e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0]&&e.product_pin_data.items[0].additional_images?[10]:[]]}return[]},m=e=>{const i=(null==e?void 0:e.variants)||[],n=(null==e?void 0:e.dimension_metadata)||[];return Array.isArray(i)&&Array.isArray(n)?n.reduce(((e,n)=>n.name&&Array.isArray(n.values)?e+n.values.filter((e=>i.find((i=>{var t,o;return(null===(t=i.dimensions)||void 0===t?void 0:t[null!==(o=n.name)&&void 0!==o?o:""])===e})))).length:e),0):0};function g(e,i){var n,o,a;const s=h(e);let r={...null==i||null===(n=i.contextLogData)||void 0===n?void 0:n.commerce_data};if(s.includes(2)&&(r={...r,pin_is_shop_the_look:!0}),s.includes(1)&&(r={...r,is_available:!0}),s.includes(5)&&(r={...r,is_product_pin_v2:!0}),s.includes(6)&&(r={...r,is_rich_product_pin:!0}),s.includes(10)&&(r={...r,is_organic_product_carousel:!0}),e.is_eligible_for_pdp_plus||e.is_eligible_for_pdp||e.is_oos_product||e.is_stale_product){e.is_oos_product?r={...r,pin_show_pdp_oos:!0}:e.is_stale_product?r={...r,pin_show_pdp_stale:!0}:e.is_eligible_for_pdp&&(r={...r,pin_show_pdp:!0});const n=(0,t.Z)({carouselData:e.carousel_data,images:e.images,richMetadata:e.rich_metadata,richSummary:e.rich_summary});if(null!=i&&i.isPdpPlus){var l,c,d,_,u,p,g,f,v;r={...r,is_pdpplus:!0};const i=null===(l=e.rich_metadata)||void 0===l||null===(c=l.products)||void 0===c?void 0:c[0],t=null==i||null===(d=i.shipping_info)||void 0===d?void 0:d.free_shipping_price,o=null==i||null===(_=i.shipping_info)||void 0===_?void 0:_.free_shipping_value,a=(null==i||null===(u=i.variant_set)||void 0===u||null===(p=u.variants)||void 0===p?void 0:p.length)||0,s=m(null==i?void 0:i.variant_set),h=(null==i||null===(g=i.variant_set)||void 0===g||null===(f=g.dimension_metadata)||void 0===f?void 0:f.length)||0,P=null==i||null===(v=i.brand)||void 0===v?void 0:v.signature;var y;if(P&&(r={...r,brand_signature:P}),n)r={...r,carousel_image_count:null===(y=n.carousel_slots)||void 0===y?void 0:y.length};t&&(r={...r,free_shipping_price:t}),o&&(r={...r,free_shipping_value:o}),a&&(r={...r,num_variants:a}),s&&(r={...r,valid_dimension_option_count:s}),h&&(r={...r,total_dimension_option_count:h})}else if(n){var P;r={...r,image_count:null===(P=n.carousel_slots)||void 0===P?void 0:P.length},r={...r,image_index:n.index}}}const x=null===(o=e.rich_summary)||void 0===o||null===(a=o.products)||void 0===a?void 0:a[0];null!=x&&x.item_id&&(r={...r,item_id:x.item_id}),null!=x&&x.item_set_id&&(r={...r,item_set_id:x.item_set_id});return(e.aggregated_pin_data||{}).is_shop_the_look&&(r={...r,pin_is_shop_the_look:!0}),e.story_pin_data&&(r={...r,story_pin_id:e.story_pin_data.id}),r}function f(e){const i=JSON.stringify(e);return"{}"!==i?{commerce_data:i}:null}const v=(e,i)=>e?f(g(e,i)):null},699825:(e,i,n)=>{n.d(i,{Z:()=>_});var t=n(667294),o=n(47170),a=n(35495),s=n(407043),r=n(186656),l=n(623568),c=n(692627),d=n(785893);function _({children:e,hovered:i,pin:n,slotIndex:_,trafficSource:u,viewType:p}){var h,m,g;const{logContextEvent:f}=(0,s.v)(),[v,y]=(0,t.useState)(),[P,x]=(0,t.useState)(),{id:b,tracked_link:S,link:T}=n,w=S||T||"",A=()=>{y(!0)},I=(0,o.Z)(n),E=(0,c.Z)({hasPin:!!n,hasPinRichMetadata:!(null==n||!n.rich_metadata),hasPinRichMetadataProducts:!(null==n||null===(h=n.rich_metadata)||void 0===h||!h.products),hasPinRichMetadataArticle:!(null==n||null===(m=n.rich_metadata)||void 0===m||!m.article),hasPinRichMetadataRecipe:!(null==n||null===(g=n.rich_metadata)||void 0===g||!g.recipe),hasPinStoryPinData:!(null==n||!n.story_pin_data)}),R=(0,t.useCallback)((()=>{(0,r.Z)({url:"/v3/offsite/",data:{check_only:!1,pin_id:n.id,url:w,client_tracking_params:I,aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:b,..._||{},...(0,a.Kl)(n)||{}})}}).then((e=>{e&&(f({event_type:12,object_id_str:b,view_type:p,view_parameter:E,aux_data:{clickthrough_type:"rightClick",..._||{},...(0,a.Kl)(n)||{}}}),f({event_type:8948,view_type:p,object_id_str:b,view_parameter:E,aux_data:{click_type:"clickthrough",closeup_navigation_type:u&&(0,l.sV)(u)?"deeplink":"click",clickthrough_type:"rightClick",..._||{},...(0,a.Kl)(n)||{}}}))}))})),C=e=>{var i;v&&(/^\/pin/.test(null===(i=e.target.activeElement.attributes.href)||void 0===i?void 0:i.value)||(R(),y(!1)),window.removeEventListener(P,C,!1))};return(0,t.useEffect)((()=>{var e,i,n,t,o,a;void 0!==(null===(e=window)||void 0===e||null===(i=e.document)||void 0===i?void 0:i.hidden)?x("visibilitychange"):void 0!==(null===(n=window)||void 0===n||null===(t=n.document)||void 0===t?void 0:t.msHidden)?x("msvisibilitychange"):void 0!==(null===(o=window)||void 0===o||null===(a=o.document)||void 0===a?void 0:a.webkitHidden)&&x("webkitvisibilitychange")}),[]),(0,t.useEffect)((()=>(v&&window&&window.addEventListener(P,C,!1),()=>window.removeEventListener(P,C))),[v,P]),(0,t.useEffect)((()=>(i&&window.addEventListener("contextmenu",A),()=>{window.removeEventListener("contextmenu",A)})),[i]),(0,d.jsx)(t.Fragment,{children:e})}},711344:(e,i,n)=>{n.d(i,{Z:()=>_,v:()=>c});var t=n(172071),o=n(231486),a=n(226198);var s=n(932046),r=n(867820),l=n(644035);const c=e=>{const{userAgent:i}=e;if(!i.isMobile&&!i.isTablet)return"desktop";switch(i.platform){case l.RL:return"iphone";case l.GW:return i.isTablet?"android_tablet":"android";case l.s4:return"ipad";default:return"mobile_other"}},d=({moduleName:e,pageType:i,requestContext:n,route:l})=>{const d=c(n),_=n.isAuthenticated?"auth":"unauth",u=(()=>{const e=navigator&&navigator.userAgent.toLowerCase();if(e){if(e.indexOf("googlebot")>-1||e.indexOf("google web preview")>-1||e.indexOf("google page speed insights")>-1)return"google_bot";if(e.indexOf("msnbot")>-1||e.indexOf("bingbot")>-1)return"ms_bot";if(e.indexOf("applebot")>-1)return"apple_bot";if(e.indexOf("yahoo")>-1||e.indexOf("slurp")>-1)return"yahoo_bot";if(e.indexOf("yandex")>-1)return"yandex"}})(),p=(0,s.Z)(),h=function(){let e=!1;return o.U2(a.VL)||(o.t8(a.VL,"1",(0,o.kZ)(a.VL)),e=!0),e}(),m=document.domain||"unknown";h&&((0,r.My)(`traffic.${d}.${p}.${e}.${_}`),(0,r.My)(`traffic_subdomain.${m}.${p}.${e}.${_}`),(0,r.My)(`traffic_subdomain.${m}.${d}.${p}.${e}.${_}`),(0,r.My)(`traffic_subdomain.${m}.${d}.${_}`),(0,r.My)(`traffic_duplo.${d}.${p}.${e}.${_}`),u&&(0,r.My)(`traffic_bot.${u}.${e}`));t.Z.increment("webapp.traffic",.1,{domain:m,isAuth:_,pageType:i,userAgentPlatform:d,botType:u,firstVisit:h,moduleName:e,referrer:p,route:l})};function _({pageType:e,requestContext:i,route:n}){d({moduleName:{"/":"HomePage","/login":"LoginPage","/pin/:id":"Closeup","/:username":"ProfilePage","/:username/:slug":"BoardPage","/topics/:interest":"TopicPage","/today":"TodayTabPage","/today/:term/:title/:articleId":"TodayArticleFeedPage","/ideas":"IdeasRootPage","/ideas/:interest/:id":"IdeasPage","/videos":"VideosRootPage","/videos/:category/:id":"VideosCategoryPage","/shopping":"ShoppingRootPage","/shopping/:category/:id":"ShoppingCategoryPage"}[n]||"other",pageType:e,requestContext:i,route:n})}},241244:(e,i,n)=>{n.d(i,{N:()=>s,Z:()=>a});var t=n(883119),o=n(785893);function a({children:e,fullWidth:i}){return(0,o.jsx)(t.xu,{"data-test-id":"pointer-events-wrapper",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:i?"100%":void 0}},children:e})}function s({children:e,enabled:i}){return i?(0,o.jsx)(a,{children:e}):e}},41233:(e,i,n)=>{n.d(i,{Z:()=>a});var t=n(221263),o=n(937330);function a({action:e,board:i,viewer:n}){var a;return(0,t.Z)(n,i)||(0,o.Z)({board:i,viewer:n})&&!(null===(a=i.collaborator_permissions)||void 0===a||!a.includes(e))}},221263:(e,i,n)=>{function t(e,i){const n=i&&i.owner&&i.owner.id;return e.isAuth&&n===e.id}n.d(i,{Z:()=>t})},937330:(e,i,n)=>{function t({board:e,viewer:i}){const{collaborated_by_me:n}=e;return Boolean(i.isAuth&&n)}n.d(i,{Z:()=>t})},4294:(e,i,n)=>{n.d(i,{Z:()=>a});var t=n(221263),o=n(937330);function a({board:e,viewer:i}){return(0,t.Z)(i,e)||(0,o.Z)({board:e,viewer:i})}},834911:(e,i,n)=>{n.d(i,{Z:()=>a});var t=n(341732),o=n(835209);function a({carouselData:e,images:i,richMetadata:n,richSummary:a,shouldUnifyImageSizes:s,additionalImages:r}){const l=(0,o.Z)({richPinData:n||a});return l&&r&&r.length>0?(0,t.Z)(null,r,e&&e.index,s,l.id):l&&l.additional_images&&l.additional_images.length>0?(0,t.Z)(i,l.additional_images,e&&e.index,s,l.id):e||void 0}},341732:(e,i,n)=>{n.d(i,{Z:()=>a});const t=["236x","474x","564x","736x"];function o(e){function i(e,{imageKey:i,height:n,width:t}){return e.images&&e.images[i]&&(e={...e,images:{...e.images,[i]:{...e.images[i],height:n,width:t}}}),e}const n=t.map((function(i){const n=Math.min(...e.map((e=>e.images&&e.images[i]&&e.images[i].height||1/0))),t=Math.min(...e.map((e=>e.images&&e.images[i]&&e.images[i].width||1/0)));return{imageKey:i,height:n,width:t}}));return e.map((e=>n.reduce(i,e)))}function a(e,i,n,t,a){const s=(null==i?void 0:i.map((({canonical_images:e,image_signature:i})=>({images:e||void 0,image_signature:i||void 0}))))||[],r=e?[{images:e},...s]:s;return{carousel_slots:t?o(r):r,index:n||0,id:a}}},47170:(e,i,n)=>{n.d(i,{Z:()=>s});var t=n(616550),o=n(768559),a=n(558068);function s(e){var i,n;const s=(0,t.useLocation)(),{previous:r}=(0,a.Hv)();return(0,o.Z)({boardUrl:null===(i=e.board)||void 0===i?void 0:i.url,callToCreateSourcePinId:e.call_to_create_source_pin_id,location:s,pinId:e.id,pinnerUserName:null===(n=e.pinner)||void 0===n?void 0:n.username,previousHistory:r,storyPinDataId:e.story_pin_data_id,trackingParams:e.tracking_params,trackingParamsMap:e.tracking_params_map})}},827896:(e,i,n)=>{n.d(i,{Z:()=>s});var t=n(616550),o=n(768559),a=n(350118);function s(){const e=(0,a.S6)(),i=(0,t.useLocation)();return(n,t)=>{let a;const s=e(n);if(null!=t&&t.shouldTrackForPrevLocation){const e=(null==s?void 0:s.tracking_params_map)||{},i=Object.keys(e).find((e=>"PinResource"!==e));s&&(a=i?e[i]:e.PinResource)}else if(s){var r,l;a=(0,o.Z)({boardUrl:null===(r=s.board)||void 0===r?void 0:r.url,callToCreateSourcePinId:s.call_to_create_source_pin_id,location:i,pinId:s.id,pinnerUserName:null===(l=s.pinner)||void 0===l?void 0:l.username,storyPinDataId:s.story_pin_data_id,trackingParams:s.tracking_params,trackingParamsMap:s.tracking_params_map})}return a}}},329734:(e,i,n)=>{n.d(i,{P:()=>a,Z:()=>o});var t=n(702664);function o(e){return e&&e[1000069]&&500417===e[1000069].experience_id&&e[1000069].display_data.hide_footer}function a(){const e=(0,t.useSelector)((({experiences:e})=>e));return!!e&&o(e)}},539002:(e,i,n)=>{n.d(i,{Z:()=>a});var t=n(773285);const o=Object.freeze({analytics:{organic:"web_sce_organic_analytics",monetized:"web_sce_monetized_analytics"},pinStats:{organic:"web_sce_organic_pin_stats",monetized:"web_sce_monetized_pin_stats"}});function a(e){const{checkExperiment:i}=(0,t.F)();i("sce_lightswitch_organic"),i("sce_lightswitch_monetized");const n=o[e];return()=>i(n.organic).anyEnabled||i(n.monetized).anyEnabled}},750391:(e,i,n)=>{n.d(i,{G7:()=>_,Nl:()=>p,WE:()=>d,l6:()=>u,rh:()=>c});var t=n(27255),o=n(451820),a=n(605028),s=n(623568),r=n(66699);const l=e=>e.checkExperiment("web_ps4p").anyEnabled;function c(e,i,n,o,r=!1){var c,d,_;if(!i.isAuth)return!1;const{creator_analytics:u,public_creator_analytics:p}=e,{isStoryPin:h}=(0,a.Z)(e),m=(0,s.Nc)({pin:e,isSCEEnabled:r})||(0,s.o)(u),g=(null===(c=e.board)||void 0===c?void 0:c.privacy)===t.Z.BoardPrivacy.PUBLIC,f=((null===(d=e.board)||void 0===d?void 0:d.privacy)===t.Z.BoardPrivacy.PROTECTED||g)&&!e.is_repin&&[i.id,o].includes(null===(_=e.pinner)||void 0===_?void 0:_.id);return m||i.isPartner&&f||l(n)&&h&&f||(0,s.pU)(p)}function d(e,i,n,t,o,a){return e.isAuth&&!!i&&(n||t)&&!(null==o||!o.isLoaded)&&!a}function _(e,i){return(0,r.Z)(i.nbt(["{{ count }} ngày qua"], e, "Previous {{ count }} days from current date", true),{count:e})}function u(e,i){return(0,r.Z)(i.nbt(["{{ count }} giờ qua"], e, "analytics.utils", true),{count:e})}function p({i18n:e,isRealtime:i,humanizedTimeSinceLastUpdate:n,displayLifetime:t,numDays:a,selectedDateRange:s,locale:l}){const c=[];if(a){const i=t?(0,r.Z)(e.nbt(["Tỷ lệ phần trăm thay đổi được so với {{n}} ngày trước {{startDate}} – {{endDate}}."], a, "pinstats.toplineMetrics.description", true),{n:a,startDate:(0,o.Z)(l,s.startDate,o.k.NUMERIC),endDate:(0,o.Z)(l,s.endDate,o.k.NUMERIC)}):(0,r.Z)(e.nbt(["Tỷ lệ phần trăm thay đổi được so với {{n}} ngày trước phạm vi ngày đã chọn."], a, "pinstats.toplineMetrics.description", true),{n:a});c.push(i)}return i?c.push(e.bt("Các chỉ số cập nhật theo thời gian thực.", "Metrics are updated in real-time.", "pinstats.PinnerToplineMetrics.description", undefined, true)):n&&c.push((0,r.Z)(e.bt("Đã cập nhật số liệu {{ timeSince }}.", "Metrics updated {{ timeSince }}.", "analytics.header.disclaimer.metricsUpdated", undefined, true),{timeSince:n})),c.join(" ")}},205202:(e,i,n)=>{function t(e,i){return e&&e[i]&&e[i].url}n.d(i,{Z:()=>t})},674915:(e,i,n)=>{n.d(i,{Z:()=>a});var t=n(307061),o=n(736688);const a=(0,t.Z)((e=>{const{videos:i}=e.pin,{id:n,video_list:t={}}=i||{},{V_720P:a,V_HLSV4:s,V_HLSV3_MOBILE:r}=t,l=(0,o.V3)(s),c=(0,o.V3)(r),d=(0,o.V3)(a),_=d||l||c;return n&&_?{...e,video:{id:n,hasVideo:_,mp4:d||void 0,hls:l||void 0,hlsv3:c||void 0}}:null}))},976071:(e,i,n)=>{function t(e){return Boolean(e.promoted_is_removable)}n.d(i,{Z:()=>t})},692627:(e,i,n)=>{function t({hasPin:e,hasPinRichMetadata:i,hasPinRichMetadataProducts:n,hasPinRichMetadataArticle:t,hasPinRichMetadataRecipe:o,hasPinStoryPinData:a}){if(e){if(i)return n?144:t?141:o?145:139;if(a)return 157}return 140}n.d(i,{Z:()=>t})},869503:(e,i,n)=>{n.d(i,{Z:()=>d});var t=n(883119),o=n(898781),a=n(349700),s=n(939106),r=n(785893);function l(){const e=(0,o.ZP)();return e.bt("Giao hàng miễn phí", "Free shipping", "closeup.product.shipping", undefined, true)}function c({freeShippingPrice:e}){const i=(0,o.ZP)();return(0,a.nk)(i.bt("Giao hàng miễn phí khi mua từ {{ shippingPrice }} trở lên", "Free shipping with {{ shippingPrice }}+", "closeup.product.shipping", undefined, true),{shippingPrice:e}).join("")}function d({customStyles:e,showPrevDot:i,freeShippingPrice:n,freeShippingValue:o}){const a=i?[""]:[],{color:d="subtle",size:_="200"}=e||{};return Number.isFinite(o)?(0===o?a.push((0,r.jsx)(l,{})):n&&a.push((0,r.jsx)(c,{freeShippingPrice:n})),0===a.length?null:(0,r.jsx)(t.xv,{color:d,size:_,children:(0,r.jsx)(s.Z,{color:d,items:a})})):null}},681227:(e,i,n)=>{function t(e){const i=Object.keys(e);if(i.length>0){return i.sort(((i,n)=>e[n]-e[i])).slice(0,3)}return null}function o(e){const i=Object.values(e);if(i.length>0){return i.reduce(((e,i)=>e+i),0)}return 0}function a(e,i,n){const{videos:t,is_downstream_promotion:o,is_promoted:a,story_pin_data_id:s,board:r}=e;return!(a||o||(!t||!t.id)&&!s||i||null!=r&&r.is_collaborative&&r.collaborated_by_me||n)}n.d(i,{At:()=>t,J6:()=>a,Ud:()=>o})},736688:(e,i,n)=>{n.d(i,{QO:()=>c,V3:()=>s,cO:()=>p,dn:()=>_,fP:()=>u,j1:()=>h,v_:()=>l});var t=n(623568),o=n(841726),a=n(867820);const s=e=>{const{thumbnail:i,url:n,width:t,height:o,duration:a}=e||{};return i&&n&&t&&o&&{thumbnail:i,url:n,width:t,height:o,duration:a}||void 0},r=({isEligible:e,hasName:i,hasAggregateRating:n,hasOffers:t})=>{(0,a.My)("closeup_main_pin.leaf_snippet.is_product",{isEligible:e,hasName:i,hasAggregateRating:n,hasOffers:t})};function l(e,i){if(i&&i.products&&i.products[0]){const n=i.products[0],t=!(!n.name&&!e),o=!(!i.aggregate_rating||0===i.aggregate_rating.rating_count&&0===i.aggregate_rating.review_count||Number.isNaN(parseFloat(i.aggregate_rating.rating_value))),a=!(!n.offer_summary||!n.offer_summary.min_price&&!n.offer_summary.price),s=t&&(o||a);return r({isEligible:s,hasName:t,hasAggregateRating:o,hasOffers:a}),s}return!1}const c=(e,{userName:i,fullName:n})=>{const t=i||"";return{"@type":"Person",name:n||t,url:e+"/"+t}},d=e=>(0,o.o)(e||"").trim();function _(e,i,n,t,o,a){n=n.trim();const s=(i=i.trim())||a||n||t,r=()=>i||o;if(!e||!e.metatags)return{title:s,description:n||r()};const{description:l=""}=e.metatags;return{title:s,description:d(l)||r()}}const u=(e,i,n)=>{let t=i;return n?(t="recipe"===e?n.bt("Công thức nấu ăn trên Pinterest", "Pinterest Recipe", "pin.closeup.leafsnippet.recipe", undefined, true):"howto"===e?n.bt("Hướng dẫn trên Pinterest", "Pinterest How To", "pin.closeup.leafsnippet.howto", undefined, true):"video"===e?n.bt("Video trên Pinterest", "Pinterest Video", "pin.closeup.leafsnippet.video", undefined, true):"product"===e?n.bt("Sản phẩm trên Pinterest", "Pinterest Product", "pin.closeup.leafsnippet.product", undefined, true):n.bt("Trang Ghim", "Pin page", "pin.closeup.leafsnippet.pin", undefined, true),{fallbackTitle:t,fallbackDescription:t}):{fallbackTitle:t,fallbackDescription:t}},p=e=>{if(!e)return;const i=e.rating_count,n=e.review_count;if(!(!!i||!!n)||Number.isNaN(parseFloat(e.rating_value)))return;const t=i||n;return{"@type":"AggregateRating",ratingValue:e.rating_value,ratingCount:t,bestRating:5,worstRating:1}},h=(e,i=!0)=>{var n,o,a,s;const r=!!(0,t.iR)(e.videos),l=i&&!!(0,t.cL)({embedSrc:null===(n=e.embed)||void 0===n?void 0:n.src,embedSubtype:null===(o=e.embed)||void 0===o?void 0:o.subtype,embedType:null===(a=e.embed)||void 0===a?void 0:a.type}),c=!(null===(s=e.story_pin_data)||void 0===s||!s.total_video_duration);return r||l||c}},835209:(e,i,n)=>{function t({richPinData:e={}}){return((null==e?void 0:e.products)||[])[0]}n.d(i,{Z:()=>t})},53325:(e,i,n)=>{n.d(i,{$O:()=>r,GZ:()=>c,OE:()=>d,Xv:()=>l,Z0:()=>t,_z:()=>a,fM:()=>s,qA:()=>o,zX:()=>_});const t=40,o=4,a=106,s=133,r=.1,l=10,c=246,d=197,_=236},124364:(e,i,n)=>{n.d(i,{Z:()=>s});var t=n(883119),o=n(898781),a=n(785893);function s({height:e,isDenseView:i,rounding:n,width:s,color:r}){const l=(0,o.ZP)();return(0,a.jsx)(t.xu,{color:r||"default",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",rounding:n,overflow:"hidden",width:s,height:e,"data-test-id":"unavailable-pin",children:(0,a.jsxs)(t.kC,{direction:"column",alignItems:"center",children:[(0,a.jsx)(t.xu,{paddingY:i?2:4,children:(0,a.jsx)(t.JO,{accessibilityLabel:l.bt("Ghim không có sẵn", "Pin not available", "story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel", undefined, true),color:"default",icon:"alert",size:20})}),(0,a.jsx)(t.xv,{weight:"bold",children:l.bt("Không có sẵn", "Unavailable", "story-pin.Closeup.UnavailableIdeaPin.Unavailable", undefined, true)}),!i&&(0,a.jsx)(t.xu,{paddingY:1,children:(0,a.jsx)(t.xv,{children:l.bt("Người tạo đã xóa Ghim", "Removed by the creator", "story-pin.Closeup.UnavailableIdeaPin.Removed", undefined, true)})})]})})}},841726:(e,i,n)=>{n.d(i,{Z:()=>o,o:()=>t});function t(e,i){const n=(((i||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>|<!--[\s\S]*/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,((e,i)=>n.indexOf("<"+i.toLowerCase()+">")>-1?e:""))}const o=e=>e.replace(/(<([^>]+)>)/gi,"")},939106:(e,i,n)=>{n.d(i,{Z:()=>l});var t=n(667294),o=n(883119),a=n(948618),s=n(785893);function r(e){return null!=e}function l({additionalPadding:e,color:i="darkGray",inline:n,items:l}){const c=e?(0,s.jsx)("span",{style:{padding:`0 ${4*e}px`},children:(0,s.jsx)(a.Z,{color:i})}):(0,s.jsx)(a.Z,{color:i}),d=l.filter(r).reduce(((e,i,n)=>[...e,0!==n?c:null,i]),[]).filter(r).map(((e,i)=>(0,s.jsx)(t.Fragment,{children:e},i)));return 0===d.length?null:n?(0,s.jsx)(o.xu,{children:d}):(0,s.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:d})}},644035:(e,i,n)=>{n.d(i,{GW:()=>o,RL:()=>t,s4:()=>a});const t="ios",o="android",a="ipad"},428258:(e,i,n)=>{n.d(i,{Z:()=>a,t:()=>o});const t=()=>{var e,i;const n="undefined"!=typeof window?null===(e=window.navigator)||void 0===e||null===(i=e.connection)||void 0===i?void 0:i.effectiveType:void 0;let t,o=null===(a=window)||void 0===a||!a.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x";var a;return n?"4g"===n?t="40-80":(o="1x",t="0-1"):t="unknown",{downloadSpeedGroup:t,screenDimension:o}};function o(e){const{downloadSpeedGroup:i,screenDimension:n}=t(),o={"1x":e.V_EXP3,"2x":e.V_EXP5},a={"1x":e.V_EXP7,"2x":e.V_EXP7};return{unknown:o,"0-1":o,"1-5":{"1x":e.V_EXP4,"2x":e.V_EXP5},"5-10":{"1x":e.V_EXP5,"2x":e.V_EXP5},"10-20":{"1x":e.V_EXP6,"2x":e.V_EXP6},"20-40":a,"40-80":a,"80_or_above":a}[i][n]||e.V_720P||void 0}function a(e){const{video_list:i={}}=e,n=o(i),t=i.V_HLSV3_MOBILE||void 0;return n?{hlsv3:t,mp4:n}:{hlsv3:t}}},869899:(e,i,n)=>{n.r(i),n.d(i,{RoleBasedAccessControlProvider:()=>y,useRoleBasedAccessControlContext:()=>v});var t=n(667294),o=n(425288),a=n(773285),s=n(784590),r=n(19121),l=n(389643),c=n(339363),d=n(70061);const _=e=>{const i={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&("object"!=typeof e[n]||null===e[n]||Array.isArray(e[n])?i[(0,d.Z)(n)]=e[n]:i[(0,d.Z)(n)]=_(e[n]));return i},u=(e,i)=>{const n=[];for(const a in e)a!==i&&n.push({id:a,..._(e[a])});const t=n.sort((({user:{businessName:e}},{user:{businessName:i}})=>e.localeCompare(i))),o=new Map;for(const a of t)o.set(a.id,a);return o},p={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},h=(e,i)=>{switch(i.type){case"LOAD_PROFILES":return{...e,profiles:i.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:i.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:i.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:i.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:i.payload};default:return e}},m=e=>{const[i,n]=(0,t.useReducer)(h,p),o=(({dispatch:e,isEnabled:i,state:n})=>{const{orbacVisibility:o,disableProfileChanger:a,headerVisible:s}=n;return{changeProfile:(0,t.useCallback)((n=>{i&&e({type:"SET_ACTIVE_PROFILE",payload:n})}),[i,e]),toggleORBACVisibility:(0,t.useCallback)((n=>{i&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=n?n:!o})}),[i,e,o]),toggleDisableProfileChanger:(0,t.useCallback)((n=>{i&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=n?n:!a})}),[i,e,a]),toggleHeaderVisibility:(0,t.useCallback)((n=>{i&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=n?n:!s})}),[i,e,s])}})({dispatch:n,isEnabled:e,state:i}),{activeProfile:a,orbacVisibility:s}=i;(0,t.useEffect)((()=>{const e=(0,c.qn)("orbacActiveProfile",!1);e&&n({type:"SET_ACTIVE_PROFILE",payload:e})}),[]),(0,t.useEffect)((()=>{const e=(0,c.qn)("orbacVisibilty",!1);e&&n({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})}),[]),(0,t.useEffect)((()=>{(0,c.Nh)("orbacVisibility",s)}),[s]),(0,t.useEffect)((()=>{(0,c.Nh)("orbacActiveProfile",a)}),[a]);return{state:i,actions:o,receiveProfiles:(0,t.useCallback)(((e,i)=>{n({type:"LOAD_PROFILES",payload:u(e,i)})}),[n])}};var g=n(785893);const{Provider:f,useMaybeHook:v}=(0,o.Z)("RoleBasedAccessControlContext"),y=({children:e})=>{const{checkExperiment:i}=(0,a.F)(),n=(0,r.Z)(),o=Boolean(n.isAuth&&n.isPartner&&i("web_m10n_business_access_orbac_www").anyEnabled),{state:c,actions:d,receiveProfiles:_}=m(o),{activeProfile:u,headerVisible:p,profiles:h=[]}=c,v=h?Array.from(h.values()):[],y=(0,l.Z)(v),P=!!(n.isAuth&&v.length>0)&&y,x=n.isAuth?n.id:"",b=n.isAuth?n.username:"",{changeProfile:S,toggleORBACVisibility:T,toggleDisableProfileChanger:w,toggleHeaderVisibility:A}=d;(0,t.useEffect)((()=>{o&&("string"!=typeof y?u||S(x):S(y))}),[y,x,o,S,u]),(0,t.useEffect)((()=>{o&&(P&&!p&&A(!0),!P&&p&&A(!1))}),[A,P,o,p,h]);const{data:I}=(0,s.Z)(o?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),E=null==I?void 0:I.profiles;let R;n&&n.isAuth&&c.activeProfile===n.id?R={id:n.id,permissions:["OWNER"],user:{username:b,businessName:n.fullName,imgUrl:n.imageSmallUrl}}:u&&c.profiles&&(R=c.profiles.get(u)),(0,t.useEffect)((()=>{E&&_(E,x)}),[_,E,x]);const C=c.profiles?Array.from(c.profiles.values()):[];return(0,g.jsx)(f,{value:{profiles:C,headerVisible:c.headerVisible,activeProfile:R,changeProfile:S,toggleORBACVisibility:T,toggleDisableProfileChanger:w,toggleHeaderVisibility:A},children:e})}},717615:(e,i,n)=>{n.d(i,{Z:()=>s});var t=n(773285),o=n(869899),a=n(389643);const s=()=>{const{checkExperiment:e}=(0,t.F)(),i=(0,o.useRoleBasedAccessControlContext)(),{activeProfile:n}=i||{},s=e("web_m10n_business_access_orbac_www").anyEnabled,r=(0,a.Z)((null==i?void 0:i.profiles)||[]),{anyEnabled:l}=e("useorbacroutematcher_in_useorbacactingas");return s?l&&!r?Object.freeze({}):n&&(n.viewerMeetsMfaRequirement||(n.permissions||[]).includes("OWNER"))?n:Object.freeze({}):Object.freeze({})}},389643:(e,i,n)=>{n.d(i,{Z:()=>l});var t=n(616550),o=n(53987),a=n(773285),s=n(19121),r=n(350118);const l=e=>{var i,n,l,c;const d=(0,t.useLocation)(),_=(0,s.Z)(),u=(0,r.S6)(),{anyEnabled:p}=(0,a.F)().checkExperiment("web_m10n_business_access_orbac_www"),h=(0,t.useRouteMatch)("/:username"),m=null==h||null===(i=h.params)||void 0===i?void 0:i.username,g=(0,t.useRouteMatch)("/pin/:id"),f=!(null==g||null===(n=g.params)||void 0===n||!n.id)&&(null===(l=u(g.params.id))||void 0===l||null===(c=l.pinner)||void 0===c?void 0:c.id);if((0,o.ej)(d))return!1;if((0,o.RU)(d))return!0;if((0,o.mY)(d))return p;const v=e.concat(_.isAuth?{user:{username:_.username},id:_.id}:{}).find((e=>{const{user:i={},id:n}=e||{},{username:t}=i;return!!(t&&m||f&&n)&&(t===m||f===n)}));return!!v&&v.id}},231947:(e,i,n)=>{n.d(i,{D3:()=>c,DX:()=>r,KY:()=>d,Ms:()=>t,N1:()=>_,_P:()=>s,lJ:()=>a,nl:()=>o,q6:()=>l});const t=(e,i)=>{let n=e&&e.isAuth?e.username:"";return e&&i&&i.user&&i.user.username&&(n=i.user.username),n},o=(e,i)=>Boolean(i&&i.user&&e&&e.isAuth&&i.id!==e.id?i.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),a=(e,i)=>e&&e.isAuth&&i&&i.id&&i.id!==e.id?i.id:"",s=(e,i,n)=>{var t;return n&&n.user&&i&&i.isAuth&&n.id!==i.id?n.user.merchantId:null===(t=e.advertiser)||void 0===t?void 0:t.merchant_id},r=(e,i,n)=>n&&n.user&&e.isAuth&&n.id!==e.id?n.user.scheduledPinCount||0:e.isAuth&&i&&i.scheduled_pin_count||0,l=(e,i,n)=>!!(e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===i),c=(e,i,n)=>!!(l(e,i,n)||e&&e.isAuth&&i===e.id),d=(e,i,n)=>{const t=i&&i.owner&&i.owner.id||"";return c(e,t,n)};function _(e,i,n){const t=i?i.id:"";return c(e,t,n)}},40706:(e,i,n)=>{n.d(i,{Z:()=>r});var t=n(883119),o=n(62700),a=n(785893);const s={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function r({pin:e,enableCloseupLink:i}){const{aggregated_pin_data:n}=e,{pin_tags_chips:r}=n||{},l=r&&r.length>=3?r.slice(0,3):[];return(0,a.jsx)(t.xu,{display:"flex",dangerouslySetInlineStyle:{__style:s.chipContainer},children:l.map((n=>{var r,l,c,d;const _=(null===(r=n.images)||void 0===r?void 0:r["750x"])||{},u=(0,a.jsx)(t.Ee,{alt:"",fit:"cover",naturalHeight:null!==(l=_.height)&&void 0!==l?l:1,naturalWidth:null!==(c=_.width)&&void 0!==c?c:1,role:"presentation",src:null!==(d=_.url)&&void 0!==d?d:""});return(0,a.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:s.chip},"data-test-id":"collageChip",children:(0,a.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:s.chipInner},position:"relative",children:(0,a.jsx)(t.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,a.jsx)(t.zd,{height:"100%",wash:!0,width:"100%",children:i?(0,a.jsx)(o.Z,{sizing:"fullSize",collageChipId:n.id,pin:e,children:u}):u})})})},n.id)}))})}},199387:(e,i,n)=>{n.d(i,{Z:()=>s});var t=n(667294),o=n(407043),a=n(576440);function s(e,i){const{logContextEvent:n}=(0,o.v)(),{componentType:s,contextLogData:r,viewParameter:l,viewType:c}=(0,a.E)(),{aux_data:d,view_type:_,view_parameter:u,component:p,clientTrackingParams:h,...m}=null!=i?i:{};return(0,t.useCallback)((()=>{n({event_type:e,view_type:_||c,view_parameter:u||l,component:p||s,clientTrackingParams:h,...m,aux_data:{...d,...r}})}),[n,d,h,m,u,_,p,s,r,e,l,c])}},225692:(e,i,n)=>{n.d(i,{X:()=>o,Z:()=>a});var t=n(667294);const o=120;function a(e,i=0,n=o){const[a,s]=(0,t.useState)(e?"active":"inactive");return(0,t.useEffect)((()=>{if(!e){const e=setTimeout((()=>s("inactive")),n);return()=>{clearTimeout(e)}}if(i){const e=setTimeout((()=>s("active")),i);return()=>{clearTimeout(e)}}s("active")}),[e]),a}},697247:(e,i,n)=>{n.d(i,{$:()=>a,B:()=>o});var t=n(425288);const{Provider:o,useHook:a}=(0,t.Z)("SurfaceContext",{surface:"Unknown"})},576440:(e,i,n)=>{n.d(i,{B:()=>o,E:()=>a});var t=n(425288);const{Provider:o,useHook:a}=(0,t.Z)("trackingParametersContext")},567316:(e,i,n)=>{n.d(i,{ZP:()=>R,we:()=>E,nn:()=>I,zn:()=>A});var t=n(667294),o=n(407043),a=n(780280),s=n(784590),r=n(19121),l=n(883119),c=n(121151),d=n(898781),_=n(349700),u=n(966113),p=n(941646),h=n(170168),m=n(785893);function g({iconAccessibilityLabel:e,icon:i,linkAccessibilityLabel:n,showNavigationIcon:t,text:o}){return(0,m.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,m.jsx)(p.Z,{id:"ad-reason-icon",children:(0,m.jsx)(l.Sj,{accessibilityLabel:e,bgColor:"lightGray",icon:i,iconColor:"darkGray"})}),(0,m.jsx)(l.xu,{alignSelf:"center","data-test-id":"ad-location-targeting-reason",height:"100%",marginStart:2,children:(0,m.jsx)(l.xv,{children:o})}),t&&n&&(0,m.jsx)(l.kC,{direction:"column",justifyContent:"center",children:(0,m.jsx)(l.JO,{accessibilityLabel:n,color:"default",icon:"arrow-forward"})})]})}var f=n(698330);function v({brandName:e,language:i,geoRegion:n,geoPostalCode:t,ageBucketMatch:o,localeMatch:a,interestMatch:s,genderMatch:c,deviceMatch:u,isCustomerListMatched:h,isShoppingTargetingRematched:v,isActAlikeMatched:y,isEngagementMatched:P,isExpandTargetingMatched:x,isFromGPSLocation:b,isVisitorMatched:S,gender:T,device:w}){var A;const I=(0,d.ZP)(),{id:E}=(0,r.Z)(),R=(0,f.mN)()(null!=E?E:""),C=null!==(A=null==R?void 0:R.gender)&&void 0!==A?A:"";return(0,m.jsx)(p.Z,{id:"ad-reasons",children:(0,m.jsxs)(l.kC,{direction:"column",flex:"none",gap:{row:0,column:4},children:[""!==o&&(0,m.jsx)(g,{iconAccessibilityLabel:I.bt("Biểu tượng cho nhóm tuổi nhắm mục tiêu quảng cáo", "Icon for ad targeting age bucket", "app.common.react.components.PinRep.components.AdReasons.ageIcon", undefined, true),icon:"person",text:(0,_.nk)(I.bt("Tuổi {{ ageBucketMatch }}", "Age {{ ageBucketMatch }}", "app.common.react.components.PinRep.components.AdReasonsModal.ageBucketMatch", undefined, true),{ageBucketMatch:(0,m.jsx)(l.xv,{inline:!0,weight:"bold",children:o},"ad-reasons-age-bucket")})}),""!==c&&"unspecified"!==C&&(0,m.jsx)(g,{iconAccessibilityLabel:I.bt("Biểu tượng cho giới tính nhắm mục tiêu quảng cáo", "Icon for ad targeting gender", "app.common.react.components.PinRep.components.AdReasons.genderIcon", undefined, true),icon:"person",text:(0,_.nk)(I.bt("{{ gender }}", "{{ gender }}", "app.common.react.components.PinRep.components.AdReasonsModal.genderMatch", undefined, true),{gender:(0,m.jsx)(l.xv,{inline:!0,weight:"bold",children:T},"ad-reasons-gender")})}),""!==n&&(0,m.jsx)(g,{iconAccessibilityLabel:I.bt("Biểu tượng cho vị trí nhắm mục tiêu quảng cáo", "Icon for ad targeting location", "app.common.react.components.PinRep.components.AdReasons.locationIcon", undefined, true),icon:"location",text:(0,_.nk)(I.bt("Dựa trên {{geoRegion}}", "Based in {{geoRegion}}", "app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting", undefined, true),{geoRegion:(0,m.jsx)(l.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-country-name")})}),""!==t&&(0,m.jsx)(g,{iconAccessibilityLabel:I.bt("Biểu tượng cho vị trí nhắm mục tiêu quảng cáo", "Icon for ad targeting location", "app.common.react.components.PinRep.components.AdReasons.locationIcon", undefined, true),icon:"location",text:(0,_.nk)(I.bt("Dựa trên {{geoPostalCode}}", "Based in {{geoPostalCode}}", "app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting", undefined, true),{geoPostalCode:(0,m.jsx)(l.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-country-name")})}),""!==a&&(0,m.jsx)(g,{iconAccessibilityLabel:I.bt("Biểu tượng cho ngôn ngữ nhắm mục tiêu quảng cáo", "Icon for ad targeting locale", "app.common.react.components.PinRep.components.AdReasons.localeIcon", undefined, true),icon:"globe",text:(0,_.nk)(I.bt("Ngôn ngữ chính {{ language }}", "Primary language {{ language }}", "app.common.react.components.PinRep.components.AdReasonsModal.localeMatch", undefined, true),{language:(0,m.jsx)(l.xv,{inline:!0,weight:"bold",children:i},"ad-reasons-locale")})}),""!==u&&(0,m.jsx)(g,{iconAccessibilityLabel:I.bt("Biểu tượng cho thiết bị nhắm mục tiêu quảng cáo", "Icon for ad targeting device", "app.common.react.components.PinRep.components.AdReasons.deviceIcon", undefined, true),icon:"desktop",text:(0,_.nk)(I.bt("Sử dụng {{ device }}", "Using {{ device }}", "app.common.react.components.PinRep.components.AdReasonsModal.deviceMatch", undefined, true),{device:(0,m.jsx)(l.xv,{inline:!0,weight:"bold",children:w},"ad-reasons-device")})}),""!==s&&(0,m.jsx)(g,{iconAccessibilityLabel:I.bt("Biểu tượng cho sở thích nhắm mục tiêu quảng cáo", "Icon for ad targeting interest", "app.common.react.components.PinRep.components.AdReasons.interestIcon", undefined, true),icon:"heart",text:(0,_.nk)(I.bt("Quan tâm đến {{ interestMatch }}", "Interested in {{ interestMatch }}", "app.common.react.components.PinRep.components.AdReasonsModal.interestMatch", undefined, true),{interestMatch:(0,m.jsx)(l.xv,{inline:!0,weight:"bold",children:s},"ad-reasons-interest")})}),v&&(0,m.jsx)(g,{iconAccessibilityLabel:I.bt("Biểu tượng cho quảng cáo nhắm mục tiêu người dùng thuộc một danh sách đối tượng", "Icon for ad targeting user on an audience list", "app.common.react.components.PinRep.components.AdReasons.shoppingTargeting", undefined, true),icon:"history",text:(0,_.nk)(I.bt("Đã tương tác với {{brandName}}", "Interacted with {{brandName}}", "app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargeting", undefined, true),{brandName:(0,m.jsx)(l.xv,{inline:!0,weight:"bold",children:e},"ad-reasons-shopping-targeting")})}),S&&(0,m.jsx)(g,{iconAccessibilityLabel:I.bt("Biểu tượng cho quảng cáo nhắm mục tiêu khách hàng đã tương tác với thương hiệu này trước đây, khách truy cập đã đối sánh", "Icon for ad targeting customers who interacted with this brand previously, visitor matched", "app.common.react.components.PinRep.components.AdReasonsModal.visitorMatchIcon", undefined, true),icon:"history",text:(0,_.nk)(I.bt("Đã tương tác với {{brandName}}", "Interacted with {{brandName}}", "app.common.react.components.PinRep.components.AdReasonsModal.visitorTargetingText", undefined, true),{brandName:(0,m.jsx)(l.xv,{inline:!0,weight:"bold",children:e},"ad-reason-visitor")})}),h&&(0,m.jsx)(g,{iconAccessibilityLabel:I.bt("Biểu tượng cho quảng cáo nhắm mục tiêu người dùng thuộc một danh sách đối tượng", "Icon for ad targeting user on an audience list", "app.common.react.components.PinRep.components.AdReasons.listIcon", undefined, true),icon:"menu",text:(0,_.nk)(I.bt("Trong danh sách do {{brandName}} cung cấp", "On a list provided by {{brandName}}", "app.common.react.components.PinRep.components.AdReasonsModal.customerListTargeting", undefined, true),{brandName:(0,m.jsx)(l.xv,{inline:!0,weight:"bold",children:e},"ad-reasons-customer-list")})}),P&&(0,m.jsx)(g,{iconAccessibilityLabel:I.bt("Biểu tượng cho quảng cáo nhắm mục tiêu người dùng trên đối tượng tương tác", "Icon for ad targeting user on engagement audience", "app.common.react.components.PinRep.components.AdReasons.engagementIcon", undefined, true),icon:"pin",text:(0,_.nk)(I.bt("Đã tương tác với {{brandName}} trên Pinterest", "Interacted with {{brandName}} on Pinterest", "app.common.react.components.PinRep.components.AdReasonsModal.engagementTargeting", undefined, true),{brandName:(0,m.jsx)(l.xv,{inline:!0,weight:"bold",children:e},"ad-reasons-engagement")})}),y&&(0,m.jsx)(g,{iconAccessibilityLabel:I.bt("Biểu tượng cho quảng cáo nhắm mục tiêu người dùng hành động giống nhau", "Icon for ad targeting user on act alike", "app.common.react.components.PinRep.components.AdReasons.actAlikeIcon", undefined, true),icon:"graph-bar",text:(0,_.nk)(I.bt("Thông tin nhân khẩu học hoặc sở thích tương tự như những khách hàng {{brandName}} khác", "Similar demographic or interest as other {{brandName}} customers", "app.common.react.components.PinRep.components.AdReasonsModal.", undefined, true),{brandName:(0,m.jsx)(l.xv,{inline:!0,weight:"bold",children:e},"ad-reasons-act-alike")})}),x&&(0,m.jsx)(g,{iconAccessibilityLabel:I.bt("Biểu tượng cho quảng cáo nhắm mục tiêu người dùng trên tiêu chí nhắm mục tiêu mở rộng", "Icon for ad targeting user on expand targeting", "app.common.react.components.PinRep.components.AdReasons.expandTargeting", undefined, true),icon:"pinterest",text:I.bt("Hoạt động liên quan trên Pinterest", "Relevant activity on Pinterest", "app.common.react.components.PinRep.components.AdReasonsModal.expandTargeting", undefined, true)}),b&&(0,m.jsx)(g,{iconAccessibilityLabel:I.bt("Biểu tượng cho quảng cáo nhắm mục tiêu người dùng trên GPS", "Icon for ad targeting user on GPS", "app.common.react.components.PinRep.components.AdReasons.GPS", undefined, true),icon:"location",text:I.bt("Vị trí GPS", "GPS Location", "app.common.react.components.PinRep.components.AdReasonsModal.GPS", undefined, true)})]})})}function y({onDismiss:e,brandName:i,userName:n,language:t,geoRegion:a,geoPostalCode:s,ageBucketMatch:r,localeMatch:g,interestMatch:f,genderMatch:y,deviceMatch:P,isCustomerListMatched:x,isShoppingTargetingRematched:b,isActAlikeMatched:S,isEngagementMatched:T,isExpandTargetingMatched:w,isFromGPSLocation:E,isVisitorMatched:R}){const{logContextEvent:C}=(0,o.v)(),k=(0,d.ZP)(),j=A(y,k),O=I(P,k),N=b||x||T||S||w||E||R||""!==r||""!==g||""!==f||""!==j||""!==O||""!==a||""!==s,D=h.C0+`/${n}/`;return(0,m.jsx)(c.ZP,{accessibilityModalLabel:k.bt("Tại sao tôi thấy Quảng cáo này?", "Why am I seeing this Ad?", "app.common.react.components.PinRep.components.AdReasonsModal", undefined, true),onDismiss:e,children:(0,m.jsxs)(l.xu,{paddingX:8,paddingY:6,children:[(0,m.jsxs)(l.xu,{display:"flex",justifyContent:"center",marginBottom:6,position:"relative",children:[(0,m.jsx)(l.xu,{position:"absolute",left:!0,children:(0,m.jsx)(l.hU,{accessibilityLabel:k.bt("Đóng", "Close", "app.common.react.components.PinRep.components.AdReasonsModal.closeModal", undefined, true),icon:"cancel",iconColor:"darkGray",onClick:()=>{C({event_type:102,element:11925,component:13756}),e()},size:"sm"})}),(0,m.jsx)(l.X6,{align:"center",size:"500",children:k.bt("Tại sao bạn thấy quảng cáo này", "Why you're seeing this ad", "Heading for promoted Pins explanation", undefined, true)})]}),(0,m.jsxs)(l.xu,{children:[(0,m.jsx)(l.kC,{direction:"column",gap:{row:0,column:4},children:N&&(0,m.jsx)(l.xu,{marginBottom:4,children:(0,m.jsx)(l.xv,{children:(0,_.nk)(k.bt("{{ brandName }} đang cố gắng tiếp cận các nhóm người cụ thể. Dựa trên những gì bạn đã cho chúng tôi biết hoặc một số thông tin khác, chúng tôi nghĩ bạn phù hợp với một số nhóm trong đó:", "{{ brandName }} is trying to reach specific groups of people. Based on what you've told us or other information, we think you fit some of those groups:", "app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanationWAISTA", undefined, true),{brandName:(0,m.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,m.jsx)(l.rU,{href:D,display:"inlineBlock",onClick:()=>{C({event_type:101,component:13756,element:13407})},target:"blank",underline:"hover",children:i})},"ad-reasons-brand-name")})})})}),(0,m.jsx)(p.Z,{id:"ad-reasons",children:(0,m.jsxs)(l.kC,{direction:"column",flex:"none",gap:{row:0,column:4},children:[(0,m.jsx)(v,{brandName:i,language:t,geoRegion:a,geoPostalCode:s,ageBucketMatch:r,localeMatch:g,genderMatch:y,interestMatch:f,deviceMatch:P,isCustomerListMatched:x,isShoppingTargetingRematched:b,isActAlikeMatched:S,isEngagementMatched:T,isExpandTargetingMatched:w,isFromGPSLocation:E,isVisitorMatched:R,gender:j,device:O}),N&&(0,m.jsx)(l.xu,{marginBottom:1,children:(0,m.jsx)(l.xv,{children:(0,_.nk)(k.bt("Nếu điều này không đúng, {{ changeUserSettings }}", "If this isn't right, {{ changeUserSettings }}", "app.common.react.components.PinRep.components.AdReasonsModal.changeUserSettingsText", undefined, true),{changeUserSettings:(0,m.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,m.jsx)(l.rU,{display:"inline",href:`${h.C0}${u.AH}`,onClick:()=>{C({event_type:101,component:13756,element:13361})},target:"blank",underline:"hover",children:k.bt("cập nhật thông tin cá nhân của bạn", "update your personal information", "app.common.react.components.PinRep.components.AdReasonsModal.changeUserSettings", undefined, true)})},"ad-reasons-change-user-settings")})})})]})}),(0,m.jsxs)(l.kC,{direction:"column",gap:{row:0,column:1},children:[(0,m.jsx)(l.xu,{marginBottom:1,marginTop:1,children:(0,m.jsx)(l.X6,{size:"400",children:k.bt("Quảng cáo trên Pinterest", "Ads on Pinterest", "app.common.react.components.PinRep.components.AdReasonsModal.adsOnPinterestHeading", undefined, true)})}),(0,m.jsx)(l.xu,{marginBottom:4,children:(0,m.jsx)(l.xv,{children:(0,_.nk)(k.bt("Chúng tôi hiển thị cho bạn các quảng cáo căn cứ vào cài đặt hồ sơ, trang web bạn truy cập, quảng cáo bạn tương tác hoặc các yếu tố khác. {{adPreferencesLink}}", "We show you ads that may be based on your profile settings, websites you visit, ads you interact with or other factors. {{adPreferencesLink}}", "app.common.react.components.PinRep.components.AdReasonsModal.adPreferencesText", undefined, true),{adPreferencesLink:(0,m.jsx)(p.Z,{id:"ad-reasons-review-ad-preferences",children:(0,m.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,m.jsx)(l.rU,{display:"inline",href:`${h.C0}${u.Gx}`,onClick:()=>{C({event_type:101,component:13756,element:13401})},target:"blank",underline:"hover",children:k.bt("Xem lại các tùy chọn quảng cáo của bạn", "Review your ad preferences", "app.common.react.components.PinRep.components.AdReasonsModal.adPreferencesLink", undefined, true)})},"ad-reasons-review-ad-preferences")})})})}),(0,m.jsx)(l.xu,{marginBottom:4,children:(0,m.jsx)(l.xv,{children:(0,_.nk)(k.bt("Để biết thêm về cách chúng tôi thu thập và sử dụng dữ liệu, {{ privacyPolicyLink }}", "For more about how we collect and use data, {{ privacyPolicyLink }}", "app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyText", undefined, true),{privacyPolicyLink:(0,m.jsx)(p.Z,{id:"ad-reasons-privacy-policy",children:(0,m.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,m.jsx)(l.rU,{display:"inline",href:u.R_,onClick:()=>{C({event_type:101,component:13756,element:13402})},target:"blank",underline:"hover",children:k.bt("đọc Chính sách quyền riêng tư của chúng tôi", "read our Privacy Policy", "app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyLink", undefined, true)})},"ad-reasons-privacy-policy")})})})}),(0,m.jsx)(l.xu,{marginBottom:4,children:(0,m.jsx)(l.xv,{children:(0,_.nk)(k.bt("Để ngừng xem nội dung từ một nhà quảng cáo, {{ blockAccounts }}", "To stop seeing content from an advertiser, {{ blockAccounts }}", "app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyText", undefined, true),{blockAccounts:(0,m.jsx)(p.Z,{id:"ad-reasons-block-accounts",children:(0,m.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,m.jsx)(l.rU,{display:"inline",href:u.K_,onClick:()=>{C({event_type:101,component:13756,element:12058})},target:"blank",underline:"hover",children:k.bt("tìm hiểu cách chặn tài khoản", "learn how to block accounts", "app.common.react.components.PinRep.components.AdReasonsModal.blockAccountLink", undefined, true)})},"ad-reasons-block-accounts")})})})})]})]})]})})}var P=n(350118);const x=4,b=e=>e.bt("Nữ", "Female", "waista.modal.attribute.female", undefined, true),S=e=>e.bt("Nam", "Male", "waista.modal.attribute.male", undefined, true),T=e=>e.bt("Web", "Web", "waista.modal.attribute.web", undefined, true),w=e=>e.bt("Web di động", "Mobile Web", "waista.modal.attribute.mWeb", undefined, true);function A(e,i){return"FEMALE"===e?b(i):"MALE"===e?S(i):""}function I(e,i){return"AppType_WEB"===e||"AppType_WEB_DENZEL"===e?T(i):"AppType_WEB_MOBILE"===e?w(i):""}function E(e,i){var n;const{name:t=""}=null!==(n=e.find((e=>e.key===i)))&&void 0!==n?n:{};return t}function R({pinId:e,onDismiss:i}){var n,l,c,d,_;const{logContextEvent:u}=(0,o.v)(),{locale:p}=(0,a.B)(),{country:h=""}=(0,r.Z)(),g=(0,s.Z)({name:"CountriesResource",options:{hasEmptyState:!0}}),f=(0,s.Z)({name:"LocalesResource"}),v=(0,P.S6)()(e);(0,t.useEffect)((()=>{u({event_type:120,component:13756})}),[u]);const{ad_targeting_attribution:b,promoter:S}=null!=v?v:{},{is_customer_list_matched:T=!1,is_shopping_retargeting_matched:w=!1,is_actalike_matched:A=!1,is_engagement_matched:I=!1,is_expand_targeting_matched:R=!1,is_from_gps_location:C=!1,is_visitor_matched:k=!1,matched_age_bucket:j="",matched_locale:O="",matched_interest:N="",matched_gender:D="",matched_device:z="",geo_region:B="",geo_postal_code:L=""}=null!==(n=function(e=null,i=x){return e&&Object.keys(e).filter((i=>"boolean"==typeof e[i]||"string"==typeof e[i])).slice(0,i).reduce(((i,n)=>({...i,[n]:e[n]})),{})}(b))&&void 0!==n?n:{},M=null!==(l=null==S?void 0:S.full_name)&&void 0!==l?l:"",Z=function(e,i){var n;const{name:t=""}=null!==(n=e.find((e=>e.key===i)))&&void 0!==n?n:{};return t}(null!==(c=g.data)&&void 0!==c?c:[],h),G=E(null!==(d=f.data)&&void 0!==d?d:[],p),F=null!==(_=null==S?void 0:S.username)&&void 0!==_?_:"";return(0,m.jsx)(y,{brandName:M,userName:F,country:Z,language:G,ageBucketMatch:j,localeMatch:O,interestMatch:N,genderMatch:D,deviceMatch:z,isCustomerListMatched:T,isShoppingTargetingRematched:w,isActAlikeMatched:A,isEngagementMatched:I,isExpandTargetingMatched:R,isFromGPSLocation:C,isVisitorMatched:k,onDismiss:i,geoRegion:B,geoPostalCode:L})}},62700:(e,i,n)=>{n.d(i,{Z:()=>p});var t=n(883119),o=n(243943),a=n(35495),s=n(407043),r=n(898781),l=n(287072),c=n(605028),d=n(66699),_=n(576440),u=n(785893);function p({sizing:e="default",children:i,collageChipId:n,componentType:p,contextLogData:h,elementType:m,pin:g,viewParameter:f,viewType:v}){const y=(0,r.ZP)(),{logContextEvent:P}=(0,s.v)(),x=(0,_.E)(),{carousel_data:b,id:S}=g,{isLeadPin:T}=(0,c.Z)(g);let w,A=`/pin/${n||S}/`;const I=(0,o.Xx)();if(null!=I&&I.variantUrl&&(A=`/pin/${I.variantUrl}/`),b){const{carousel_slots:e=[],id:i,index:n=0}=b;A=`/pin/${S}/`,w={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:i,carousel_slot_index:n}}w={...w||{},...(0,a.Kl)(g,h)||{}};const E=(0,l.Z)({href:A,externalData:{auxData:w,pin:g}});return(0,u.jsx)(t.iP,{accessibilityLabel:(0,d.Z)(y.bt("Trang Ghim {{ pinTitle }}", "{{ pinTitle }} pin page", "pinRep.closeupLink.tapArea.accessibilityLabel", undefined, true),{pinTitle:g.grid_title||g.title||g.description||""}),mouseCursor:"zoomIn",rounding:2,onTap:({event:e,dangerouslyDisableOnNavigation:i})=>{var n,t;i(),T?(P({event_type:8948,view_type:v||x.viewType,view_parameter:f||x.viewParameter,component:null,object_id_str:g.id,aux_data:{closeup_navigation_type:"click",lead_form_id:null===(n=g.promoted_lead_form)||void 0===n?void 0:n.lead_form_id,is_lead_ad:1}}),P({event_type:12,view_type:v||x.viewType,view_parameter:f||x.viewParameter,component:null,object_id_str:g.id,aux_data:{lead_form_id:null===(t=g.promoted_lead_form)||void 0===t?void 0:t.lead_form_id,is_lead_ad:1,...(0,a.Kl)(g)||{}}})):(P({event_type:101,component:p||x.componentType,element:m,object_id_str:S,view_type:v||x.viewType,view_parameter:f||x.viewParameter,aux_data:{...h,...(0,a.Kl)(g,h)||{}}}),P({event_type:8948,view_type:v||x.viewType,view_parameter:f||x.viewParameter,component:p||x.componentType,element:m,object_id_str:S,aux_data:{closeup_navigation_type:"click",...h,...(0,a.Kl)(g,h)||{}}})),E({event:e})},fullWidth:"fullSize"===e,fullHeight:"fullSize"===e,href:A,role:"link",children:i})}},841509:(e,i,n)=>{n.d(i,{Z:()=>a});var t=n(883119),o=n(785893);function a({children:e,additionalStyles:i={}}){return(0,o.jsx)(t.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...i}},"data-test-id":"contentLayer",children:e})}},337986:(e,i,n)=>{n.d(i,{Z:()=>b});var t=n(667294),o=n(616550),a=n(19121),s=n(883119),r=n(319915),l=n(241244),c=n(947599),d=n(215292),_=n(186656),u=n(898781),p=n(343341),h=n(499128),m=n(785893);function g(e){const i=(0,u.ZP)(),{onHide:n}=e,t=(0,m.jsx)(s.xv,{children:i.bt("Cảm ơn bạn đã giúp cải thiện chức năng phát hiện tín hiệu trên Pinterest!", "Thank you for helping improve signal detection on Pinterest!", "pinRep.actionBar.signalDetector.toast", undefined, true)});return(0,m.jsx)(h.ZP,{onHide:n,text:t})}const f=function({anchor:e,onDismiss:i,pinId:n,signals:o}){const r=(0,u.ZP)(),[l,c]=(0,t.useState)(0),d=(0,a.Z)(),{showOneToast:h}=(0,p.F9)();if(!d.isEmployee)return null;const f=o.map((({signal_message:e})=>({href:"#",text:null!=e?e:""}))),{background_color:v,icon_url:y,signal_id:P,signal_message:x}=o[l];return(0,m.jsx)(s.mh,{children:(0,m.jsx)(s.J2,{anchor:e,idealDirection:"right",onDismiss:i,positionRelativeToAnchor:!1,size:"lg",children:(0,m.jsxs)(s.xu,{padding:4,width:"100%",children:[o.length>1&&(0,m.jsx)(s.xu,{overflow:"scrollX",padding:1,marginBottom:4,children:(0,m.jsx)(s.mQ,{activeTabIndex:l,onChange:({event:e,activeTabIndex:i,dangerouslyDisableOnNavigation:n})=>{n(),(({activeTabIndex:e,event:i})=>{i.preventDefault(),c(e)})({activeTabIndex:i,event:e})},tabs:f})}),(0,m.jsx)(s.kC,{alignItems:"center",justifyContent:"start",children:(0,m.jsx)(s.X6,{size:"400",children:r.bt("Đã phát hiện tín hiệu:", "Signal detected:", "pinRep.actionBar.signalDetector.header", undefined, true)})}),(0,m.jsx)(s.xu,{paddingY:3,children:(0,m.jsxs)(s.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",children:[(0,m.jsx)(s.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:y?(0,m.jsx)(s.Ee,{alt:r.bt("Hiển thị tín hiệu", "Signal display", "pinRep.actionBar.signalDetector.signalAsset", undefined, true),color:"white",naturalHeight:1,naturalWidth:1,src:y}):(0,m.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:v}},height:40,width:40})}),(0,m.jsx)(s.xv,{size:"200",children:x})]})}),(0,m.jsx)(s.xu,{marginBottom:3,children:(0,m.jsx)(s.xv,{size:"200",children:r.bt("Nếu bạn cho rằng phát hiện này không chính xác, vui lòng gửi Ghim này để xem xét. Việc này sẽ giúp cải thiện Pinterest.", "If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.", "pinRep.actionBar.signalDetector.instructions", undefined, true)})}),(0,m.jsxs)(s.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,m.jsx)(s.zx,{fullWidth:!0,color:"red",size:"md",text:r.bt("Gửi để xem xét", "Send for review", "pinRep.actionBar.signalDetector.button.review", undefined, true),onClick:()=>{(0,_.Z)({url:`/v3/pins/${n}/signal_request_review/`,method:"POST",data:{signal_id:P,user:d.id}}),i(),h((({hideToast:e})=>(0,m.jsx)(g,{onHide:e})))}}),(0,m.jsx)(s.zx,{fullWidth:!0,color:"gray",size:"md",text:r.bt("Hủy", "Cancel", "pinRep.actionBar.signalDetector.button.cancel", undefined, true),onClick:i})]})]})})})};function v({signals:e,pinId:i}){const{background_color:n,icon_url:o,signal_message:a}=e[0],[_,u]=(0,t.useState)(!1),p=(0,t.useRef)();return(0,m.jsxs)(t.Fragment,{children:[(0,m.jsx)(r.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,m.jsx)(c.Z,{children:(0,m.jsx)(s.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,m.jsx)(l.Z,{children:(0,m.jsx)(d.q,{children:({hovered:e,onMouseEnter:i,onMouseLeave:t})=>(0,m.jsx)(s.iP,{onTap:()=>u((e=>!e)),rounding:"pill",onMouseEnter:i,onMouseLeave:t,children:(0,m.jsxs)(s.xu,{color:e?"dark":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:p,children:[(0,m.jsx)(s.xu,{display:"flex",width:24,height:24,rounding:"circle",color:"default",marginEnd:1,justifyContent:"center",alignItems:"center",children:(0,m.jsx)(s.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,m.jsx)(s.Ee,{alt:"",color:n,src:null!=o?o:"",naturalHeight:1,naturalWidth:1})})}),(0,m.jsx)(s.xv,{color:"inverse",size:"200",weight:"bold",children:a})]})})})})})})}),_&&p&&p.current&&(0,m.jsx)(f,{anchor:p.current,onDismiss:()=>u(!1),pinId:i,signals:e})]})}const y=({signal:e,anchor:i,setShowFlyout:n,setStore:t})=>{var o;const{hovered:a,onMouseEnter:r,onMouseLeave:l}=(0,d.Z)();return(0,m.jsx)(s.iP,{onTap:()=>(e=>{n((e=>!e)),t(e)})(e),rounding:"pill",onMouseEnter:r,onMouseLeave:l,children:(0,m.jsxs)(s.xu,{color:a?"dark":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:i,children:[(0,m.jsx)(s.xu,{display:"flex",minWidth:24,height:24,rounding:"circle",marginEnd:1,color:"default",justifyContent:"center",alignItems:"center",children:(0,m.jsx)(s.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,m.jsx)(s.Ee,{alt:"",color:e.background_color,src:null!==(o=e.icon_url)&&void 0!==o?o:"",naturalHeight:1,naturalWidth:1})})}),(0,m.jsx)(s.xv,{color:"inverse",size:"200",weight:"bold",children:e.signal_message})]})})};const P=function({anchor:e,onDismiss:i,pinId:n,signal:t}){const o=(0,u.ZP)(),r=(0,a.Z)(),{showOneToast:l}=(0,p.F9)();if(!r.isEmployee)return null;const{background_color:c,icon_url:d,signal_id:h,signal_message:f}=t;return(0,m.jsx)(s.mh,{children:(0,m.jsx)(s.J2,{anchor:e,idealDirection:"right",onDismiss:i,positionRelativeToAnchor:!1,size:"lg",children:(0,m.jsxs)(s.xu,{padding:4,width:"100%",children:[(0,m.jsx)(s.kC,{alignItems:"center",justifyContent:"start",children:(0,m.jsx)(s.X6,{size:"400",children:o.bt("Đã phát hiện tín hiệu:", "Signal detected:", "pinRep.actionBar.signalDetector.header", undefined, true)})}),(0,m.jsx)(s.xu,{paddingY:3,children:(0,m.jsxs)(s.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[(0,m.jsx)(s.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:d?(0,m.jsx)(s.Ee,{alt:o.bt("Hiển thị tín hiệu", "Signal display", "pinRep.actionBar.signalDetector.signalAsset", undefined, true),color:"white",naturalHeight:1,naturalWidth:1,src:d}):(0,m.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:c}},height:40,width:40})}),(0,m.jsx)(s.xv,{size:"200",children:f})]})}),(0,m.jsx)(s.xu,{marginBottom:3,children:(0,m.jsx)(s.xv,{size:"200",children:o.bt("Nếu bạn cho rằng phát hiện này không chính xác, vui lòng gửi Ghim này để xem xét. Việc này sẽ giúp cải thiện Pinterest.", "If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.", "pinRep.actionBar.signalDetector.instructions", undefined, true)})}),(0,m.jsxs)(s.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,m.jsx)(s.zx,{fullWidth:!0,color:"red",size:"md",text:o.bt("Gửi để xem xét", "Send for review", "pinRep.actionBar.signalDetector.button.review", undefined, true),onClick:()=>{(0,_.Z)({url:`/v3/pins/${n}/signal_request_review/`,method:"POST",data:{signal_id:h,user:r.id}}),i(),l((({hideToast:e})=>(0,m.jsx)(g,{onHide:e})))}}),(0,m.jsx)(s.zx,{fullWidth:!0,color:"gray",size:"md",text:o.bt("Hủy", "Cancel", "pinRep.actionBar.signalDetector.button.cancel", undefined, true),onClick:i})]})]})})})};function x({signals:e,pinId:i}){const[n,o]=(0,t.useState)(!1),a=(0,t.useRef)(null),[d,_]=(0,t.useState)(e[0]);return(0,m.jsxs)(t.Fragment,{children:[(0,m.jsx)(r.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,m.jsx)(c.Z,{children:(0,m.jsx)(s.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,m.jsx)(l.Z,{children:(0,m.jsx)(s.kC,{alignItems:"stretch",justifyContent:"start",children:e.map((e=>(0,m.jsx)(s.xu,{marginEnd:2,children:(0,m.jsx)(y,{signal:e,anchor:a,setShowFlyout:o,setStore:_})},e.signal_id)))})})})})}),n&&(0,m.jsx)(P,{anchor:a.current,onDismiss:()=>o(!1),pinId:i,signal:d})]})}function b({pin:e}){const i=(0,a.Z)(),{search:n}=(0,o.useLocation)(),s=(0,t.useMemo)((()=>new URLSearchParams(n)),[n]);if(!i.isEmployee)return null;const{id:r,deb_ads:l,deb_content_quality:c,deb_inclusive_product:d,deb_shopping:_,deb_trust_and_safety:u}=e;if(l)return(0,m.jsx)(v,{pinId:r,signals:l});if(c)return(0,m.jsx)(v,{pinId:r,signals:c});if(d){if("skin_tone"===s.get("type")){const e=d.filter((e=>"visual_signals_hair_pattern_v1"!==e.signal_id));return(0,m.jsx)(x,{pinId:r,signals:e})}{const e=d.filter((e=>"visual_body_analyses_v2_0"!==e.signal_id));return(0,m.jsx)(x,{pinId:r,signals:e})}}return _?(0,m.jsx)(v,{pinId:r,signals:_}):u?(0,m.jsx)(v,{pinId:r,signals:u}):null}},525199:(e,i,n)=>{n.d(i,{Z:()=>r});var t=n(883119),o=n(225692),a=n(785893);function s(e,i){return{hidden:{opacity:0,transition:i?`opacity ${i}ms ease`:void 0},visible:{opacity:1,transition:e?`opacity ${e}ms ease`:void 0}}}function r({children:e,fadeInDuration:i=0,fadeOutDuration:n=o.X,visibility:r}){return"none"!==r&&e?(0,a.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:s(i,n)[r]},children:e}):null}},43671:(e,i,n)=>{n.d(i,{ZP:()=>h});var t=n(667294),o=n(883119),a=n(407043),s=n(898781),r=n(55275),l=n(310227),c=n(841509),d=n(785893);const _={background:{base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:l.Oc,filter:"blur(10px)",opacity:1}},backdrop:{base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},feedbackOverlayContainer:{base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}}},u=["followed","related","search"],p=["pfy","pfyBoard"];function h({feedbackType:e,pin:i,hideContents:n=!1}){var h;const{logContextEvent:m}=(0,a.v)(),g=(0,s.ZP)(),[f,v]=(0,t.useState)(!1),[y,P]=(0,t.useState)(!1);(0,t.useEffect)((()=>v(!0)),[]);const x=()=>P(!0),{feedbackText:b,images:S,showFeedbackOverlay:T,undoAction:w}=i,A=S&&(null===(h=S["236x"])||void 0===h?void 0:h.url),{image:I,subTitle:E,title:R,unfollow:C}=null!=b?b:{},k=!u.includes(e),j=p.includes(e),O="Reported"===R,N=()=>{m({event_type:101,view_type:1,view_parameter:92,element:11347})};return(0,d.jsxs)(o.xu,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:l.Oc}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[(0,d.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:l.Oc}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[A&&(0,d.jsx)(c.Z,{additionalStyles:{..._.background.base,...f?_.background.blurred:{},backgroundImage:`url("${A}")`}}),(0,d.jsx)(c.Z,{additionalStyles:{..._.backdrop.base,..._.backdrop.blurred}})]}),(0,d.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{..._.feedbackOverlayContainer.base,...!T&&f?_.feedbackOverlayContainer.visible:{}}},height:"100%",padding:4,position:"relative",width:"100%",children:!n&&(0,d.jsx)(o.xu,{height:"100%",children:(0,d.jsxs)(o.xu,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216,children:[(0,d.jsx)(o.xu,{marginBottom:2,children:(0,d.jsx)(o.X6,{color:"light",size:"400",children:R})}),(0,d.jsxs)(o.xu,{display:"flex",marginBottom:1,children:[I&&(0,d.jsx)(o.xu,{marginEnd:3,children:(0,d.jsx)(o.zd,{width:I.width,height:I.height,rounding:2,wash:!0,children:(0,d.jsx)(o.Ee,{alt:E||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:I.url||""})})}),(0,d.jsx)(o.xv,{color:"light",overflow:"normal",children:E})]}),(0,d.jsxs)(t.Fragment,{children:[w&&!O&&(0,d.jsx)(o.xu,{children:(0,d.jsx)(o.iP,{onTap:w,children:(0,d.jsx)(o.xv,{color:"inverse",weight:"bold",overflow:"normal",children:g.bt("Hoàn tác", "Undo", "Text on the button to navigate to undo hiding a pin", undefined, true)})})}),(0,d.jsxs)(o.xu,{marginTop:"auto",children:[!w&&!y&&C&&!j&&(0,d.jsx)(o.zx,{fullWidth:!0,color:"white",onClick:()=>(0,r.t)(C.action,C.actionOptions,x),text:g.bt("Hủy theo dõi", "Unfollow", "Text on the button to unfollow a specific board / user", undefined, true)}),k&&(0,d.jsx)(o.zx,{role:"link",color:"white",fullWidth:!0,href:"/edit",onClick:N,text:g.bt("Điều chỉnh bảng tin", "Tune your feed", "Text on the button to navigate to homefeed control", undefined, true)})]})]})]})})})]})}},379884:(e,i,n)=>{n.d(i,{Z:()=>_});var t=n(883119),o=n(407043),a=n(898781),s=n(55275),r=n(680046),l=n(852964),c=n(814197),d=n(785893);function _({anchor:e,feedbackData:i,feedbackType:n,pinId:_,onDismiss:u,onHide:p,recommendationReason:h,viewParameter:m,viewType:g}){const{logContextEvent:f}=(0,o.v)(),v=(0,a.ZP)(),y=(e,t)=>{const o=(0,l.Z)(h),a=h&&(0,r.yl)(h),c=h&&(0,r.XZ)(h),{action:d,actionOptions:u}=(0,r.fJ)({feedbackData:i,feedbackType:n,pinId:_,recommendationReasonId:o,throughId:a,throughProperties:c,complaintReason:e});(e=>{f({event_type:101,view_type:g,view_parameter:m,element:e,component:(0,r.nb)(n)})})(t),(0,s.t)(d,u),p()},P="promoted"===n?[{text:v.bt("Không liên quan đến tôi", "Not relevant to me", "homefeed.hideReasons.reason.notRelevant", undefined, true),reason:10,elementType:1296},{text:v.bt("Tôi đã thấy Ghim quá nhiều lần", "Seen Pin too many times", "homefeed.hideReasons.reason.seenTooMany", undefined, true),reason:3,elementType:11172},{text:v.bt("Hình ảnh bị mờ hoặc do điểm ảnh", "Blurry or pixelated image", "homefeed.hideReasons.reason.lowQualityPicture", undefined, true),reason:13,elementType:10898}]:[{text:v.bt("Không liên quan đến tôi", "Not relevant to me", "homefeed.hideReasons.reason.notRelevant", undefined, true),reason:10,elementType:1296},{text:v.bt("Không phải ngôn ngữ tôi hiểu", "Not in a language I understand", "homefeed.hideReasons.reason.languageDontUnderstand", undefined, true),reason:15,elementType:11178},{text:v.bt("Tôi đã thấy Ghim quá nhiều lần", "Seen Pin too many times", "homefeed.hideReasons.reason.seenTooMany", undefined, true),reason:3,elementType:295},{text:v.bt("Hình ảnh bị mờ hoặc do điểm ảnh", "Blurry or pixelated image", "homefeed.hideReasons.reason.lowQualityPicture", undefined, true),reason:13,elementType:10898},{text:v.bt("Khác", "Other", "homefeed.hideReasons.reason.other", undefined, true),reason:8,elementType:11179}];return(0,d.jsx)(t.Lt,{anchor:e,idealDirection:"down",onDismiss:u,zIndex:c.lI,id:"pin-action-dropdown",children:(0,d.jsx)(t.Lt.Section,{label:v.bt("Bạn có chút thời gian không? Hãy cho chúng tôi biết tại sao.", "Got a moment? Tell us why.", "homefeed.hideReasons.title", undefined, true),children:P.map((({text:e,reason:i,elementType:n})=>(0,d.jsx)(t.Lt.Item,{onSelect:()=>y(i,n),option:{value:`hide-reason-${e.split(" ").join("-")}`,label:e},dataTestId:`hide-reason-${e.split(" ").join("-")}`})))})})}},685909:(e,i,n)=>{n.d(i,{Z:()=>p});var t=n(667294),o=n(294184),a=n.n(o),s=n(883119),r=n(898781),l=n(391254),c=n(927104),d=n(149230),_=n(785893);class u extends t.Component{constructor(...e){var i,n,t;super(...e),t={showBoardName:!1},(n="state")in(i=this)?Object.defineProperty(i,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[n]=t}componentDidMount(){this.timer=setTimeout((()=>{this.setState({showBoardName:!0})}),950)}componentWillUnmount(){clearTimeout(this.timer)}render(){const{showBoardName:e}=this.state,{isDenseView:i,isNewlySaved:n,name:o,shouldUseLegoStyles:r,type:u,url:p}=this.props;if(r&&i)return null;const h="boardless"===u?this.props.i18n.bt("Đã lưu vào Hồ sơ", "Saved to Profile", "Saved.render.title", undefined, true):o;let m,g;if(!n||e||r){const e=r?(0,_.jsx)(s.xv,{color:"inverse",size:"300",weight:"bold",children:h.length<=20?h:(0,c.Z)(h,20)}):(0,_.jsx)(s.X6,{color:"inverse",size:"400",lineClamp:1,children:h}),i=(0,d.Z)({url:p})?"nofollow":"none";m=p?(0,_.jsx)(s.rU,{rel:i,href:p,children:e}):e}else m=(0,_.jsx)(s.xv,{color:"inverse",children:(0,_.jsx)("span",{className:"deprecatedTextSizeXL",children:this.props.i18n.bt("Đã lưu!", "Saved!", "Indication that a pin has been saved", undefined, true)})});return n&&(g=e?"board":"saved"),(0,_.jsxs)(t.Fragment,{children:[(0,_.jsx)(l.Z,{unsafeCSS:"\n.SavedAnimation {\n  &.saved {\n    animation: SavedAnimation--down-then-right 1s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n\n  &.board {\n    animation: SavedAnimation--to-right 0.12s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n}\n\n@keyframes SavedAnimation--down-then-right {\n  0% {\n    opacity: 0;\n    transform: translateY(-24px);\n  }\n\n  33% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  80% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  100% {\n    opacity: 0;\n    transform: translateX(24px);\n  }\n}\n\n@keyframes SavedAnimation--to-right {\n  from {\n    opacity: 0;\n    transform: translateX(-16px);\n  }\n\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n"}),(0,_.jsx)("div",{"data-test-id":"savedInfo",className:!r&&a()("SavedAnimation",g),children:m})]})}}const p=function(e){const i=(0,r.ZP)();return(0,_.jsx)(u,{...e,i18n:i})}},852964:(e,i,n)=>{n.d(i,{Z:()=>o});const t={REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,EMBEDDING_BASED_BEST_PINS:173,RECOMMENDED_TOPICS:65,RECOMMENDED_GEO_INTERESTS:192,USER_SEQUENCE_INTERESTS_PINS:193,U2I_DNN_INTERESTS_PINS:196,PINNERSAGE_INTERESTS_PINS:197,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN_ENGAGEMENT:175,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,INTENTIONAL_DISTRIBUTION_RECOMMENDED_GRAPHSAGE_BOARDS:191,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,PINNABILITY_PRODUCT_PIN_EMBEDDINGS:195,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,USER_TO_CREATOR_STORY_PINS_ENGAGEMENT:176,COENGAGEMENT_STORY_PINS:172,ANNOTATION_STORY_PINS:177,DISCOVER_STREAM_DEMOGRAPHIC_FALLBACK:178,DISCOVER_STREAM_CELEBRITY:179,GRAPHSAGE_SHOPIFY_VMP_PRODUCT_PINS:180,CREATOR_BEST_IDEA_PINS:181,INTEREST_BEST_IDEA_PINS:182,NAVBOOST_STORY_PINS:183,SHOPPING_DISTRIBUTION_PINS:185,WATCH_TAB_EHQ_STORIES:186,NOTIF_LEARNED_RETRIEVAL:187,LANDING_PAGE_PIN_RECOMMENDATIONS:188,PINNERSAGE_LEARNED_EMBEDDINGS:189,TOPIC_FEED:190,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61,GRAPHSAGE_SHOPIFY_VMP_MERCHANT_ACTIVATION_PRODUCT_PINS:174,FOLLOWED_INTEREST_SEO_BESPIN_EXPORATION:184,XPIXIE_TO_PRODUCT_PINS:194};function o(e){return e&&e.reason&&t[e.reason]}},675725:(e,i,n)=>{n.d(i,{Z:()=>o});var t=n(680046);function o({feedbackType:e,pin:i,viewParameter:n}){var o,a;return(0,t.hP)({boardFollowedByMe:!(null==i||null===(o=i.board)||void 0===o||!o.followed_by_me),feedbackType:e,promotion:i&&i.promoter&&{isDownstreamPromotion:!!i.is_downstream_promotion},pinnerFollowedByMe:!(null==i||null===(a=i.pinner)||void 0===a||!a.explicitly_followed_by_me),recommendationReason:(null==i?void 0:i.recommendation_reason)&&{hasBoard:!!i.recommendation_reason.board,reason:i.recommendation_reason.reason},viewParameter:n})}},616211:(e,i,n)=>{n.d(i,{W:()=>r,Z:()=>l});var t=n(883119),o=n(898781),a=n(785893);const s={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1zm3.9 5.15l-1.75-3.53a.4.4 0 00-.71 0L10.2 8.26a2 2 0 01-1.5 1.1l-3.9.56a.4.4 0 00-.23.69l2.83 2.75a2 2 0 01.57 1.77L7.31 19a.4.4 0 00.58.42l3.5-1.83a2 2 0 011.86 0l3.48 1.83a.4.4 0 00.59-.42l-.67-3.88a2 2 0 01.57-1.77l2.83-2.75a.4.4 0 00-.22-.69l-3.9-.56a2 2 0 01-1.51-1.1z"},r={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1z"};function l({isCloseupButton:e,isDisabled:i,isFavorited:n,onTap:l,size:c}){const d=(0,o.ZP)();return e?(0,a.jsx)(t.hU,{accessibilityLabel:d.bt("Biểu tượng yêu thích", "Favorite icon", "pinRep.footer.favoriteIcon", undefined, true),dangerouslySetSvgPath:n?r:s,disabled:i,iconColor:"darkGray",onClick:l,size:"lg"}):(0,a.jsx)(t.iP,{disabled:i,onTap:l,children:(0,a.jsx)(t.JO,{accessibilityLabel:d.bt("Biểu tượng yêu thích", "Favorite icon", "pinRep.footer.favoriteIcon", undefined, true),color:"default",dangerouslySetSvgPath:n?r:s,size:c})})}},676464:(e,i,n)=>{function t(e){const i=e.split("/");return[i[2],i[1]]}function o(e,i){return!e||!e.some((e=>e.pin_type===i))}n.d(i,{E:()=>o,J:()=>t})},831539:(e,i,n)=>{n.d(i,{Z:()=>h});var t=n(883119),o=n(898781),a=n(892819),s=n(349700),r=n(561195),l=n(780280),c=n(941646),d=n(474236),_=n(785893);const u=({rating:e,textSize:i,type:n})=>{if("single"===n){const n=parseFloat(e);return Number.isNaN(n)?null:(0,_.jsxs)(t.kC,{alignItems:"center",children:[(0,_.jsx)(r.A,{fill:"full",width:12}),(0,_.jsx)(t.xv,{size:i,children:n.toFixed(1)})]})}return(0,_.jsx)(r.Z,{rating:e,width:12})},p=({bracket:e,count:i,countFormat:n,countType:r,marginStart:d,textSize:u,underline:p})=>{const{locale:h}=(0,l.B)(),m=(0,o.ZP)(),g=(0,a.Z)();if(null==i)return null;let f=g(h,i,{shortform:!0,shortform_maximum_fraction_digits:1});if("text"===n){const e="review"===r?m.nbt(["{{ count }} lượt đánh giá"], i, "webapp.app.www-unified.productStarRatings.RatingCountText", true):m.nbt(["{{ count }} lượt xếp hạng"], i, "webapp.app.www-unified.productStarRatings.RatingCountText", true);f=(0,s.nk)(e,{count:i}).join("")}return e&&(f=`(${f})`),(0,_.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:p?"1px solid gray":"none"}},marginStart:d,children:(0,_.jsx)(t.xv,{color:p?"subtle":"default",size:u,underline:p,children:(0,_.jsx)(c.Z,{id:"ratings-count-text",display:"inlineBlock",children:f})})})};function h({bracket:e,count:i,countFormat:n,countType:o,rating:a,textSize:s,underline:r}){return(0,d.Z)({count:i,rating:a})?(0,_.jsxs)(t.kC,{alignItems:"center",justifyContent:"start",children:[(0,_.jsx)(u,{rating:a,textSize:s,type:"multiple"}),(0,_.jsx)(p,{bracket:e,count:i,countFormat:n,countType:o,textSize:s,underline:r})]}):null}},474236:(e,i,n)=>{function t({count:e,rating:i}){return Boolean(i&&"None"!==i&&Number.isFinite(e))}n.d(i,{Z:()=>t})},202870:(e,i,n)=>{n.d(i,{Z:()=>c,j:()=>l});var t=n(883119),o=n(898781),a=n(349700),s=n(773285),r=n(785893);const l=[0,2,3];function c({hasAffiliateProducts:e,href:i,isPromoted:n,onNavigateSponsorClick:c,sponsorName:d,sponsorUsername:_,sponsorshipStatus:u,textWeight:p="bold"}){const h=(0,o.ZP)(),m=(0,s.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,g=(0,s.F)().checkExperiment("web_remove_paid_partnership_in_rejected_state").anyEnabled,f=i||(_?`/${_}/`:null),v=f&&d?(0,r.jsx)(t.rU,{href:f,onClick:c,children:(0,r.jsx)(t.xv,{weight:p,size:"200",children:d})},d):void 0;let y;n?y=(0,a.nk)(h.bt("Được quảng cáo bởi {{ name }}", "Promoted by {{ name }}", "sponsorship.sponsorshipText.promotedByBrand", undefined, true),{name:v}):u||0===u?d&&!l.includes(u)?y=(0,a.nk)(h.bt("Đối tác trả phí với {{ name }}", "Paid partnership with {{ name }}", "closeup.creator.sponsoredPinTitle", undefined, true),{name:v}):g&&2===u||(y=h.bt("Quan hệ đối tác trả phí", "Paid partnership", "closeup.creator.sponsoredPinTitle", undefined, true)):e&&(y=h.bt("Có các sản phẩm được tài trợ", "Includes sponsored products", "sponsorship.sponsorshipText.affiliatedProducts", undefined, true));const P=m&&!n?"Ad • ":"";return(0,r.jsxs)(t.xv,{inline:!0,size:"200",lineClamp:2,children:[P,y]})}},966676:(e,i,n)=>{n.d(i,{Nb:()=>r,Of:()=>l,YO:()=>s,ZP:()=>_,x4:()=>d});var t=n(667294),o=n(620707),a=n(92261);const s=({showProductDetailPage:e,isLargerPane:i,showCloseupContentRight:n})=>e&&i?n?a.Uj:a.zT:1,r=(0,o.qe)((({paneWidth:e,pdpCarouselSlotToPaneRatio:i,showCloseupContentRight:n,showProductDetailPage:t,viewportSize:o,maxWidth:a,descriptionPaneWidth:s})=>({paneWidth:e,pdpCarouselSlotToPaneRatio:i,showCloseupContentRight:n,showProductDetailPage:t,viewportSize:o,maxWidth:a,descriptionPaneWidth:s}))),l={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:a.Gg,pdpCarouselSlotToPaneRatio:1,maxWidth:a.u6,descriptionPaneWidth:a.u6-a.Gg},c=(0,t.createContext)(l);function d(){const e=(0,t.useContext)(c);if(!e)throw new Error("useCloseupContext must be used within CloseupContextProvider");return e}const _=c},92261:(e,i,n)=>{n.d(i,{$T:()=>g,CI:()=>a,Ch:()=>r,Gb:()=>l,Gg:()=>t,Ie:()=>u,KP:()=>p,Kn:()=>s,Uj:()=>c,bx:()=>h,d2:()=>_,g9:()=>m,iB:()=>f,u6:()=>o,zT:()=>d});const t=508,o=2*t,a=488,s=992,r=672,l=1176,c=.6,d=.84,_=40,u=72,p=740,h=912,m=32,g=24,f={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},538232:(e,i,n)=>{n.d(i,{R:()=>a,q:()=>o});var t=n(425288);const{Provider:o,useHook:a}=(0,t.Z)("CloseupPageContext")},95551:(e,i,n)=>{n.d(i,{Z:()=>r});var t=n(883119),o=n(898781),a=n(780280),s=n(785893);const r=({onSendButtonClick:e,trackShareTap:i,color:n,size:r,bgColor:l})=>{const c=(0,o.ZP)(),{userAgent:{platform:d}}=(0,a.B)(),_="android"===d;return(0,s.jsx)(t.hU,{accessibilityLabel:c.bt("Gửi", "Send", "Board.Pin.SendButton", undefined, true),onClick:({event:n})=>{e(n),i()},size:r||"lg",bgColor:l||"transparent",iconColor:n||"darkGray",icon:_?"android-share":"share"})}},356725:(e,i,n)=>{n.r(i),n.d(i,{default:()=>h});var t=n(702664),o=n(883119),a=n(834911),s=n(35495),r=n(407043),l=n(966676),c=n(447948),d=n(350118),_=n(785893);const u=(e,i,n,t=0,o,a,r,l,c,d,_)=>{if(!_){const{carousel_slots:_,id:u}=a;e({event_type:108,object_id_str:n,component:c,view_type:l,view_parameter:r,event_data:{pinCarouselSlotEventData:{carouselSlotId:(null==_?void 0:_[t])&&Number(_[t].id),carouselDataId:Number(u),carouselSlotIndex:t,toCarouselSlotIndex:o}},aux_data:{...d,...(0,s.Kl)(i)||{}}})}},p=8;function h({carouselData:e,carouselIndex:i,componentType:n,contextLogData:s,handleCarouselSwipe:h,isCloseup:m,isEditMode:g,pinId:f,viewParameter:v,viewType:y,variant:P}){const{logContextEvent:x}=(0,r.v)(),b=(0,d.S6)()(f),S=e||(0,a.Z)({carouselData:null==b?void 0:b.carousel_data,images:null==b?void 0:b.images,richMetadata:null==b?void 0:b.rich_metadata,richSummary:null==b?void 0:b.rich_summary}),T=(0,t.useDispatch)();if(!S)return null;const{carousel_slots:w=[],index:A}=S,I=void 0!==i?i:A,E="default"===P,R=E?"white":"#555",C=E?"rgba(255, 255, 255, 0.5)":"lightGray";return(0,_.jsx)(l.ZP.Consumer,{children:({viewportSize:e})=>"sm"===e?null:(0,_.jsx)(o.xu,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:m?"end":"center",paddingY:g?1:0,children:[...Array(w.length).keys()].map((e=>{var i;return(0,_.jsx)(o.xu,{paddingX:1,children:(0,_.jsx)(o.iP,{accessibilityLabel:null!==(i=w[e].title)&&void 0!==i?i:"",fullWidth:!1,onTap:({event:i})=>((e,i,t)=>{g||void 0===c.yR||(e.preventDefault(),e.stopPropagation(),T((0,c.yR)(String(f),t))),void 0!==h&&h(t),u(x,b,f,i,t,S,v,y,n,s,g)})(i,I,e),rounding:"circle",children:(0,_.jsx)(o.xu,{"data-test-id":"ellipsis-size",height:p,width:p,dangerouslySetInlineStyle:{__style:{backgroundColor:e===I?R:C}},rounding:"circle"})})},f+e)}))})})}},990823:(e,i,n)=>{n.d(i,{ZP:()=>r,tY:()=>c,Yh:()=>l});var t=n(702664),o=n(784590),a=n(19121);const s={SAVE_TO_PROFILE:0,SHOW_BOARD_PICKER:1};function r(e){var i;const n=(0,a.Z)(),t=n.isAuth&&n.id===e,s=(0,o.Z)(!n.isAuth||t?null:{name:"UserResource",options:{field_set_key:"quicksave",user_id:e}});return{showEnabledSaveBehavior:t&&n.has_quicksave_board||!(!n.isAuth||null===(i=(null!=s?s:{}).data)||void 0===i||!i.has_quicksave_board)}}function l(e){var i;const n=(0,t.useDispatch)(),s=(0,a.Z)(),r=s.isAuth&&!!s.boardCount&&s.boardCount<5&&e,l=(0,o.Z)(r&&e?{name:"UserResource",options:{field_set_key:"save_behavior",user_id:s.isAuth&&s.id}}:null);return s.isAuth&&void 0===s.save_behavior&&l&&null!==(i=l.data)&&void 0!==i&&i.id&&n({type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:l.data.save_behavior}}),{showEnabledSaveBehavior:r}}function c(e){const i=(0,a.Z)();let n;return e&&(i.save_behavior===s.SAVE_TO_PROFILE?n={type:"classic"}:i.save_behavior===s.SHOW_BOARD_PICKER&&(n={type:"inline"})),{saveBehaviorType:n}}},436395:(e,i,n)=>{n.d(i,{Z:()=>a});var t=n(616550),o=n(784590);function a(){const{username:e}=(0,t.useParams)();return(0,o.Z)(null==e?null:{name:"UserResource",options:{username:e,field_set_key:"profile"}})}},447948:(e,i,n)=>{function t(e,i){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:i}}}function o(e,i){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:i}}}function a(e,i,n,t,o){return{type:"PIN_SAVE",payload:{id:e,boardId:i,title:n,url:t,localPinId:o}}}function s(e){return{type:"PIN_UNSAVE",payload:{id:e}}}function r(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function l({id:e,text:i,undoAction:n,undoActionOptions:t,undoText:o}){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:i,undoAction:n,undoActionOptions:t,undoText:o}}}function c(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function d(e,i){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:i}}}function _(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function u(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function p(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function h(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}n.d(i,{Gb:()=>s,I1:()=>c,Ib:()=>_,NA:()=>l,Ur:()=>a,Vw:()=>r,b9:()=>p,i0:()=>u,mO:()=>o,q1:()=>d,yR:()=>t,yj:()=>h})},852025:(e,i,n)=>{n.d(i,{k:()=>a,s:()=>s});var t=n(667294);const o=(0,t.createContext)(Object.freeze({})),a=o.Provider;function s(){return(0,t.useContext)(o)}},596493:(e,i,n)=>{n.d(i,{Ac:()=>a,c7:()=>o,cg:()=>t});const t=-1,o=5,a=6}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/60568.vi_VN-e7a8619823d6ca05.mjs.map